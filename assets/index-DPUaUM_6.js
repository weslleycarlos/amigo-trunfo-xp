import{createClient as hv}from"https://esm.sh/@supabase/supabase-js@2.47.10";import{toPng as Da}from"https://esm.sh/html-to-image@1.11.11";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function Oh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fu={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function gv(){if(Xp)return tl;Xp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:c}}return tl.Fragment=t,tl.jsx=l,tl.jsxs=l,tl}var Kp;function yv(){return Kp||(Kp=1,fu.exports=gv()),fu.exports}var T=yv(),du={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function vv(){if(Qp)return fe;Qp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function x(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function P(b,z,Z){this.props=b,this.context=z,this.refs=w,this.updater=Z||U}P.prototype.isReactComponent={},P.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Y(){}Y.prototype=P.prototype;function H(b,z,Z){this.props=b,this.context=z,this.refs=w,this.updater=Z||U}var F=H.prototype=new Y;F.constructor=H,k(F,P.prototype),F.isPureReactComponent=!0;var X=Array.isArray;function Q(){}var O={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function K(b,z,Z){var ee=Z.ref;return{$$typeof:i,type:b,key:z,ref:ee!==void 0?ee:null,props:Z}}function se(b,z){return K(b.type,z,b.props)}function ge(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function Ce(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return z[Z]})}var pe=/\/+/g;function Ee(b,z){return typeof b=="object"&&b!==null&&b.key!=null?Ce(""+b.key):z.toString(36)}function ke(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Q,Q):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function M(b,z,Z,ee,ue){var he=typeof b;(he==="undefined"||he==="boolean")&&(b=null);var Ae=!1;if(b===null)Ae=!0;else switch(he){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(b.$$typeof){case i:case t:Ae=!0;break;case v:return Ae=b._init,M(Ae(b._payload),z,Z,ee,ue)}}if(Ae)return ue=ue(b),Ae=ee===""?"."+Ee(b,0):ee,X(ue)?(Z="",Ae!=null&&(Z=Ae.replace(pe,"$&/")+"/"),M(ue,z,Z,"",function(jt){return jt})):ue!=null&&(ge(ue)&&(ue=se(ue,Z+(ue.key==null||b&&b.key===ue.key?"":(""+ue.key).replace(pe,"$&/")+"/")+Ae)),z.push(ue)),1;Ae=0;var et=ee===""?".":ee+":";if(X(b))for(var Ve=0;Ve<b.length;Ve++)ee=b[Ve],he=et+Ee(ee,Ve),Ae+=M(ee,z,Z,he,ue);else if(Ve=x(b),typeof Ve=="function")for(b=Ve.call(b),Ve=0;!(ee=b.next()).done;)ee=ee.value,he=et+Ee(ee,Ve++),Ae+=M(ee,z,Z,he,ue);else if(he==="object"){if(typeof b.then=="function")return M(ke(b),z,Z,ee,ue);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function J(b,z,Z){if(b==null)return b;var ee=[],ue=0;return M(b,ee,"","",function(he){return z.call(Z,he,ue++)}),ee}function W(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var j=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},ae={map:J,forEach:function(b,z,Z){J(b,function(){z.apply(this,arguments)},Z)},count:function(b){var z=0;return J(b,function(){z++}),z},toArray:function(b){return J(b,function(z){return z})||[]},only:function(b){if(!ge(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return fe.Activity=S,fe.Children=ae,fe.Component=P,fe.Fragment=l,fe.Profiler=r,fe.PureComponent=H,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,fe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return O.H.useMemoCache(b)}},fe.cache=function(b){return function(){return b.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(b,z,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ee=k({},b.props),ue=b.key;if(z!=null)for(he in z.key!==void 0&&(ue=""+z.key),z)!ie.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(ee[he]=z[he]);var he=arguments.length-2;if(he===1)ee.children=Z;else if(1<he){for(var Ae=Array(he),et=0;et<he;et++)Ae[et]=arguments[et+2];ee.children=Ae}return K(b.type,ue,ee)},fe.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},fe.createElement=function(b,z,Z){var ee,ue={},he=null;if(z!=null)for(ee in z.key!==void 0&&(he=""+z.key),z)ie.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ue[ee]=z[ee]);var Ae=arguments.length-2;if(Ae===1)ue.children=Z;else if(1<Ae){for(var et=Array(Ae),Ve=0;Ve<Ae;Ve++)et[Ve]=arguments[Ve+2];ue.children=et}if(b&&b.defaultProps)for(ee in Ae=b.defaultProps,Ae)ue[ee]===void 0&&(ue[ee]=Ae[ee]);return K(b,he,ue)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(b){return{$$typeof:g,render:b}},fe.isValidElement=ge,fe.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:W}},fe.memo=function(b,z){return{$$typeof:h,type:b,compare:z===void 0?null:z}},fe.startTransition=function(b){var z=O.T,Z={};O.T=Z;try{var ee=b(),ue=O.S;ue!==null&&ue(Z,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Q,j)}catch(he){j(he)}finally{z!==null&&Z.types!==null&&(z.types=Z.types),O.T=z}},fe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},fe.use=function(b){return O.H.use(b)},fe.useActionState=function(b,z,Z){return O.H.useActionState(b,z,Z)},fe.useCallback=function(b,z){return O.H.useCallback(b,z)},fe.useContext=function(b){return O.H.useContext(b)},fe.useDebugValue=function(){},fe.useDeferredValue=function(b,z){return O.H.useDeferredValue(b,z)},fe.useEffect=function(b,z){return O.H.useEffect(b,z)},fe.useEffectEvent=function(b){return O.H.useEffectEvent(b)},fe.useId=function(){return O.H.useId()},fe.useImperativeHandle=function(b,z,Z){return O.H.useImperativeHandle(b,z,Z)},fe.useInsertionEffect=function(b,z){return O.H.useInsertionEffect(b,z)},fe.useLayoutEffect=function(b,z){return O.H.useLayoutEffect(b,z)},fe.useMemo=function(b,z){return O.H.useMemo(b,z)},fe.useOptimistic=function(b,z){return O.H.useOptimistic(b,z)},fe.useReducer=function(b,z,Z){return O.H.useReducer(b,z,Z)},fe.useRef=function(b){return O.H.useRef(b)},fe.useState=function(b){return O.H.useState(b)},fe.useSyncExternalStore=function(b,z,Z){return O.H.useSyncExternalStore(b,z,Z)},fe.useTransition=function(){return O.H.useTransition()},fe.version="19.2.3",fe}var Zp;function Lu(){return Zp||(Zp=1,du.exports=vv()),du.exports}var ne=Lu();const Ev=Oh(ne);var pu={exports:{}},nl={},mu={exports:{}},hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Sv(){return $p||($p=1,(function(i){function t(M,J){var W=M.length;M.push(J);e:for(;0<W;){var j=W-1>>>1,ae=M[j];if(0<r(ae,J))M[j]=J,M[W]=ae,W=j;else break e}}function l(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var J=M[0],W=M.pop();if(W!==J){M[0]=W;e:for(var j=0,ae=M.length,b=ae>>>1;j<b;){var z=2*(j+1)-1,Z=M[z],ee=z+1,ue=M[ee];if(0>r(Z,W))ee<ae&&0>r(ue,Z)?(M[j]=ue,M[ee]=W,j=ee):(M[j]=Z,M[z]=W,j=z);else if(ee<ae&&0>r(ue,W))M[j]=ue,M[ee]=W,j=ee;else break e}}return J}function r(M,J){var W=M.sortIndex-J.sortIndex;return W!==0?W:M.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,S=null,_=3,x=!1,U=!1,k=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(M){for(var J=l(h);J!==null;){if(J.callback===null)a(h);else if(J.startTime<=M)a(h),J.sortIndex=J.expirationTime,t(y,J);else break;J=l(h)}}function X(M){if(k=!1,F(M),!U)if(l(y)!==null)U=!0,Q||(Q=!0,Ce());else{var J=l(h);J!==null&&ke(X,J.startTime-M)}}var Q=!1,O=-1,ie=5,K=-1;function se(){return w?!0:!(i.unstable_now()-K<ie)}function ge(){if(w=!1,Q){var M=i.unstable_now();K=M;var J=!0;try{e:{U=!1,k&&(k=!1,Y(O),O=-1),x=!0;var W=_;try{t:{for(F(M),S=l(y);S!==null&&!(S.expirationTime>M&&se());){var j=S.callback;if(typeof j=="function"){S.callback=null,_=S.priorityLevel;var ae=j(S.expirationTime<=M);if(M=i.unstable_now(),typeof ae=="function"){S.callback=ae,F(M),J=!0;break t}S===l(y)&&a(y),F(M)}else a(y);S=l(y)}if(S!==null)J=!0;else{var b=l(h);b!==null&&ke(X,b.startTime-M),J=!1}}break e}finally{S=null,_=W,x=!1}J=void 0}}finally{J?Ce():Q=!1}}}var Ce;if(typeof H=="function")Ce=function(){H(ge)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ee=pe.port2;pe.port1.onmessage=ge,Ce=function(){Ee.postMessage(null)}}else Ce=function(){P(ge,0)};function ke(M,J){O=P(function(){M(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(M){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var W=_;_=J;try{return M()}finally{_=W}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=_;_=M;try{return J()}finally{_=W}},i.unstable_scheduleCallback=function(M,J,W){var j=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,M){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,M={id:v++,callback:J,priorityLevel:M,startTime:W,expirationTime:ae,sortIndex:-1},W>j?(M.sortIndex=W,t(h,M),l(y)===null&&M===l(h)&&(k?(Y(O),O=-1):k=!0,ke(X,W-j))):(M.sortIndex=ae,t(y,M),U||x||(U=!0,Q||(Q=!0,Ce()))),M},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(M){var J=_;return function(){var W=_;_=J;try{return M.apply(this,arguments)}finally{_=W}}}})(hu)),hu}var Wp;function _v(){return Wp||(Wp=1,mu.exports=Sv()),mu.exports}var gu={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Tv(){if(jp)return at;jp=1;var i=Lu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,at.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,v)},at.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},at.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},at.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},at.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:x}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},at.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},at.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},at.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},at.requestFormReset=function(y){a.d.r(y)},at.unstable_batchedUpdates=function(y,h){return y(h)},at.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},at.useFormStatus=function(){return p.H.useHostTransitionStatus()},at.version="19.2.3",at}var em;function Cv(){if(em)return gu.exports;em=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=Tv(),gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function xv(){if(tm)return nl;tm=1;var i=_v(),t=Lu(),l=Cv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=m;else{for(var E=!1,C=d.child;C;){if(C===o){E=!0,o=d,s=m;break}if(C===s){E=!0,s=d,o=m;break}C=C.sibling}if(!E){for(C=m.child;C;){if(C===o){E=!0,o=m,s=d;break}if(C===s){E=!0,s=m,o=d;break}C=C.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case P:return"Profiler";case w:return"StrictMode";case X:return"Suspense";case Q:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case H:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Ee(e.type)||"Memo";case ie:n=e._payload,e=e._init;try{return Ee(e(n))}catch{}}return null}var ke=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},j=[],ae=-1;function b(e){return{current:e}}function z(e){0>ae||(e.current=j[ae],j[ae]=null,ae--)}function Z(e,n){ae++,j[ae]=e.current,e.current=n}var ee=b(null),ue=b(null),he=b(null),Ae=b(null);function et(e,n){switch(Z(he,n),Z(ue,e),Z(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gp(n),e=yp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ee),Z(ee,e)}function Ve(){z(ee),z(ue),z(he)}function jt(e){e.memoizedState!==null&&Z(Ae,e);var n=ee.current,o=yp(n,e.type);n!==o&&(Z(ue,e),Z(ee,o))}function Ze(e){ue.current===e&&(z(ee),z(ue)),Ae.current===e&&(z(Ae),$o._currentValue=W)}var Xa,Yu;function Kn(e){if(Xa===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Xa=n&&n[1]||"",Yu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+e+Yu}var Ka=!1;function Qa(e,n){if(!e||Ka)return"";Ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(G){var L=G}Reflect.construct(e,[],B)}else{try{B.call()}catch(G){L=G}e.call(B.prototype)}}else{try{throw Error()}catch(G){L=G}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(G){if(G&&L&&typeof G.stack=="string")return[G.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),E=m[0],C=m[1];if(E&&C){var A=E.split(`
`),I=C.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===I.length)for(s=A.length-1,d=I.length-1;1<=s&&0<=d&&A[s]!==I[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==I[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==I[d]){var q=`
`+A[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{Ka=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Kn(o):""}function Jg(e,n){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return e.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Qa(e.type,!1);case 11:return Qa(e.type.render,!1);case 1:return Qa(e.type,!0);case 31:return Kn("Activity");default:return""}}function Ju(e){try{var n="",o=null;do n+=Jg(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Za=Object.prototype.hasOwnProperty,$a=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,Xg=i.unstable_shouldYield,Kg=i.unstable_requestPaint,St=i.unstable_now,Qg=i.unstable_getCurrentPriorityLevel,Xu=i.unstable_ImmediatePriority,Ku=i.unstable_UserBlockingPriority,al=i.unstable_NormalPriority,Zg=i.unstable_LowPriority,Qu=i.unstable_IdlePriority,$g=i.log,Wg=i.unstable_setDisableYieldValue,ro=null,_t=null;function Tn(e){if(typeof $g=="function"&&Wg(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(ro,e)}catch{}}var Tt=Math.clz32?Math.clz32:t0,jg=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(jg(e)/e0|0)|0}var sl=256,rl=262144,ul=4194304;function Qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~m,s!==0?d=Qn(s):(E&=C,E!==0?d=Qn(E):o||(o=C&~e,o!==0&&(d=Qn(o))))):(C=s&~m,C!==0?d=Qn(C):E!==0?d=Qn(E):o||(o=s&~e,o!==0&&(d=Qn(o)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:d}function uo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function n0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function ja(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function co(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i0(e,n,o,s,d,m){var E=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(o=E&~o;0<o;){var q=31-Tt(o),B=1<<q;C[q]=0,A[q]=-1;var L=I[q];if(L!==null)for(I[q]=null,q=0;q<L.length;q++){var G=L[q];G!==null&&(G.lane&=-536870913)}o&=~B}s!==0&&$u(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(E&~n))}function $u(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Wu(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Tt(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function ju(e,n){var o=n&-n;return o=(o&42)!==0?1:es(o),(o&(e.suspendedLanes|n))!==0?0:o}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function tc(e,n){var o=J.p;try{return J.p=e,n()}finally{J.p=o}}var Cn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Cn,pt="__reactProps$"+Cn,gi="__reactContainer$"+Cn,ns="__reactEvents$"+Cn,o0="__reactListeners$"+Cn,l0="__reactHandles$"+Cn,nc="__reactResources$"+Cn,fo="__reactMarker$"+Cn;function is(e){delete e[tt],delete e[pt],delete e[ns],delete e[o0],delete e[l0]}function yi(e){var n=e[tt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[gi]||o[tt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=xp(e);e!==null;){if(o=e[tt])return o;e=xp(e)}return n}e=o,o=e.parentNode}return null}function vi(e){if(e=e[tt]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function po(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ei(e){var n=e[nc];return n||(n=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $e(e){e[fo]=!0}var ic=new Set,oc={};function Zn(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(oc[e]=n,e=0;e<n.length;e++)ic.add(n[e])}var a0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},ac={};function s0(e){return Za.call(ac,e)?!0:Za.call(lc,e)?!1:a0.test(e)?ac[e]=!0:(lc[e]=!0,!1)}function fl(e,n,o){if(s0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function dl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function en(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function r0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function os(e){if(!e._valueTracker){var n=sc(e)?"checked":"value";e._valueTracker=r0(e,n,""+e[n])}}function rc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=sc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u0=/[\n"\\]/g;function Dt(e){return e.replace(u0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ls(e,n,o,s,d,m,E,C){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wt(n)):e.value!==""+wt(n)&&(e.value=""+wt(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?as(e,E,wt(n)):o!=null?as(e,E,wt(o)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+wt(C):e.removeAttribute("name")}function uc(e,n,o,s,d,m,E,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){os(e);return}o=o!=null?""+wt(o):"",n=n!=null?""+wt(n):o,C||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),os(e)}function as(e,n,o){n==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function _i(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+wt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function cc(e,n,o){if(n!=null&&(n=""+wt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+wt(o):""}function fc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ke(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=wt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),os(e)}function Ti(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var c0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||c0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function pc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&dc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&dc(e,m,n[m])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return d0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tn(){}var rs=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,xi=null;function mc(e){var n=vi(e);if(n&&(e=n.stateNode)){var o=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ls(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[pt]||null;if(!d)throw Error(a(90));ls(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&rc(s)}break e;case"textarea":cc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&_i(e,!!o.multiple,n,!1)}}}var cs=!1;function hc(e,n,o){if(cs)return e(n,o);cs=!0;try{var s=e(n);return s}finally{if(cs=!1,(Ci!==null||xi!==null)&&(ta(),Ci&&(n=Ci,e=xi,xi=Ci=null,mc(n),e)))for(n=0;n<e.length;n++)mc(e[n])}}function mo(e,n){var o=e.stateNode;if(o===null)return null;var s=o[pt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(nn)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){fs=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{fs=!1}var xn=null,ds=null,hl=null;function gc(){if(hl)return hl;var e,n=ds,o=n.length,s,d="value"in xn?xn.value:xn.textContent,m=d.length;for(e=0;e<o&&n[e]===d[e];e++);var E=o-e;for(s=1;s<=E&&n[o-s]===d[m-s];s++);return hl=d.slice(e,1<s?1-s:void 0)}function gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function yc(){return!1}function mt(e){function n(o,s,d,m,E){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yl:yc,this.isPropagationStopped=yc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),n}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=mt($n),go=S({},$n,{view:0,detail:0}),p0=mt(go),ps,ms,yo,El=S({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(ps=e.screenX-yo.screenX,ms=e.screenY-yo.screenY):ms=ps=0,yo=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),vc=mt(El),m0=S({},El,{dataTransfer:0}),h0=mt(m0),g0=S({},go,{relatedTarget:0}),hs=mt(g0),y0=S({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=mt(y0),E0=S({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S0=mt(E0),_0=S({},$n,{data:0}),Ec=mt(_0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=x0[e])?!!n[e]:!1}function gs(){return A0}var b0=S({},go,{key:function(e){if(e.key){var n=T0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=mt(b0),M0=S({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=mt(M0),R0=S({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),w0=mt(R0),D0=S({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=mt(D0),U0=S({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L0=mt(U0),G0=S({},$n,{newState:0,oldState:0}),k0=mt(G0),H0=[9,13,27,32],ys=nn&&"CompositionEvent"in window,vo=null;nn&&"documentMode"in document&&(vo=document.documentMode);var q0=nn&&"TextEvent"in window&&!vo,_c=nn&&(!ys||vo&&8<vo&&11>=vo),Tc=" ",Cc=!1;function xc(e,n){switch(e){case"keyup":return H0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function z0(e,n){switch(e){case"compositionend":return Ac(n);case"keypress":return n.which!==32?null:(Cc=!0,Tc);case"textInput":return e=n.data,e===Tc&&Cc?null:e;default:return null}}function V0(e,n){if(Ai)return e==="compositionend"||!ys&&xc(e,n)?(e=gc(),hl=ds=xn=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _c&&n.locale!=="ko"?null:n.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P0[e.type]:n==="textarea"}function Nc(e,n,o,s){Ci?xi?xi.push(s):xi=[s]:Ci=s,n=ra(n,"onChange"),0<n.length&&(o=new vl("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Eo=null,So=null;function B0(e){cp(e,0)}function Sl(e){var n=po(e);if(rc(n))return e}function Mc(e,n){if(e==="change")return n}var Rc=!1;if(nn){var vs;if(nn){var Es="oninput"in document;if(!Es){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),Es=typeof wc.oninput=="function"}vs=Es}else vs=!1;Rc=vs&&(!document.documentMode||9<document.documentMode)}function Dc(){Eo&&(Eo.detachEvent("onpropertychange",Ic),So=Eo=null)}function Ic(e){if(e.propertyName==="value"&&Sl(So)){var n=[];Nc(n,So,e,us(e)),hc(B0,n)}}function O0(e,n,o){e==="focusin"?(Dc(),Eo=n,So=o,Eo.attachEvent("onpropertychange",Ic)):e==="focusout"&&Dc()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(So)}function Y0(e,n){if(e==="click")return Sl(n)}function J0(e,n){if(e==="input"||e==="change")return Sl(n)}function X0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ct=typeof Object.is=="function"?Object.is:X0;function _o(e,n){if(Ct(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Za.call(n,d)||!Ct(e[d],n[d]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var o=Uc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uc(o)}}function Gc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=pl(e.document)}return n}function Ss(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var K0=nn&&"documentMode"in document&&11>=document.documentMode,bi=null,_s=null,To=null,Ts=!1;function Hc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ts||bi==null||bi!==pl(s)||(s=bi,"selectionStart"in s&&Ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),To&&_o(To,s)||(To=s,s=ra(_s,"onSelect"),0<s.length&&(n=new vl("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=bi)))}function Wn(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ni={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Cs={},qc={};nn&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function jn(e){if(Cs[e])return Cs[e];if(!Ni[e])return e;var n=Ni[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in qc)return Cs[e]=n[o];return e}var zc=jn("animationend"),Vc=jn("animationiteration"),Pc=jn("animationstart"),Q0=jn("transitionrun"),Z0=jn("transitionstart"),$0=jn("transitioncancel"),Bc=jn("transitionend"),Oc=new Map,xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xs.push("scrollEnd");function Bt(e,n){Oc.set(e,n),Zn(n,[e])}var _l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Mi=0,As=0;function Tl(){for(var e=Mi,n=As=Mi=0;n<e;){var o=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var E=s.pending;E===null?d.next=d:(d.next=E.next,E.next=d),s.pending=d}m!==0&&Fc(o,d,m)}}function Cl(e,n,o,s){It[Mi++]=e,It[Mi++]=n,It[Mi++]=o,It[Mi++]=s,As|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function bs(e,n,o,s){return Cl(e,n,o,s),xl(e)}function ei(e,n){return Cl(e,null,null,n),xl(e)}function Fc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Tt(o),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),m):null}function xl(e){if(50<Fo)throw Fo=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ri={};function W0(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,n,o,s){return new W0(e,n,o,s)}function Ns(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,n){var o=e.alternate;return o===null?(o=xt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Yc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Al(e,n,o,s,d,m){var E=0;if(s=e,typeof e=="function")Ns(e)&&(E=1);else if(typeof e=="string")E=iv(e,o,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=xt(31,o,n,d),e.elementType=K,e.lanes=m,e;case k:return ti(o.children,d,m,n);case w:E=8,d|=24;break;case P:return e=xt(12,o,n,d|2),e.elementType=P,e.lanes=m,e;case X:return e=xt(13,o,n,d),e.elementType=X,e.lanes=m,e;case Q:return e=xt(19,o,n,d),e.elementType=Q,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:E=10;break e;case Y:E=9;break e;case F:E=11;break e;case O:E=14;break e;case ie:E=16,s=null;break e}E=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=xt(E,o,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function ti(e,n,o,s){return e=xt(7,e,s,n),e.lanes=o,e}function Ms(e,n,o){return e=xt(6,e,null,n),e.lanes=o,e}function Jc(e){var n=xt(18,null,null,0);return n.stateNode=e,n}function Rs(e,n,o){return n=xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xc=new WeakMap;function Ut(e,n){if(typeof e=="object"&&e!==null){var o=Xc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ju(n)},Xc.set(e,n),n)}return{value:e,source:n,stack:Ju(n)}}var wi=[],Di=0,bl=null,Co=0,Lt=[],Gt=0,An=null,Kt=1,Qt="";function ln(e,n){wi[Di++]=Co,wi[Di++]=bl,bl=e,Co=n}function Kc(e,n,o){Lt[Gt++]=Kt,Lt[Gt++]=Qt,Lt[Gt++]=An,An=e;var s=Kt;e=Qt;var d=32-Tt(s)-1;s&=~(1<<d),o+=1;var m=32-Tt(n)+d;if(30<m){var E=d-d%5;m=(s&(1<<E)-1).toString(32),s>>=E,d-=E,Kt=1<<32-Tt(n)+d|o<<d|s,Qt=m+e}else Kt=1<<m|o<<d|s,Qt=e}function ws(e){e.return!==null&&(ln(e,1),Kc(e,1,0))}function Ds(e){for(;e===bl;)bl=wi[--Di],wi[Di]=null,Co=wi[--Di],wi[Di]=null;for(;e===An;)An=Lt[--Gt],Lt[Gt]=null,Qt=Lt[--Gt],Lt[Gt]=null,Kt=Lt[--Gt],Lt[Gt]=null}function Qc(e,n){Lt[Gt++]=Kt,Lt[Gt++]=Qt,Lt[Gt++]=An,Kt=n.id,Qt=n.overflow,An=e}var nt=null,He=null,Te=!1,bn=null,kt=!1,Is=Error(a(519));function Nn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Ut(n,e)),Is}function Zc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[tt]=e,n[pt]=s,o){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(o=0;o<Jo.length;o++)ve(Jo[o],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),uc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),fc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||mp(n.textContent,o)?(s.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),s.onScroll!=null&&ve("scroll",n),s.onScrollEnd!=null&&ve("scrollend",n),s.onClick!=null&&(n.onclick=tn),n=!0):n=!1,n||Nn(e,!0)}function $c(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:nt=nt.return}}function Ii(e){if(e!==nt)return!1;if(!Te)return $c(e),Te=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Zr(e.type,e.memoizedProps)),o=!o),o&&He&&Nn(e),$c(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));He=Cp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));He=Cp(e)}else n===27?(n=He,Pn(e.type)?(e=tu,tu=null,He=e):He=n):He=nt?qt(e.stateNode.nextSibling):null;return!0}function ni(){He=nt=null,Te=!1}function Us(){var e=bn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),bn=null),e}function xo(e){bn===null?bn=[e]:bn.push(e)}var Ls=b(null),ii=null,an=null;function Mn(e,n,o){Z(Ls,n._currentValue),n._currentValue=o}function sn(e){e._currentValue=Ls.current,z(Ls)}function Gs(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function ks(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var E=d.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=d;for(var A=0;A<n.length;A++)if(C.context===n[A]){m.lanes|=o,C=m.alternate,C!==null&&(C.lanes|=o),Gs(m.return,o,e),s||(E=null);break e}m=C.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(a(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Gs(E,o,e),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===e){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Ui(e,n,o,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var C=d.type;Ct(d.pendingProps.value,E.value)||(e!==null?e.push(C):e=[C])}}else if(d===Ae.current){if(E=d.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}d=d.return}e!==null&&ks(n,e,o,s),n.flags|=262144}function Nl(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oi(e){ii=e,an=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Wc(ii,e)}function Ml(e,n){return ii===null&&oi(e),Wc(e,n)}function Wc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},an===null){if(e===null)throw Error(a(308));an=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else an=an.next=n;return o}var j0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ey=i.unstable_scheduleCallback,ty=i.unstable_NormalPriority,Ye={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hs(){return{controller:new j0,data:new Map,refCount:0}}function Ao(e){e.refCount--,e.refCount===0&&ey(ty,function(){e.controller.abort()})}var bo=null,qs=0,Li=0,Gi=null;function ny(e,n){if(bo===null){var o=bo=[];qs=0,Li=Pr(),Gi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return qs++,n.then(jc,jc),n}function jc(){if(--qs===0&&bo!==null){Gi!==null&&(Gi.status="fulfilled");var e=bo;bo=null,Li=0,Gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var ef=M.S;M.S=function(e,n){qd=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ny(e,n),ef!==null&&ef(e,n)};var li=b(null);function zs(){var e=li.current;return e!==null?e:Ge.pooledCache}function Rl(e,n){n===null?Z(li,li.current):Z(li,n.pool)}function tf(){var e=zs();return e===null?null:{parent:Ye._currentValue,pool:e}}var ki=Error(a(460)),Vs=Error(a(474)),wl=Error(a(542)),Dl={then:function(){}};function nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(tn,tn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,af(e),e;default:if(typeof n.status=="string")n.then(tn,tn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,af(e),e}throw si=n,ki}}function ai(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(si=o,ki):o}}var si=null;function lf(){if(si===null)throw Error(a(459));var e=si;return si=null,e}function af(e){if(e===ki||e===wl)throw Error(a(483))}var Hi=null,No=0;function Il(e){var n=No;return No+=1,Hi===null&&(Hi=[]),of(Hi,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ul(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sf(e){function n(R,N){if(e){var D=R.deletions;D===null?(R.deletions=[N],R.flags|=16):D.push(N)}}function o(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=on(R,N),R.index=0,R.sibling=null,R}function m(R,N,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<N?(R.flags|=67108866,N):D):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function E(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function C(R,N,D,V){return N===null||N.tag!==6?(N=Ms(D,R.mode,V),N.return=R,N):(N=d(N,D),N.return=R,N)}function A(R,N,D,V){var le=D.type;return le===k?q(R,N,D.props.children,V,D.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&ai(le)===N.type)?(N=d(N,D.props),Mo(N,D),N.return=R,N):(N=Al(D.type,D.key,D.props,null,R.mode,V),Mo(N,D),N.return=R,N)}function I(R,N,D,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Rs(D,R.mode,V),N.return=R,N):(N=d(N,D.children||[]),N.return=R,N)}function q(R,N,D,V,le){return N===null||N.tag!==7?(N=ti(D,R.mode,V,le),N.return=R,N):(N=d(N,D),N.return=R,N)}function B(R,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ms(""+N,R.mode,D),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return D=Al(N.type,N.key,N.props,null,R.mode,D),Mo(D,N),D.return=R,D;case U:return N=Rs(N,R.mode,D),N.return=R,N;case ie:return N=ai(N),B(R,N,D)}if(ke(N)||Ce(N))return N=ti(N,R.mode,D,null),N.return=R,N;if(typeof N.then=="function")return B(R,Il(N),D);if(N.$$typeof===H)return B(R,Ml(R,N),D);Ul(R,N)}return null}function L(R,N,D,V){var le=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return le!==null?null:C(R,N,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return D.key===le?A(R,N,D,V):null;case U:return D.key===le?I(R,N,D,V):null;case ie:return D=ai(D),L(R,N,D,V)}if(ke(D)||Ce(D))return le!==null?null:q(R,N,D,V,null);if(typeof D.then=="function")return L(R,N,Il(D),V);if(D.$$typeof===H)return L(R,N,Ml(R,D),V);Ul(R,D)}return null}function G(R,N,D,V,le){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(D)||null,C(N,R,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return R=R.get(V.key===null?D:V.key)||null,A(N,R,V,le);case U:return R=R.get(V.key===null?D:V.key)||null,I(N,R,V,le);case ie:return V=ai(V),G(R,N,D,V,le)}if(ke(V)||Ce(V))return R=R.get(D)||null,q(N,R,V,le,null);if(typeof V.then=="function")return G(R,N,D,Il(V),le);if(V.$$typeof===H)return G(R,N,D,Ml(N,V),le);Ul(N,V)}return null}function te(R,N,D,V){for(var le=null,be=null,oe=N,me=N=0,_e=null;oe!==null&&me<D.length;me++){oe.index>me?(_e=oe,oe=null):_e=oe.sibling;var Ne=L(R,oe,D[me],V);if(Ne===null){oe===null&&(oe=_e);break}e&&oe&&Ne.alternate===null&&n(R,oe),N=m(Ne,N,me),be===null?le=Ne:be.sibling=Ne,be=Ne,oe=_e}if(me===D.length)return o(R,oe),Te&&ln(R,me),le;if(oe===null){for(;me<D.length;me++)oe=B(R,D[me],V),oe!==null&&(N=m(oe,N,me),be===null?le=oe:be.sibling=oe,be=oe);return Te&&ln(R,me),le}for(oe=s(oe);me<D.length;me++)_e=G(oe,R,me,D[me],V),_e!==null&&(e&&_e.alternate!==null&&oe.delete(_e.key===null?me:_e.key),N=m(_e,N,me),be===null?le=_e:be.sibling=_e,be=_e);return e&&oe.forEach(function(Jn){return n(R,Jn)}),Te&&ln(R,me),le}function re(R,N,D,V){if(D==null)throw Error(a(151));for(var le=null,be=null,oe=N,me=N=0,_e=null,Ne=D.next();oe!==null&&!Ne.done;me++,Ne=D.next()){oe.index>me?(_e=oe,oe=null):_e=oe.sibling;var Jn=L(R,oe,Ne.value,V);if(Jn===null){oe===null&&(oe=_e);break}e&&oe&&Jn.alternate===null&&n(R,oe),N=m(Jn,N,me),be===null?le=Jn:be.sibling=Jn,be=Jn,oe=_e}if(Ne.done)return o(R,oe),Te&&ln(R,me),le;if(oe===null){for(;!Ne.done;me++,Ne=D.next())Ne=B(R,Ne.value,V),Ne!==null&&(N=m(Ne,N,me),be===null?le=Ne:be.sibling=Ne,be=Ne);return Te&&ln(R,me),le}for(oe=s(oe);!Ne.done;me++,Ne=D.next())Ne=G(oe,R,me,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&oe.delete(Ne.key===null?me:Ne.key),N=m(Ne,N,me),be===null?le=Ne:be.sibling=Ne,be=Ne);return e&&oe.forEach(function(mv){return n(R,mv)}),Te&&ln(R,me),le}function Le(R,N,D,V){if(typeof D=="object"&&D!==null&&D.type===k&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case x:e:{for(var le=D.key;N!==null;){if(N.key===le){if(le=D.type,le===k){if(N.tag===7){o(R,N.sibling),V=d(N,D.props.children),V.return=R,R=V;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&ai(le)===N.type){o(R,N.sibling),V=d(N,D.props),Mo(V,D),V.return=R,R=V;break e}o(R,N);break}else n(R,N);N=N.sibling}D.type===k?(V=ti(D.props.children,R.mode,V,D.key),V.return=R,R=V):(V=Al(D.type,D.key,D.props,null,R.mode,V),Mo(V,D),V.return=R,R=V)}return E(R);case U:e:{for(le=D.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){o(R,N.sibling),V=d(N,D.children||[]),V.return=R,R=V;break e}else{o(R,N);break}else n(R,N);N=N.sibling}V=Rs(D,R.mode,V),V.return=R,R=V}return E(R);case ie:return D=ai(D),Le(R,N,D,V)}if(ke(D))return te(R,N,D,V);if(Ce(D)){if(le=Ce(D),typeof le!="function")throw Error(a(150));return D=le.call(D),re(R,N,D,V)}if(typeof D.then=="function")return Le(R,N,Il(D),V);if(D.$$typeof===H)return Le(R,N,Ml(R,D),V);Ul(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(o(R,N.sibling),V=d(N,D),V.return=R,R=V):(o(R,N),V=Ms(D,R.mode,V),V.return=R,R=V),E(R)):o(R,N)}return function(R,N,D,V){try{No=0;var le=Le(R,N,D,V);return Hi=null,le}catch(oe){if(oe===ki||oe===wl)throw oe;var be=xt(29,oe,null,R.mode);return be.lanes=V,be.return=R,be}finally{}}}var ri=sf(!0),rf=sf(!1),Rn=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=xl(e),Fc(e,null,o),n}return Cl(e,s,n,o),xl(e)}function Ro(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Wu(e,o)}}function Os(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?d=m=n:m=m.next=n}else d=m=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Fs=!1;function wo(){if(Fs){var e=Gi;if(e!==null)throw e}}function Do(e,n,o,s){Fs=!1;var d=e.updateQueue;Rn=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var A=C,I=A.next;A.next=null,E===null?m=I:E.next=I,E=A;var q=e.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==E&&(C===null?q.firstBaseUpdate=I:C.next=I,q.lastBaseUpdate=A))}if(m!==null){var B=d.baseState;E=0,q=I=A=null,C=m;do{var L=C.lane&-536870913,G=L!==C.lane;if(G?(Se&L)===L:(s&L)===L){L!==0&&L===Li&&(Fs=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var te=e,re=C;L=n;var Le=o;switch(re.tag){case 1:if(te=re.payload,typeof te=="function"){B=te.call(Le,B,L);break e}B=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,L=typeof te=="function"?te.call(Le,B,L):te,L==null)break e;B=S({},B,L);break e;case 2:Rn=!0}}L=C.callback,L!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[L]:G.push(L))}else G={lane:L,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(I=q=G,A=B):q=q.next=G,E|=L;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;G=C,C=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);q===null&&(A=B),d.baseState=A,d.firstBaseUpdate=I,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),kn|=E,e.lanes=E,e.memoizedState=B}}function uf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)uf(o[e],n)}var qi=b(null),Ll=b(0);function ff(e,n){e=gn,Z(Ll,e),Z(qi,n),gn=e|n.baseLanes}function Ys(){Z(Ll,gn),Z(qi,qi.current)}function Js(){gn=Ll.current,z(qi),z(Ll)}var At=b(null),Ht=null;function In(e){var n=e.alternate;Z(Oe,Oe.current&1),Z(At,e),Ht===null&&(n===null||qi.current!==null||n.memoizedState!==null)&&(Ht=e)}function Xs(e){Z(Oe,Oe.current),Z(At,e),Ht===null&&(Ht=e)}function df(e){e.tag===22?(Z(Oe,Oe.current),Z(At,e),Ht===null&&(Ht=e)):Un()}function Un(){Z(Oe,Oe.current),Z(At,At.current)}function bt(e){z(At),Ht===e&&(Ht=null),z(Oe)}var Oe=b(0);function Gl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||jr(o)||eu(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rn=0,de=null,Ie=null,Je=null,kl=!1,zi=!1,ui=!1,Hl=0,Io=0,Vi=null,oy=0;function Pe(){throw Error(a(321))}function Ks(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Ct(e[o],n[o]))return!1;return!0}function Qs(e,n,o,s,d,m){return rn=m,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?Qf:cr,ui=!1,m=o(s,d),ui=!1,zi&&(m=mf(n,o,s,d)),pf(e),m}function pf(e){M.H=Go;var n=Ie!==null&&Ie.next!==null;if(rn=0,Je=Ie=de=null,kl=!1,Io=0,Vi=null,n)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&Nl(e)&&(Xe=!0))}function mf(e,n,o,s){de=e;var d=0;do{if(zi&&(Vi=null),Io=0,zi=!1,25<=d)throw Error(a(301));if(d+=1,Je=Ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=Zf,m=n(o,s)}while(zi);return m}function ly(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Uo(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(de.flags|=1024),n}function Zs(){var e=Hl!==0;return Hl=0,e}function $s(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Ws(e){if(kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}kl=!1}rn=0,Je=Ie=de=null,zi=!1,Io=Hl=0,Vi=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?de.memoizedState=Je=e:Je=Je.next=e,Je}function Fe(){if(Ie===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Je===null?de.memoizedState:Je.next;if(n!==null)Je=n,Ie=e;else{if(e===null)throw de.alternate===null?Error(a(467)):Error(a(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Je===null?de.memoizedState=Je=e:Je=Je.next=e}return Je}function ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var n=Io;return Io+=1,Vi===null&&(Vi=[]),e=of(Vi,e,n),n=de,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Qf:cr),e}function zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uo(e);if(e.$$typeof===H)return it(e)}throw Error(a(438,String(e)))}function js(e){var n=null,o=de.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=de.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=ql(),de.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=se;return n.index++,o}function un(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=Fe();return er(n,Ie,e)}function er(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var C=E=null,A=null,I=n,q=!1;do{var B=I.lane&-536870913;if(B!==I.lane?(Se&B)===B:(rn&B)===B){var L=I.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),B===Li&&(q=!0);else if((rn&L)===L){I=I.next,L===Li&&(q=!0);continue}else B={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(C=A=B,E=m):A=A.next=B,de.lanes|=L,kn|=L;B=I.action,ui&&o(m,B),m=I.hasEagerState?I.eagerState:o(m,B)}else L={lane:B,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(C=A=L,E=m):A=A.next=L,de.lanes|=B,kn|=B;I=I.next}while(I!==null&&I!==n);if(A===null?E=m:A.next=C,!Ct(m,e.memoizedState)&&(Xe=!0,q&&(o=Gi,o!==null)))throw o;e.memoizedState=m,e.baseState=E,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tr(e){var n=Fe(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,m=n.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do m=e(m,E.action),E=E.next;while(E!==d);Ct(m,n.memoizedState)||(Xe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function hf(e,n,o){var s=de,d=Fe(),m=Te;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var E=!Ct((Ie||d).memoizedState,o);if(E&&(d.memoizedState=o,Xe=!0),d=d.queue,or(vf.bind(null,s,d,e),[e]),d.getSnapshot!==n||E||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,Pi(9,{destroy:void 0},yf.bind(null,s,d,o,n),null),Ge===null)throw Error(a(349));m||(rn&127)!==0||gf(s,n,o)}return o}function gf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=de.updateQueue,n===null?(n=ql(),de.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function yf(e,n,o,s){n.value=o,n.getSnapshot=s,Ef(n)&&Sf(e)}function vf(e,n,o){return o(function(){Ef(n)&&Sf(e)})}function Ef(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Ct(e,o)}catch{return!0}}function Sf(e){var n=ei(e,2);n!==null&&Et(n,e,2)}function nr(e){var n=ut();if(typeof e=="function"){var o=e;if(e=o(),ui){Tn(!0);try{o()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},n}function _f(e,n,o,s){return e.baseState=o,er(e,Ie,typeof s=="function"?s:un)}function ay(e,n,o,s,d){if(Ol(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};M.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,Tf(n,m)):(m.next=o.next,n.pending=o.next=m)}}function Tf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=M.T,E={};M.T=E;try{var C=o(d,s),A=M.S;A!==null&&A(E,C),Cf(e,n,C)}catch(I){ir(e,n,I)}finally{m!==null&&E.types!==null&&(m.types=E.types),M.T=m}}else try{m=o(d,s),Cf(e,n,m)}catch(I){ir(e,n,I)}}function Cf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){xf(e,n,s)},function(s){return ir(e,n,s)}):xf(e,n,o)}function xf(e,n,o){n.status="fulfilled",n.value=o,Af(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Tf(e,o)))}function ir(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Af(n),n=n.next;while(n!==s)}e.action=null}function Af(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bf(e,n){return n}function Nf(e,n){if(Te){var o=Ge.formState;if(o!==null){e:{var s=de;if(Te){if(He){t:{for(var d=He,m=kt;d.nodeType!==8;){if(!m){d=null;break t}if(d=qt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){He=qt(d.nextSibling),s=d.data==="F!";break e}}Nn(s)}s=!1}s&&(n=o[0])}}return o=ut(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:n},o.queue=s,o=Jf.bind(null,de,s),s.dispatch=o,s=nr(!1),m=ur.bind(null,de,!1,s.queue),s=ut(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=ay.bind(null,de,d,m,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Mf(e){var n=Fe();return Rf(n,Ie,e)}function Rf(e,n,o){if(n=er(e,n,bf)[0],e=Vl(un)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Uo(n)}catch(E){throw E===ki?wl:E}else s=n;n=Fe();var d=n.queue,m=d.dispatch;return o!==n.memoizedState&&(de.flags|=2048,Pi(9,{destroy:void 0},sy.bind(null,d,o),null)),[s,m,e]}function sy(e,n){e.action=n}function wf(e){var n=Fe(),o=Ie;if(o!==null)return Rf(n,o,e);Fe(),n=n.memoizedState,o=Fe();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Pi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=de.updateQueue,n===null&&(n=ql(),de.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Df(){return Fe().memoizedState}function Pl(e,n,o,s){var d=ut();de.flags|=e,d.memoizedState=Pi(1|n,{destroy:void 0},o,s===void 0?null:s)}function Bl(e,n,o,s){var d=Fe();s=s===void 0?null:s;var m=d.memoizedState.inst;Ie!==null&&s!==null&&Ks(s,Ie.memoizedState.deps)?d.memoizedState=Pi(n,m,o,s):(de.flags|=e,d.memoizedState=Pi(1|n,m,o,s))}function If(e,n){Pl(8390656,8,e,n)}function or(e,n){Bl(2048,8,e,n)}function ry(e){de.flags|=4;var n=de.updateQueue;if(n===null)n=ql(),de.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Uf(e){var n=Fe().memoizedState;return ry({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lf(e,n){return Bl(4,2,e,n)}function Gf(e,n){return Bl(4,4,e,n)}function kf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hf(e,n,o){o=o!=null?o.concat([e]):null,Bl(4,4,kf.bind(null,n,e),o)}function lr(){}function qf(e,n){var o=Fe();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Ks(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function zf(e,n){var o=Fe();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Ks(n,s[1]))return s[0];if(s=e(),ui){Tn(!0);try{e()}finally{Tn(!1)}}return o.memoizedState=[s,n],s}function ar(e,n,o){return o===void 0||(rn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Vd(),de.lanes|=e,kn|=e,o)}function Vf(e,n,o,s){return Ct(o,n)?o:qi.current!==null?(e=ar(e,o,s),Ct(e,n)||(Xe=!0),e):(rn&42)===0||(rn&1073741824)!==0&&(Se&261930)===0?(Xe=!0,e.memoizedState=o):(e=Vd(),de.lanes|=e,kn|=e,n)}function Pf(e,n,o,s,d){var m=J.p;J.p=m!==0&&8>m?m:8;var E=M.T,C={};M.T=C,ur(e,!1,n,o);try{var A=d(),I=M.S;if(I!==null&&I(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=iy(A,s);Lo(e,n,q,Rt(e))}else Lo(e,n,s,Rt(e))}catch(B){Lo(e,n,{then:function(){},status:"rejected",reason:B},Rt())}finally{J.p=m,E!==null&&C.types!==null&&(E.types=C.types),M.T=E}}function uy(){}function sr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=Bf(e).queue;Pf(e,d,n,W,o===null?uy:function(){return Of(e),o(s)})}function Bf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:W},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Of(e){var n=Bf(e);n.next===null&&(n=e.alternate.memoizedState),Lo(e,n.next.queue,{},Rt())}function rr(){return it($o)}function Ff(){return Fe().memoizedState}function Yf(){return Fe().memoizedState}function cy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Rt();e=wn(o);var s=Dn(n,e,o);s!==null&&(Et(s,n,o),Ro(s,n,o)),n={cache:Hs()},e.payload=n;return}n=n.return}}function fy(e,n,o){var s=Rt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ol(e)?Xf(n,o):(o=bs(e,n,o,s),o!==null&&(Et(o,e,s),Kf(o,n,s)))}function Jf(e,n,o){var s=Rt();Lo(e,n,o,s)}function Lo(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ol(e))Xf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var E=n.lastRenderedState,C=m(E,o);if(d.hasEagerState=!0,d.eagerState=C,Ct(C,E))return Cl(e,n,d,0),Ge===null&&Tl(),!1}catch{}finally{}if(o=bs(e,n,d,s),o!==null)return Et(o,e,s),Kf(o,n,s),!0}return!1}function ur(e,n,o,s){if(s={lane:2,revertLane:Pr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ol(e)){if(n)throw Error(a(479))}else n=bs(e,o,s,2),n!==null&&Et(n,e,2)}function Ol(e){var n=e.alternate;return e===de||n!==null&&n===de}function Xf(e,n){zi=kl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Kf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Wu(e,o)}}var Go={readContext:it,use:zl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Go.useEffectEvent=Pe;var Qf={readContext:it,use:zl,useCallback:function(e,n){return ut().memoizedState=[e,n===void 0?null:n],e},useContext:it,useEffect:If,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Pl(4194308,4,kf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Pl(4194308,4,e,n)},useInsertionEffect:function(e,n){Pl(4,2,e,n)},useMemo:function(e,n){var o=ut();n=n===void 0?null:n;var s=e();if(ui){Tn(!0);try{e()}finally{Tn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=ut();if(o!==void 0){var d=o(n);if(ui){Tn(!0);try{o(n)}finally{Tn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=fy.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var n=ut();return e={current:e},n.memoizedState=e},useState:function(e){e=nr(e);var n=e.queue,o=Jf.bind(null,de,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:lr,useDeferredValue:function(e,n){var o=ut();return ar(o,e,n)},useTransition:function(){var e=nr(!1);return e=Pf.bind(null,de,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=de,d=ut();if(Te){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Ge===null)throw Error(a(349));(Se&127)!==0||gf(s,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,If(vf.bind(null,s,m,e),[e]),s.flags|=2048,Pi(9,{destroy:void 0},yf.bind(null,s,m,o,n),null),o},useId:function(){var e=ut(),n=Ge.identifierPrefix;if(Te){var o=Qt,s=Kt;o=(s&~(1<<32-Tt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Hl++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=oy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rr,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var n=ut();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=ur.bind(null,de,!0,o),o.dispatch=n,[e,n]},useMemoCache:js,useCacheRefresh:function(){return ut().memoizedState=cy.bind(null,de)},useEffectEvent:function(e){var n=ut(),o={impl:e};return n.memoizedState=o,function(){if((Re&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},cr={readContext:it,use:zl,useCallback:qf,useContext:it,useEffect:or,useImperativeHandle:Hf,useInsertionEffect:Lf,useLayoutEffect:Gf,useMemo:zf,useReducer:Vl,useRef:Df,useState:function(){return Vl(un)},useDebugValue:lr,useDeferredValue:function(e,n){var o=Fe();return Vf(o,Ie.memoizedState,e,n)},useTransition:function(){var e=Vl(un)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Uo(e),n]},useSyncExternalStore:hf,useId:Ff,useHostTransitionStatus:rr,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,n){var o=Fe();return _f(o,Ie,e,n)},useMemoCache:js,useCacheRefresh:Yf};cr.useEffectEvent=Uf;var Zf={readContext:it,use:zl,useCallback:qf,useContext:it,useEffect:or,useImperativeHandle:Hf,useInsertionEffect:Lf,useLayoutEffect:Gf,useMemo:zf,useReducer:tr,useRef:Df,useState:function(){return tr(un)},useDebugValue:lr,useDeferredValue:function(e,n){var o=Fe();return Ie===null?ar(o,e,n):Vf(o,Ie.memoizedState,e,n)},useTransition:function(){var e=tr(un)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Uo(e),n]},useSyncExternalStore:hf,useId:Ff,useHostTransitionStatus:rr,useFormState:wf,useActionState:wf,useOptimistic:function(e,n){var o=Fe();return Ie!==null?_f(o,Ie,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:js,useCacheRefresh:Yf};Zf.useEffectEvent=Uf;function fr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:S({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var dr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Rt(),d=wn(s);d.payload=n,o!=null&&(d.callback=o),n=Dn(e,d,s),n!==null&&(Et(n,e,s),Ro(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Rt(),d=wn(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Dn(e,d,s),n!==null&&(Et(n,e,s),Ro(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Rt(),s=wn(o);s.tag=2,n!=null&&(s.callback=n),n=Dn(e,s,o),n!==null&&(Et(n,e,o),Ro(n,e,o))}};function $f(e,n,o,s,d,m,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,E):n.prototype&&n.prototype.isPureReactComponent?!_o(o,s)||!_o(d,m):!0}function Wf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&dr.enqueueReplaceState(n,n.state,null)}function ci(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=S({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function jf(e){_l(e)}function ed(e){console.error(e)}function td(e){_l(e)}function Fl(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function nd(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pr(e,n,o){return o=wn(o),o.tag=3,o.payload={element:null},o.callback=function(){Fl(e,n)},o}function id(e){return e=wn(e),e.tag=3,e}function od(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){nd(n,o,s)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){nd(n,o,s),typeof d!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function dy(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Ui(n,o,d,!0),o=At.current,o!==null){switch(o.tag){case 31:case 13:return Ht===null?na():o.alternate===null&&Be===0&&(Be=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Dl?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),qr(e,s,d)),!1;case 22:return o.flags|=65536,s===Dl?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),qr(e,s,d)),!1}throw Error(a(435,o.tag))}return qr(e,s,d),na(),!1}if(Te)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Is&&(e=Error(a(422),{cause:s}),xo(Ut(e,o)))):(s!==Is&&(n=Error(a(423),{cause:s}),xo(Ut(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Ut(s,o),d=pr(e.stateNode,s,d),Os(e,d),Be!==4&&(Be=2)),!1;var m=Error(a(520),{cause:s});if(m=Ut(m,o),Oo===null?Oo=[m]:Oo.push(m),Be!==4&&(Be=2),n===null)return!0;s=Ut(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=pr(o.stateNode,s,e),Os(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hn===null||!Hn.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=id(d),od(d,e,o,s),Os(o,d),!1}o=o.return}while(o!==null);return!1}var mr=Error(a(461)),Xe=!1;function ot(e,n,o,s){n.child=e===null?rf(n,null,o,s):ri(n,e.child,o,s)}function ld(e,n,o,s,d){o=o.render;var m=n.ref;if("ref"in s){var E={};for(var C in s)C!=="ref"&&(E[C]=s[C])}else E=s;return oi(n),s=Qs(e,n,o,E,m,d),C=Zs(),e!==null&&!Xe?($s(e,n,d),cn(e,n,d)):(Te&&C&&ws(n),n.flags|=1,ot(e,n,s,d),n.child)}function ad(e,n,o,s,d){if(e===null){var m=o.type;return typeof m=="function"&&!Ns(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,sd(e,n,m,s,d)):(e=Al(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Tr(e,d)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:_o,o(E,s)&&e.ref===n.ref)return cn(e,n,d)}return n.flags|=1,e=on(m,s),e.ref=n.ref,e.return=n,n.child=e}function sd(e,n,o,s,d){if(e!==null){var m=e.memoizedProps;if(_o(m,s)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=s=m,Tr(e,d))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,cn(e,n,d)}return hr(e,n,o,s,d)}function rd(e,n,o,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return ud(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rl(n,m!==null?m.cachePool:null),m!==null?ff(n,m):Ys(),df(n);else return s=n.lanes=536870912,ud(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(Rl(n,m.cachePool),ff(n,m),Un(),n.memoizedState=null):(e!==null&&Rl(n,null),Ys(),Un());return ot(e,n,d,o),n.child}function ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ud(e,n,o,s,d){var m=zs();return m=m===null?null:{parent:Ye._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&Rl(n,null),Ys(),df(n),e!==null&&Ui(e,n,s,!0),n.childLanes=d,null}function Yl(e,n){return n=Xl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cd(e,n,o){return ri(n,e.child,null,o),e=Yl(n,n.pendingProps),e.flags|=2,bt(n),n.memoizedState=null,e}function py(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Te){if(s.mode==="hidden")return e=Yl(n,s),n.lanes=536870912,ko(null,e);if(Xs(n),(e=He)?(e=Tp(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:Kt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},o=Jc(e),o.return=n,n.child=o,nt=n,He=null)):e=null,e===null)throw Nn(n);return n.lanes=536870912,null}return Yl(n,s)}var m=e.memoizedState;if(m!==null){var E=m.dehydrated;if(Xs(n),d)if(n.flags&256)n.flags&=-257,n=cd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xe||Ui(e,n,o,!1),d=(o&e.childLanes)!==0,Xe||d){if(s=Ge,s!==null&&(E=ju(s,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,ei(e,E),Et(s,e,E),mr;na(),n=cd(e,n,o)}else e=m.treeContext,He=qt(E.nextSibling),nt=n,Te=!0,bn=null,kt=!1,e!==null&&Qc(n,e),n=Yl(n,s),n.flags|=4096;return n}return e=on(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jl(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function hr(e,n,o,s,d){return oi(n),o=Qs(e,n,o,s,void 0,d),s=Zs(),e!==null&&!Xe?($s(e,n,d),cn(e,n,d)):(Te&&s&&ws(n),n.flags|=1,ot(e,n,o,d),n.child)}function fd(e,n,o,s,d,m){return oi(n),n.updateQueue=null,o=mf(n,s,o,d),pf(e),s=Zs(),e!==null&&!Xe?($s(e,n,m),cn(e,n,m)):(Te&&s&&ws(n),n.flags|=1,ot(e,n,o,m),n.child)}function dd(e,n,o,s,d){if(oi(n),n.stateNode===null){var m=Ri,E=o.contextType;typeof E=="object"&&E!==null&&(m=it(E)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Ps(n),E=o.contextType,m.context=typeof E=="object"&&E!==null?it(E):Ri,m.state=n.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(fr(n,o,E,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&dr.enqueueReplaceState(m,m.state,null),Do(n,s,m,d),wo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var C=n.memoizedProps,A=ci(o,C);m.props=A;var I=m.context,q=o.contextType;E=Ri,typeof q=="object"&&q!==null&&(E=it(q));var B=o.getDerivedStateFromProps;q=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||I!==E)&&Wf(n,m,s,E),Rn=!1;var L=n.memoizedState;m.state=L,Do(n,s,m,d),wo(),I=n.memoizedState,C||L!==I||Rn?(typeof B=="function"&&(fr(n,o,B,s),I=n.memoizedState),(A=Rn||$f(n,o,A,s,L,I,E))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=I),m.props=s,m.state=I,m.context=E,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Bs(e,n),E=n.memoizedProps,q=ci(o,E),m.props=q,B=n.pendingProps,L=m.context,I=o.contextType,A=Ri,typeof I=="object"&&I!==null&&(A=it(I)),C=o.getDerivedStateFromProps,(I=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==B||L!==A)&&Wf(n,m,s,A),Rn=!1,L=n.memoizedState,m.state=L,Do(n,s,m,d),wo();var G=n.memoizedState;E!==B||L!==G||Rn||e!==null&&e.dependencies!==null&&Nl(e.dependencies)?(typeof C=="function"&&(fr(n,o,C,s),G=n.memoizedState),(q=Rn||$f(n,o,q,s,L,G,A)||e!==null&&e.dependencies!==null&&Nl(e.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,G,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,G,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=G),m.props=s,m.state=G,m.context=A,s=q):(typeof m.componentDidUpdate!="function"||E===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Jl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=ri(n,e.child,null,d),n.child=ri(n,null,o,d)):ot(e,n,o,d),n.memoizedState=m.state,e=n.child):e=cn(e,n,d),e}function pd(e,n,o,s){return ni(),n.flags|=256,ot(e,n,o,s),n.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:tf()}}function vr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Mt),e}function md(e,n,o){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,E;if((E=m)||(E=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),E&&(d=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(Te){if(d?In(n):Un(),(e=He)?(e=Tp(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:Kt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},o=Jc(e),o.return=n,n.child=o,nt=n,He=null)):e=null,e===null)throw Nn(n);return eu(e)?n.lanes=32:n.lanes=536870912,null}var C=s.children;return s=s.fallback,d?(Un(),d=n.mode,C=Xl({mode:"hidden",children:C},d),s=ti(s,d,o,null),C.return=n,s.return=n,C.sibling=s,n.child=C,s=n.child,s.memoizedState=yr(o),s.childLanes=vr(e,E,o),n.memoizedState=gr,ko(null,s)):(In(n),Er(n,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(m)n.flags&256?(In(n),n.flags&=-257,n=Sr(e,n,o)):n.memoizedState!==null?(Un(),n.child=e.child,n.flags|=128,n=null):(Un(),C=s.fallback,d=n.mode,s=Xl({mode:"visible",children:s.children},d),C=ti(C,d,o,null),C.flags|=2,s.return=n,C.return=n,s.sibling=C,n.child=s,ri(n,e.child,null,o),s=n.child,s.memoizedState=yr(o),s.childLanes=vr(e,E,o),n.memoizedState=gr,n=ko(null,s));else if(In(n),eu(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var I=E.dgst;E=I,s=Error(a(419)),s.stack="",s.digest=E,xo({value:s,source:null,stack:null}),n=Sr(e,n,o)}else if(Xe||Ui(e,n,o,!1),E=(o&e.childLanes)!==0,Xe||E){if(E=Ge,E!==null&&(s=ju(E,o),s!==0&&s!==A.retryLane))throw A.retryLane=s,ei(e,s),Et(E,e,s),mr;jr(C)||na(),n=Sr(e,n,o)}else jr(C)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,He=qt(C.nextSibling),nt=n,Te=!0,bn=null,kt=!1,e!==null&&Qc(n,e),n=Er(n,s.children),n.flags|=4096);return n}return d?(Un(),C=s.fallback,d=n.mode,A=e.child,I=A.sibling,s=on(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,I!==null?C=on(I,C):(C=ti(C,d,o,null),C.flags|=2),C.return=n,s.return=n,s.sibling=C,n.child=s,ko(null,s),s=n.child,C=e.child.memoizedState,C===null?C=yr(o):(d=C.cachePool,d!==null?(A=Ye._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=tf(),C={baseLanes:C.baseLanes|o,cachePool:d}),s.memoizedState=C,s.childLanes=vr(e,E,o),n.memoizedState=gr,ko(e.child,s)):(In(n),o=e.child,e=o.sibling,o=on(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=o,n.memoizedState=null,o)}function Er(e,n){return n=Xl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xl(e,n){return e=xt(22,e,null,n),e.lanes=0,e}function Sr(e,n,o){return ri(n,e.child,null,o),e=Er(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,o)}function _r(e,n,o,s,d,m){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:m}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=o,E.tailMode=d,E.treeForkCount=m)}function gd(e,n,o){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var E=Oe.current,C=(E&2)!==0;if(C?(E=E&1|2,n.flags|=128):E&=1,Z(Oe,E),ot(e,n,s,o),s=Te?Co:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,o,n);else if(e.tag===19)hd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Gl(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),_r(n,!1,d,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Gl(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}_r(n,!0,o,null,m,s);break;case"together":_r(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function cn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),kn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Ui(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=on(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=on(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Tr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nl(e)))}function my(e,n,o){switch(n.tag){case 3:et(n,n.stateNode.containerInfo),Mn(n,Ye,e.memoizedState.cache),ni();break;case 27:case 5:jt(n);break;case 4:et(n,n.stateNode.containerInfo);break;case 10:Mn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(In(n),n.flags|=128,null):(o&n.child.childLanes)!==0?md(e,n,o):(In(n),e=cn(e,n,o),e!==null?e.sibling:null);In(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Ui(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return gd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Oe,Oe.current),s)break;return null;case 22:return n.lanes=0,rd(e,n,o,n.pendingProps);case 24:Mn(n,Ye,e.memoizedState.cache)}return cn(e,n,o)}function yd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Tr(e,o)&&(n.flags&128)===0)return Xe=!1,my(e,n,o);Xe=(e.flags&131072)!==0}else Xe=!1,Te&&(n.flags&1048576)!==0&&Kc(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ai(n.elementType),n.type=e,typeof e=="function")Ns(e)?(s=ci(e,s),n.tag=1,n=dd(null,n,e,s,o)):(n.tag=0,n=hr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===F){n.tag=11,n=ld(null,n,e,s,o);break e}else if(d===O){n.tag=14,n=ad(null,n,e,s,o);break e}}throw n=Ee(e)||e,Error(a(306,n,""))}}return n;case 0:return hr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=ci(s,n.pendingProps),dd(e,n,s,d,o);case 3:e:{if(et(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Bs(e,n),Do(n,s,null,o);var E=n.memoizedState;if(s=E.cache,Mn(n,Ye,s),s!==m.cache&&ks(n,[Ye],o,!0),wo(),s=E.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=pd(e,n,s,o);break e}else if(s!==d){d=Ut(Error(a(424)),n),xo(d),n=pd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=qt(e.firstChild),nt=n,Te=!0,bn=null,kt=!0,o=rf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ni(),s===d){n=cn(e,n,o);break e}ot(e,n,s,o)}n=n.child}return n;case 26:return Jl(e,n),e===null?(o=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=o:Te||(o=n.type,e=n.pendingProps,s=ua(he.current).createElement(o),s[tt]=n,s[pt]=e,lt(s,o,e),$e(s),n.stateNode=s):n.memoizedState=Mp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jt(n),e===null&&Te&&(s=n.stateNode=Ap(n.type,n.pendingProps,he.current),nt=n,kt=!0,d=He,Pn(n.type)?(tu=d,He=qt(s.firstChild)):He=d),ot(e,n,n.pendingProps.children,o),Jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Te&&((d=s=He)&&(s=Fy(s,n.type,n.pendingProps,kt),s!==null?(n.stateNode=s,nt=n,He=qt(s.firstChild),kt=!1,d=!0):d=!1),d||Nn(n)),jt(n),d=n.type,m=n.pendingProps,E=e!==null?e.memoizedProps:null,s=m.children,Zr(d,m)?s=null:E!==null&&Zr(d,E)&&(n.flags|=32),n.memoizedState!==null&&(d=Qs(e,n,ly,null,null,o),$o._currentValue=d),Jl(e,n),ot(e,n,s,o),n.child;case 6:return e===null&&Te&&((e=o=He)&&(o=Yy(o,n.pendingProps,kt),o!==null?(n.stateNode=o,nt=n,He=null,e=!0):e=!1),e||Nn(n)),null;case 13:return md(e,n,o);case 4:return et(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ri(n,null,s,o):ot(e,n,s,o),n.child;case 11:return ld(e,n,n.type,n.pendingProps,o);case 7:return ot(e,n,n.pendingProps,o),n.child;case 8:return ot(e,n,n.pendingProps.children,o),n.child;case 12:return ot(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Mn(n,n.type,s.value),ot(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,oi(n),d=it(d),s=s(d),n.flags|=1,ot(e,n,s,o),n.child;case 14:return ad(e,n,n.type,n.pendingProps,o);case 15:return sd(e,n,n.type,n.pendingProps,o);case 19:return gd(e,n,o);case 31:return py(e,n,o);case 22:return rd(e,n,o,n.pendingProps);case 24:return oi(n),s=it(Ye),e===null?(d=zs(),d===null&&(d=Ge,m=Hs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),n.memoizedState={parent:s,cache:d},Ps(n),Mn(n,Ye,d)):((e.lanes&o)!==0&&(Bs(e,n),Do(n,null,null,o),wo()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Mn(n,Ye,s)):(s=m.cache,Mn(n,Ye,s),s!==d.cache&&ks(n,[Ye],o,!0))),ot(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fn(e){e.flags|=4}function Cr(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Fd())e.flags|=8192;else throw si=Dl,Vs}else e.flags&=-16777217}function vd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Up(n))if(Fd())e.flags|=8192;else throw si=Dl,Vs}function Kl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zu():536870912,e.lanes|=n,Yi|=n)}function Ho(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function hy(e,n,o){var s=n.pendingProps;switch(Ds(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),sn(Ye),Ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ii(n)?fn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),qe(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(fn(n),m!==null?(qe(n),vd(n,m)):(qe(n),Cr(n,d,null,s,o))):m?m!==e.memoizedState?(fn(n),qe(n),vd(n,m)):(qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&fn(n),qe(n),Cr(n,d,e,s,o)),null;case 27:if(Ze(n),o=he.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return qe(n),null}e=ee.current,Ii(n)?Zc(n):(e=Ap(d,s,o),n.stateNode=e,fn(n))}return qe(n),null;case 5:if(Ze(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return qe(n),null}if(m=ee.current,Ii(n))Zc(n);else{var E=ua(he.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?E.createElement(d,{is:s.is}):E.createElement(d)}}m[tt]=n,m[pt]=s;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=m;e:switch(lt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fn(n)}}return qe(n),Cr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&fn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=he.current,Ii(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=nt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[tt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||mp(e.nodeValue,o)),e||Nn(n,!0)}else e=ua(e).createTextNode(s),e[tt]=n,n.stateNode=e}return qe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ii(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[tt]=n}else ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),e=!1}else o=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(bt(n),n):(bt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return qe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ii(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[tt]=n}else ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),d=!1}else d=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(bt(n),n):(bt(n),null)}return bt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Kl(n,n.updateQueue),qe(n),null);case 4:return Ve(),e===null&&Yr(n.stateNode.containerInfo),qe(n),null;case 10:return sn(n.type),qe(n),null;case 19:if(z(Oe),s=n.memoizedState,s===null)return qe(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Ho(s,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Gl(e),m!==null){for(n.flags|=128,Ho(s,!1),e=m.updateQueue,n.updateQueue=e,Kl(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Yc(o,e),o=o.sibling;return Z(Oe,Oe.current&1|2),Te&&ln(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&St()>jl&&(n.flags|=128,d=!0,Ho(s,!1),n.lanes=4194304)}else{if(!d)if(e=Gl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Kl(n,e),Ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Te)return qe(n),null}else 2*St()-s.renderingStartTime>jl&&o!==536870912&&(n.flags|=128,d=!0,Ho(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,o=Oe.current,Z(Oe,d?o&1|2:o&1),Te&&ln(n,s.treeForkCount),e):(qe(n),null);case 22:case 23:return bt(n),Js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),o=n.updateQueue,o!==null&&Kl(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&z(li),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),sn(Ye),qe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gy(e,n){switch(Ds(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return sn(Ye),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 31:if(n.memoizedState!==null){if(bt(n),n.alternate===null)throw Error(a(340));ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Oe),null;case 4:return Ve(),null;case 10:return sn(n.type),null;case 22:case 23:return bt(n),Js(),e!==null&&z(li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return sn(Ye),null;case 25:return null;default:return null}}function Ed(e,n){switch(Ds(n),n.tag){case 3:sn(Ye),Ve();break;case 26:case 27:case 5:Ze(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&bt(n);break;case 13:bt(n);break;case 19:z(Oe);break;case 10:sn(n.type);break;case 22:case 23:bt(n),Js(),e!==null&&z(li);break;case 24:sn(Ye)}}function qo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var m=o.create,E=o.inst;s=m(),E.destroy=s}o=o.next}while(o!==d)}}catch(C){De(n,n.return,C)}}function Ln(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var E=s.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,d=n;var A=o,I=C;try{I()}catch(q){De(d,A,q)}}}s=s.next}while(s!==m)}}catch(q){De(n,n.return,q)}}function Sd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{cf(n,o)}catch(s){De(e,e.return,s)}}}function _d(e,n,o){o.props=ci(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){De(e,n,s)}}function zo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){De(e,n,d)}}function Zt(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){De(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){De(e,n,d)}else o.current=null}function Td(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){De(e,e.return,d)}}function xr(e,n,o){try{var s=e.stateNode;qy(s,e.type,o,n),s[pt]=n}catch(d){De(e,e.return,d)}}function Cd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function Ar(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function br(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=tn));else if(s!==4&&(s===27&&Pn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(br(e,n,o),e=e.sibling;e!==null;)br(e,n,o),e=e.sibling}function Ql(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Pn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ql(e,n,o),e=e.sibling;e!==null;)Ql(e,n,o),e=e.sibling}function xd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);lt(n,s,o),n[tt]=e,n[pt]=o}catch(m){De(e,e.return,m)}}var dn=!1,Ke=!1,Nr=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,We=null;function yy(e,n){if(e=e.containerInfo,Kr=ga,e=kc(e),Ss(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,C=-1,A=-1,I=0,q=0,B=e,L=null;t:for(;;){for(var G;B!==o||d!==0&&B.nodeType!==3||(C=E+d),B!==m||s!==0&&B.nodeType!==3||(A=E+s),B.nodeType===3&&(E+=B.nodeValue.length),(G=B.firstChild)!==null;)L=B,B=G;for(;;){if(B===e)break t;if(L===o&&++I===d&&(C=E),L===m&&++q===s&&(A=E),(G=B.nextSibling)!==null)break;B=L,L=B.parentNode}B=G}o=C===-1||A===-1?null:{start:C,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qr={focusedElem:e,selectionRange:o},ga=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,d=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var te=ci(o.type,d);e=s.getSnapshotBeforeUpdate(te,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){De(o,o.return,re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Wr(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function bd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:mn(e,o),s&4&&qo(5,o);break;case 1:if(mn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(E){De(o,o.return,E)}else{var d=ci(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){De(o,o.return,E)}}s&64&&Sd(o),s&512&&zo(o,o.return);break;case 3:if(mn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{cf(e,n)}catch(E){De(o,o.return,E)}}break;case 27:n===null&&s&4&&xd(o);case 26:case 5:mn(e,o),n===null&&s&4&&Td(o),s&512&&zo(o,o.return);break;case 12:mn(e,o);break;case 31:mn(e,o),s&4&&Rd(e,o);break;case 13:mn(e,o),s&4&&wd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=by.bind(null,o),Jy(e,o))));break;case 22:if(s=o.memoizedState!==null||dn,!s){n=n!==null&&n.memoizedState!==null||Ke,d=dn;var m=Ke;dn=s,(Ke=n)&&!m?hn(e,o,(o.subtreeFlags&8772)!==0):mn(e,o),dn=d,Ke=m}break;case 30:break;default:mn(e,o)}}function Nd(e){var n=e.alternate;n!==null&&(e.alternate=null,Nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,ht=!1;function pn(e,n,o){for(o=o.child;o!==null;)Md(e,n,o),o=o.sibling}function Md(e,n,o){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ro,o)}catch{}switch(o.tag){case 26:Ke||Zt(o,n),pn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||Zt(o,n);var s=ze,d=ht;Pn(o.type)&&(ze=o.stateNode,ht=!1),pn(e,n,o),Ko(o.stateNode),ze=s,ht=d;break;case 5:Ke||Zt(o,n);case 6:if(s=ze,d=ht,ze=null,pn(e,n,o),ze=s,ht=d,ze!==null)if(ht)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(m){De(o,n,m)}else try{ze.removeChild(o.stateNode)}catch(m){De(o,n,m)}break;case 18:ze!==null&&(ht?(e=ze,Sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ji(e)):Sp(ze,o.stateNode));break;case 4:s=ze,d=ht,ze=o.stateNode.containerInfo,ht=!0,pn(e,n,o),ze=s,ht=d;break;case 0:case 11:case 14:case 15:Ln(2,o,n),Ke||Ln(4,o,n),pn(e,n,o);break;case 1:Ke||(Zt(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&_d(o,n,s)),pn(e,n,o);break;case 21:pn(e,n,o);break;case 22:Ke=(s=Ke)||o.memoizedState!==null,pn(e,n,o),Ke=s;break;default:pn(e,n,o)}}function Rd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(o){De(n,n.return,o)}}}function wd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(o){De(n,n.return,o)}}function vy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ad),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ad),n;default:throw Error(a(435,e.tag))}}function Zl(e,n){var o=vy(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Ny.bind(null,e,s);s.then(d,d)}})}function gt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],m=e,E=n,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Pn(C.type)){ze=C.stateNode,ht=!1;break e}break;case 5:ze=C.stateNode,ht=!1;break e;case 3:case 4:ze=C.stateNode.containerInfo,ht=!0;break e}C=C.return}if(ze===null)throw Error(a(160));Md(m,E,d),ze=null,ht=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dd(n,e),n=n.sibling}var Ot=null;function Dd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(n,e),yt(e),s&4&&(Ln(3,e,e.return),qo(3,e),Ln(5,e,e.return));break;case 1:gt(n,e),yt(e),s&512&&(Ke||o===null||Zt(o,o.return)),s&64&&dn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Ot;if(gt(n,e),yt(e),s&512&&(Ke||o===null||Zt(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[fo]||m[tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),lt(m,s,o),m[tt]=e,$e(m),s=m;break e;case"link":var E=Dp("link","href",d).get(s+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(m=E[C],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}m=d.createElement(s),lt(m,s,o),d.head.appendChild(m);break;case"meta":if(E=Dp("meta","content",d).get(s+(o.content||""))){for(C=0;C<E.length;C++)if(m=E[C],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}m=d.createElement(s),lt(m,s,o),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[tt]=e,$e(m),s=m}e.stateNode=s}else Ip(d,e.type,e.stateNode);else e.stateNode=wp(d,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?Ip(d,e.type,e.stateNode):wp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&xr(e,e.memoizedProps,o.memoizedProps)}break;case 27:gt(n,e),yt(e),s&512&&(Ke||o===null||Zt(o,o.return)),o!==null&&s&4&&xr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(gt(n,e),yt(e),s&512&&(Ke||o===null||Zt(o,o.return)),e.flags&32){d=e.stateNode;try{Ti(d,"")}catch(te){De(e,e.return,te)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,xr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Nr=!0);break;case 6:if(gt(n,e),yt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(te){De(e,e.return,te)}}break;case 3:if(da=null,d=Ot,Ot=ca(n.containerInfo),gt(n,e),Ot=d,yt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(te){De(e,e.return,te)}Nr&&(Nr=!1,Id(e));break;case 4:s=Ot,Ot=ca(e.stateNode.containerInfo),gt(n,e),yt(e),Ot=s;break;case 12:gt(n,e),yt(e);break;case 31:gt(n,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 13:gt(n,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wl=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 22:d=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,I=dn,q=Ke;if(dn=I||d,Ke=q||A,gt(n,e),Ke=q,dn=I,yt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||A||dn||Ke||fi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(m=A.stateNode,d)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=A.stateNode;var B=A.memoizedProps.style,L=B!=null&&B.hasOwnProperty("display")?B.display:null;C.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(te){De(A,A.return,te)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(te){De(A,A.return,te)}}}else if(n.tag===18){if(o===null){A=n;try{var G=A.stateNode;d?_p(G,!0):_p(A.stateNode,!1)}catch(te){De(A,A.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Zl(e,o))));break;case 19:gt(n,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 30:break;case 21:break;default:gt(n,e),yt(e)}}function yt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Cd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,m=Ar(e);Ql(e,m,d);break;case 5:var E=o.stateNode;o.flags&32&&(Ti(E,""),o.flags&=-33);var C=Ar(e);Ql(e,C,E);break;case 3:case 4:var A=o.stateNode.containerInfo,I=Ar(e);br(e,I,A);break;default:throw Error(a(161))}}catch(q){De(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Id(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Id(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function mn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bd(e,n.alternate,n),n=n.sibling}function fi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ln(4,n,n.return),fi(n);break;case 1:Zt(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&_d(n,n.return,o),fi(n);break;case 27:Ko(n.stateNode);case 26:case 5:Zt(n,n.return),fi(n);break;case 22:n.memoizedState===null&&fi(n);break;case 30:fi(n);break;default:fi(n)}e=e.sibling}}function hn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,E=m.flags;switch(m.tag){case 0:case 11:case 15:hn(d,m,o),qo(4,m);break;case 1:if(hn(d,m,o),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){De(s,s.return,I)}if(s=m,d=s.updateQueue,d!==null){var C=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)uf(A[d],C)}catch(I){De(s,s.return,I)}}o&&E&64&&Sd(m),zo(m,m.return);break;case 27:xd(m);case 26:case 5:hn(d,m,o),o&&s===null&&E&4&&Td(m),zo(m,m.return);break;case 12:hn(d,m,o);break;case 31:hn(d,m,o),o&&E&4&&Rd(d,m);break;case 13:hn(d,m,o),o&&E&4&&wd(d,m);break;case 22:m.memoizedState===null&&hn(d,m,o),zo(m,m.return);break;case 30:break;default:hn(d,m,o)}n=n.sibling}}function Mr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ao(o))}function Rr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e))}function Ft(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ud(e,n,o,s),n=n.sibling}function Ud(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Ft(e,n,o,s),d&2048&&qo(9,n);break;case 1:Ft(e,n,o,s);break;case 3:Ft(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e)));break;case 12:if(d&2048){Ft(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,E=m.id,C=m.onPostCommit;typeof C=="function"&&C(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){De(n,n.return,A)}}else Ft(e,n,o,s);break;case 31:Ft(e,n,o,s);break;case 13:Ft(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,E=n.alternate,n.memoizedState!==null?m._visibility&2?Ft(e,n,o,s):Vo(e,n):m._visibility&2?Ft(e,n,o,s):(m._visibility|=2,Bi(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Mr(E,n);break;case 24:Ft(e,n,o,s),d&2048&&Rr(n.alternate,n);break;default:Ft(e,n,o,s)}}function Bi(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,E=n,C=o,A=s,I=E.flags;switch(E.tag){case 0:case 11:case 15:Bi(m,E,C,A,d),qo(8,E);break;case 23:break;case 22:var q=E.stateNode;E.memoizedState!==null?q._visibility&2?Bi(m,E,C,A,d):Vo(m,E):(q._visibility|=2,Bi(m,E,C,A,d)),d&&I&2048&&Mr(E.alternate,E);break;case 24:Bi(m,E,C,A,d),d&&I&2048&&Rr(E.alternate,E);break;default:Bi(m,E,C,A,d)}n=n.sibling}}function Vo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Vo(o,s),d&2048&&Mr(s.alternate,s);break;case 24:Vo(o,s),d&2048&&Rr(s.alternate,s);break;default:Vo(o,s)}n=n.sibling}}var Po=8192;function Oi(e,n,o){if(e.subtreeFlags&Po)for(e=e.child;e!==null;)Ld(e,n,o),e=e.sibling}function Ld(e,n,o){switch(e.tag){case 26:Oi(e,n,o),e.flags&Po&&e.memoizedState!==null&&ov(o,Ot,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,n,o);break;case 3:case 4:var s=Ot;Ot=ca(e.stateNode.containerInfo),Oi(e,n,o),Ot=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Po,Po=16777216,Oi(e,n,o),Po=s):Oi(e,n,o));break;default:Oi(e,n,o)}}function Gd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];We=s,Hd(s,e)}Gd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kd(e),e=e.sibling}function kd(e){switch(e.tag){case 0:case 11:case 15:Bo(e),e.flags&2048&&Ln(9,e,e.return);break;case 3:Bo(e);break;case 12:Bo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$l(e)):Bo(e);break;default:Bo(e)}}function $l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];We=s,Hd(s,e)}Gd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ln(8,n,n.return),$l(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,$l(n));break;default:$l(n)}e=e.sibling}}function Hd(e,n){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:Ln(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ao(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,We=s;else e:for(o=e;We!==null;){s=We;var d=s.sibling,m=s.return;if(Nd(s),s===o){We=null;break e}if(d!==null){d.return=m,We=d;break e}We=m}}}var Ey={getCacheForType:function(e){var n=it(Ye),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return it(Ye).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ge=null,ye=null,Se=0,we=0,Nt=null,Gn=!1,Fi=!1,wr=!1,gn=0,Be=0,kn=0,di=0,Dr=0,Mt=0,Yi=0,Oo=null,vt=null,Ir=!1,Wl=0,qd=0,jl=1/0,ea=null,Hn=null,Qe=0,qn=null,Ji=null,yn=0,Ur=0,Lr=null,zd=null,Fo=0,Gr=null;function Rt(){return(Re&2)!==0&&Se!==0?Se&-Se:M.T!==null?Pr():ec()}function Vd(){if(Mt===0)if((Se&536870912)===0||Te){var e=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),Mt=e}else Mt=536870912;return e=At.current,e!==null&&(e.flags|=32),Mt}function Et(e,n,o){(e===Ge&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Xi(e,0),zn(e,Se,Mt,!1)),co(e,o),((Re&2)===0||e!==Ge)&&(e===Ge&&((Re&2)===0&&(di|=o),Be===4&&zn(e,Se,Mt,!1)),$t(e))}function Pd(e,n,o){if((Re&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||uo(e,n),d=s?Cy(e,n):Hr(e,n,!0),m=s;do{if(d===0){Fi&&!s&&zn(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!_y(o)){d=Hr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var C=e;d=Oo;var A=C.current.memoizedState.isDehydrated;if(A&&(Xi(C,E).flags|=256),E=Hr(C,E,!1),E!==2){if(wr&&!A){C.errorRecoveryDisabledLanes|=m,di|=m,d=4;break e}m=vt,vt=d,m!==null&&(vt===null?vt=m:vt.push.apply(vt,m))}d=E}if(m=!1,d!==2)continue}}if(d===1){Xi(e,0),zn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zn(s,n,Mt,!Gn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Wl+300-St(),10<d)){if(zn(s,n,Mt,!Gn),cl(s,0,!0)!==0)break e;yn=n,s.timeoutHandle=vp(Bd.bind(null,s,o,vt,ea,Ir,n,Mt,di,Yi,Gn,m,"Throttled",-0,0),d);break e}Bd(s,o,vt,ea,Ir,n,Mt,di,Yi,Gn,m,null,-0,0)}}break}while(!0);$t(e)}function Bd(e,n,o,s,d,m,E,C,A,I,q,B,L,G){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},Ld(n,m,B);var te=(m&62914560)===m?Wl-St():(m&4194048)===m?qd-St():0;if(te=lv(B,te),te!==null){yn=m,e.cancelPendingCommit=te(Zd.bind(null,e,n,m,o,s,d,E,C,A,q,B,null,L,G)),zn(e,m,E,!I);return}}Zd(e,n,m,o,s,d,E,C,A)}function _y(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!Ct(m(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zn(e,n,o,s){n&=~Dr,n&=~di,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Tt(d),E=1<<m;s[m]=-1,d&=~E}o!==0&&$u(e,o,n)}function ta(){return(Re&6)===0?(Yo(0),!1):!0}function kr(){if(ye!==null){if(we===0)var e=ye.return;else e=ye,an=ii=null,Ws(e),Hi=null,No=0,e=ye;for(;e!==null;)Ed(e.alternate,e),e=e.return;ye=null}}function Xi(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Py(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),yn=0,kr(),Ge=e,ye=o=on(e.current,null),Se=n,we=0,Nt=null,Gn=!1,Fi=uo(e,n),wr=!1,Yi=Mt=Dr=di=kn=Be=0,vt=Oo=null,Ir=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Tt(s),m=1<<d;n|=e[d],s&=~m}return gn=n,Tl(),o}function Od(e,n){de=null,M.H=Go,n===ki||n===wl?(n=lf(),we=3):n===Vs?(n=lf(),we=4):we=n===mr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nt=n,ye===null&&(Be=1,Fl(e,Ut(n,e.current)))}function Fd(){var e=At.current;return e===null?!0:(Se&4194048)===Se?Ht===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Ht:!1}function Yd(){var e=M.H;return M.H=Go,e===null?Go:e}function Jd(){var e=M.A;return M.A=Ey,e}function na(){Be=4,Gn||(Se&4194048)!==Se&&At.current!==null||(Fi=!0),(kn&134217727)===0&&(di&134217727)===0||Ge===null||zn(Ge,Se,Mt,!1)}function Hr(e,n,o){var s=Re;Re|=2;var d=Yd(),m=Jd();(Ge!==e||Se!==n)&&(ea=null,Xi(e,n)),n=!1;var E=Be;e:do try{if(we!==0&&ye!==null){var C=ye,A=Nt;switch(we){case 8:kr(),E=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var I=we;if(we=0,Nt=null,Ki(e,C,A,I),o&&Fi){E=0;break e}break;default:I=we,we=0,Nt=null,Ki(e,C,A,I)}}Ty(),E=Be;break}catch(q){Od(e,q)}while(!0);return n&&e.shellSuspendCounter++,an=ii=null,Re=s,M.H=d,M.A=m,ye===null&&(Ge=null,Se=0,Tl()),E}function Ty(){for(;ye!==null;)Xd(ye)}function Cy(e,n){var o=Re;Re|=2;var s=Yd(),d=Jd();Ge!==e||Se!==n?(ea=null,jl=St()+500,Xi(e,n)):Fi=uo(e,n);e:do try{if(we!==0&&ye!==null){n=ye;var m=Nt;t:switch(we){case 1:we=0,Nt=null,Ki(e,n,m,1);break;case 2:case 9:if(nf(m)){we=0,Nt=null,Kd(n);break}n=function(){we!==2&&we!==9||Ge!==e||(we=7),$t(e)},m.then(n,n);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:nf(m)?(we=0,Nt=null,Kd(n)):(we=0,Nt=null,Ki(e,n,m,7));break;case 5:var E=null;switch(ye.tag){case 26:E=ye.memoizedState;case 5:case 27:var C=ye;if(E?Up(E):C.stateNode.complete){we=0,Nt=null;var A=C.sibling;if(A!==null)ye=A;else{var I=C.return;I!==null?(ye=I,ia(I)):ye=null}break t}}we=0,Nt=null,Ki(e,n,m,5);break;case 6:we=0,Nt=null,Ki(e,n,m,6);break;case 8:kr(),Be=6;break e;default:throw Error(a(462))}}xy();break}catch(q){Od(e,q)}while(!0);return an=ii=null,M.H=s,M.A=d,Re=o,ye!==null?0:(Ge=null,Se=0,Tl(),Be)}function xy(){for(;ye!==null&&!Xg();)Xd(ye)}function Xd(e){var n=yd(e.alternate,e,gn);e.memoizedProps=e.pendingProps,n===null?ia(e):ye=n}function Kd(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=fd(o,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=fd(o,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:Ws(n);default:Ed(o,n),n=ye=Yc(n,gn),n=yd(o,n,gn)}e.memoizedProps=e.pendingProps,n===null?ia(e):ye=n}function Ki(e,n,o,s){an=ii=null,Ws(n),Hi=null,No=0;var d=n.return;try{if(dy(e,d,n,o,Se)){Be=1,Fl(e,Ut(o,e.current)),ye=null;return}}catch(m){if(d!==null)throw ye=d,m;Be=1,Fl(e,Ut(o,e.current)),ye=null;return}n.flags&32768?(Te||s===1?e=!0:Fi||(Se&536870912)!==0?e=!1:(Gn=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),Qd(n,e)):ia(n)}function ia(e){var n=e;do{if((n.flags&32768)!==0){Qd(n,Gn);return}e=n.return;var o=hy(n.alternate,n,gn);if(o!==null){ye=o;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=e}while(n!==null);Be===0&&(Be=5)}function Qd(e,n){do{var o=gy(e.alternate,e);if(o!==null){o.flags&=32767,ye=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ye=e;return}ye=e=o}while(e!==null);Be=6,ye=null}function Zd(e,n,o,s,d,m,E,C,A){e.cancelPendingCommit=null;do oa();while(Qe!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=As,i0(e,o,m,E,C,A),e===Ge&&(ye=Ge=null,Se=0),Ji=n,qn=e,yn=o,Ur=m,Lr=d,zd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,My(al,function(){return tp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,d=J.p,J.p=2,E=Re,Re|=4;try{yy(e,n,o)}finally{Re=E,J.p=d,M.T=s}}Qe=1,$d(),Wd(),jd()}}function $d(){if(Qe===1){Qe=0;var e=qn,n=Ji,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null;var s=J.p;J.p=2;var d=Re;Re|=4;try{Dd(n,e);var m=Qr,E=kc(e.containerInfo),C=m.focusedElem,A=m.selectionRange;if(E!==C&&C&&C.ownerDocument&&Gc(C.ownerDocument.documentElement,C)){if(A!==null&&Ss(C)){var I=A.start,q=A.end;if(q===void 0&&(q=I),"selectionStart"in C)C.selectionStart=I,C.selectionEnd=Math.min(q,C.value.length);else{var B=C.ownerDocument||document,L=B&&B.defaultView||window;if(L.getSelection){var G=L.getSelection(),te=C.textContent.length,re=Math.min(A.start,te),Le=A.end===void 0?re:Math.min(A.end,te);!G.extend&&re>Le&&(E=Le,Le=re,re=E);var R=Lc(C,re),N=Lc(C,Le);if(R&&N&&(G.rangeCount!==1||G.anchorNode!==R.node||G.anchorOffset!==R.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var D=B.createRange();D.setStart(R.node,R.offset),G.removeAllRanges(),re>Le?(G.addRange(D),G.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),G.addRange(D))}}}}for(B=[],G=C;G=G.parentNode;)G.nodeType===1&&B.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<B.length;C++){var V=B[C];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ga=!!Kr,Qr=Kr=null}finally{Re=d,J.p=s,M.T=o}}e.current=n,Qe=2}}function Wd(){if(Qe===2){Qe=0;var e=qn,n=Ji,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=M.T,M.T=null;var s=J.p;J.p=2;var d=Re;Re|=4;try{bd(e,n.alternate,n)}finally{Re=d,J.p=s,M.T=o}}Qe=3}}function jd(){if(Qe===4||Qe===3){Qe=0,Kg();var e=qn,n=Ji,o=yn,s=zd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Ji=qn=null,ep(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Hn=null),ts(o),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ro,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=M.T,d=J.p,J.p=2,M.T=null;try{for(var m=e.onRecoverableError,E=0;E<s.length;E++){var C=s[E];m(C.value,{componentStack:C.stack})}}finally{M.T=n,J.p=d}}(yn&3)!==0&&oa(),$t(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Gr?Fo++:(Fo=0,Gr=e):Fo=0,Yo(0)}}function ep(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ao(n)))}function oa(){return $d(),Wd(),jd(),tp()}function tp(){if(Qe!==5)return!1;var e=qn,n=Ur;Ur=0;var o=ts(yn),s=M.T,d=J.p;try{J.p=32>o?32:o,M.T=null,o=Lr,Lr=null;var m=qn,E=yn;if(Qe=0,Ji=qn=null,yn=0,(Re&6)!==0)throw Error(a(331));var C=Re;if(Re|=4,kd(m.current),Ud(m,m.current,E,o),Re=C,Yo(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ro,m)}catch{}return!0}finally{J.p=d,M.T=s,ep(e,n)}}function np(e,n,o){n=Ut(o,n),n=pr(e.stateNode,n,2),e=Dn(e,n,2),e!==null&&(co(e,2),$t(e))}function De(e,n,o){if(e.tag===3)np(e,e,o);else for(;n!==null;){if(n.tag===3){np(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hn===null||!Hn.has(s))){e=Ut(o,e),o=id(2),s=Dn(n,o,2),s!==null&&(od(o,s,n,e),co(s,2),$t(s));break}}n=n.return}}function qr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Sy;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(wr=!0,d.add(o),e=Ay.bind(null,e,n,o),n.then(e,e))}function Ay(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ge===e&&(Se&o)===o&&(Be===4||Be===3&&(Se&62914560)===Se&&300>St()-Wl?(Re&2)===0&&Xi(e,0):Dr|=o,Yi===Se&&(Yi=0)),$t(e)}function ip(e,n){n===0&&(n=Zu()),e=ei(e,n),e!==null&&(co(e,n),$t(e))}function by(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),ip(e,o)}function Ny(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),ip(e,o)}function My(e,n){return $a(e,n)}var la=null,Qi=null,zr=!1,aa=!1,Vr=!1,Vn=0;function $t(e){e!==Qi&&e.next===null&&(Qi===null?la=Qi=e:Qi=Qi.next=e),aa=!0,zr||(zr=!0,wy())}function Yo(e,n){if(!Vr&&aa){Vr=!0;do for(var o=!1,s=la;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var E=s.suspendedLanes,C=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=d&~(E&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,sp(s,m))}else m=Se,m=cl(s,s===Ge?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||uo(s,m)||(o=!0,sp(s,m));s=s.next}while(o);Vr=!1}}function Ry(){op()}function op(){aa=zr=!1;var e=0;Vn!==0&&Vy()&&(e=Vn);for(var n=St(),o=null,s=la;s!==null;){var d=s.next,m=lp(s,n);m===0?(s.next=null,o===null?la=d:o.next=d,d===null&&(Qi=o)):(o=s,(e!==0||(m&3)!==0)&&(aa=!0)),s=d}Qe!==0&&Qe!==5||Yo(e),Vn!==0&&(Vn=0)}function lp(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var E=31-Tt(m),C=1<<E,A=d[E];A===-1?((C&o)===0||(C&s)!==0)&&(d[E]=n0(C,n)):A<=n&&(e.expiredLanes|=C),m&=~C}if(n=Ge,o=Se,o=cl(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(we===2||we===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Wa(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||uo(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Wa(s),ts(o)){case 2:case 8:o=Ku;break;case 32:o=al;break;case 268435456:o=Qu;break;default:o=al}return s=ap.bind(null,e),o=$a(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Wa(s),e.callbackPriority=2,e.callbackNode=null,2}function ap(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(oa()&&e.callbackNode!==o)return null;var s=Se;return s=cl(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Pd(e,s,n),lp(e,St()),e.callbackNode!=null&&e.callbackNode===o?ap.bind(null,e):null)}function sp(e,n){if(oa())return null;Pd(e,n,!0)}function wy(){By(function(){(Re&6)!==0?$a(Xu,Ry):op()})}function Pr(){if(Vn===0){var e=Li;e===0&&(e=sl,sl<<=1,(sl&261888)===0&&(sl=256)),Vn=e}return Vn}function rp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function up(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Dy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var m=rp((d[pt]||null).action),E=s.submitter;E&&(n=(n=E[pt]||null)?rp(n.formAction):E.getAttribute("formAction"),n!==null&&(m=n,E=null));var C=new vl("action","action",null,s,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var A=E?up(d,E):new FormData(d);sr(o,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(C.preventDefault(),A=E?up(d,E):new FormData(d),sr(o,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Br=0;Br<xs.length;Br++){var Or=xs[Br],Iy=Or.toLowerCase(),Uy=Or[0].toUpperCase()+Or.slice(1);Bt(Iy,"on"+Uy)}Bt(zc,"onAnimationEnd"),Bt(Vc,"onAnimationIteration"),Bt(Pc,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(Q0,"onTransitionRun"),Bt(Z0,"onTransitionStart"),Bt($0,"onTransitionCancel"),Bt(Bc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function cp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var E=s.length-1;0<=E;E--){var C=s[E],A=C.instance,I=C.currentTarget;if(C=C.listener,A!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=I;try{m(d)}catch(q){_l(q)}d.currentTarget=null,m=A}else for(E=0;E<s.length;E++){if(C=s[E],A=C.instance,I=C.currentTarget,C=C.listener,A!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=I;try{m(d)}catch(q){_l(q)}d.currentTarget=null,m=A}}}}function ve(e,n){var o=n[ns];o===void 0&&(o=n[ns]=new Set);var s=e+"__bubble";o.has(s)||(fp(n,e,2,!1),o.add(s))}function Fr(e,n,o){var s=0;n&&(s|=4),fp(o,e,s,n)}var sa="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[sa]){e[sa]=!0,ic.forEach(function(o){o!=="selectionchange"&&(Ly.has(o)||Fr(o,!1,e),Fr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sa]||(n[sa]=!0,Fr("selectionchange",!1,n))}}function fp(e,n,o,s){switch(Vp(n)){case 2:var d=rv;break;case 8:d=uv;break;default:d=au}o=d.bind(null,n,o,e),d=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Jr(e,n,o,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var C=s.stateNode.containerInfo;if(C===d)break;if(E===4)for(E=s.return;E!==null;){var A=E.tag;if((A===3||A===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;C!==null;){if(E=yi(C),E===null)return;if(A=E.tag,A===5||A===6||A===26||A===27){s=m=E;continue e}C=C.parentNode}}s=s.return}hc(function(){var I=m,q=us(o),B=[];e:{var L=Oc.get(e);if(L!==void 0){var G=vl,te=e;switch(e){case"keypress":if(gl(o)===0)break e;case"keydown":case"keyup":G=N0;break;case"focusin":te="focus",G=hs;break;case"focusout":te="blur",G=hs;break;case"beforeblur":case"afterblur":G=hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=w0;break;case zc:case Vc:case Pc:G=v0;break;case Bc:G=I0;break;case"scroll":case"scrollend":G=p0;break;case"wheel":G=L0;break;case"copy":case"cut":case"paste":G=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Sc;break;case"toggle":case"beforetoggle":G=k0}var re=(n&4)!==0,Le=!re&&(e==="scroll"||e==="scrollend"),R=re?L!==null?L+"Capture":null:L;re=[];for(var N=I,D;N!==null;){var V=N;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||R===null||(V=mo(N,R),V!=null&&re.push(Xo(N,V,D))),Le)break;N=N.return}0<re.length&&(L=new G(L,te,null,o,q),B.push({event:L,listeners:re}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",L&&o!==rs&&(te=o.relatedTarget||o.fromElement)&&(yi(te)||te[gi]))break e;if((G||L)&&(L=q.window===q?q:(L=q.ownerDocument)?L.defaultView||L.parentWindow:window,G?(te=o.relatedTarget||o.toElement,G=I,te=te?yi(te):null,te!==null&&(Le=c(te),re=te.tag,te!==Le||re!==5&&re!==27&&re!==6)&&(te=null)):(G=null,te=I),G!==te)){if(re=vc,V="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(re=Sc,V="onPointerLeave",R="onPointerEnter",N="pointer"),Le=G==null?L:po(G),D=te==null?L:po(te),L=new re(V,N+"leave",G,o,q),L.target=Le,L.relatedTarget=D,V=null,yi(q)===I&&(re=new re(R,N+"enter",te,o,q),re.target=D,re.relatedTarget=Le,V=re),Le=V,G&&te)t:{for(re=Gy,R=G,N=te,D=0,V=R;V;V=re(V))D++;V=0;for(var le=N;le;le=re(le))V++;for(;0<D-V;)R=re(R),D--;for(;0<V-D;)N=re(N),V--;for(;D--;){if(R===N||N!==null&&R===N.alternate){re=R;break t}R=re(R),N=re(N)}re=null}else re=null;G!==null&&dp(B,L,G,re,!1),te!==null&&Le!==null&&dp(B,Le,te,re,!0)}}e:{if(L=I?po(I):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var be=Mc;else if(bc(L))if(Rc)be=J0;else{be=F0;var oe=O0}else G=L.nodeName,!G||G.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?I&&ss(I.elementType)&&(be=Mc):be=Y0;if(be&&(be=be(e,I))){Nc(B,be,o,q);break e}oe&&oe(e,L,I),e==="focusout"&&I&&L.type==="number"&&I.memoizedProps.value!=null&&as(L,"number",L.value)}switch(oe=I?po(I):window,e){case"focusin":(bc(oe)||oe.contentEditable==="true")&&(bi=oe,_s=I,To=null);break;case"focusout":To=_s=bi=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,Hc(B,o,q);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":Hc(B,o,q)}var me;if(ys)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ai?xc(e,o)&&(_e="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(_c&&o.locale!=="ko"&&(Ai||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ai&&(me=gc()):(xn=q,ds="value"in xn?xn.value:xn.textContent,Ai=!0)),oe=ra(I,_e),0<oe.length&&(_e=new Ec(_e,e,null,o,q),B.push({event:_e,listeners:oe}),me?_e.data=me:(me=Ac(o),me!==null&&(_e.data=me)))),(me=q0?z0(e,o):V0(e,o))&&(_e=ra(I,"onBeforeInput"),0<_e.length&&(oe=new Ec("onBeforeInput","beforeinput",null,o,q),B.push({event:oe,listeners:_e}),oe.data=me)),Dy(B,e,I,o,q)}cp(B,n)})}function Xo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ra(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=mo(e,o),d!=null&&s.unshift(Xo(e,d,m)),d=mo(e,n),d!=null&&s.push(Xo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Gy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dp(e,n,o,s,d){for(var m=n._reactName,E=[];o!==null&&o!==s;){var C=o,A=C.alternate,I=C.stateNode;if(C=C.tag,A!==null&&A===s)break;C!==5&&C!==26&&C!==27||I===null||(A=I,d?(I=mo(o,m),I!=null&&E.unshift(Xo(o,I,A))):d||(I=mo(o,m),I!=null&&E.push(Xo(o,I,A)))),o=o.return}E.length!==0&&e.push({event:n,listeners:E})}var ky=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(ky,`
`).replace(Hy,"")}function mp(e,n){return n=pp(n),pp(e)===n}function Ue(e,n,o,s,d,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ti(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ti(e,""+s);break;case"className":dl(e,"class",s);break;case"tabIndex":dl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,o,s);break;case"style":pc(e,s,m);break;case"data":if(n!=="object"){dl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=ml(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&Ue(e,n,"name",d.name,d,null),Ue(e,n,"formEncType",d.formEncType,d,null),Ue(e,n,"formMethod",d.formMethod,d,null),Ue(e,n,"formTarget",d.formTarget,d,null)):(Ue(e,n,"encType",d.encType,d,null),Ue(e,n,"method",d.method,d,null),Ue(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=ml(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=tn);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=ml(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),fl(e,"popover",s);break;case"xlinkActuate":en(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":en(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":en(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":en(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":en(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":en(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":en(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":en(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":en(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=f0.get(o)||o,fl(e,o,s))}}function Xr(e,n,o,s,d,m){switch(o){case"style":pc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Ti(e,s):(typeof s=="number"||typeof s=="bigint")&&Ti(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),m=e[pt]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):fl(e,o,s)}}}function lt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ue(e,n,m,E,o,null)}}d&&Ue(e,n,"srcSet",o.srcSet,o,null),s&&Ue(e,n,"src",o.src,o,null);return;case"input":ve("invalid",e);var C=m=E=d=null,A=null,I=null;for(s in o)if(o.hasOwnProperty(s)){var q=o[s];if(q!=null)switch(s){case"name":d=q;break;case"type":E=q;break;case"checked":A=q;break;case"defaultChecked":I=q;break;case"value":m=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Ue(e,n,s,q,o,null)}}uc(e,m,C,A,I,E,d,!1);return;case"select":ve("invalid",e),s=E=m=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":m=C;break;case"defaultValue":E=C;break;case"multiple":s=C;default:Ue(e,n,d,C,o,null)}n=m,o=E,e.multiple=!!s,n!=null?_i(e,!!s,n,!1):o!=null&&_i(e,!!s,o,!0);return;case"textarea":ve("invalid",e),m=d=s=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":s=C;break;case"defaultValue":d=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Ue(e,n,E,C,o,null)}fc(e,s,d,m);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(s=o[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ue(e,n,A,s,o,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<Jo.length;s++)ve(Jo[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in o)if(o.hasOwnProperty(I)&&(s=o[I],s!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ue(e,n,I,s,o,null)}return;default:if(ss(n)){for(q in o)o.hasOwnProperty(q)&&(s=o[q],s!==void 0&&Xr(e,n,q,s,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(s=o[C],s!=null&&Ue(e,n,C,s,o,null))}function qy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,E=null,C=null,A=null,I=null,q=null;for(G in o){var B=o[G];if(o.hasOwnProperty(G)&&B!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=B;default:s.hasOwnProperty(G)||Ue(e,n,G,null,s,B)}}for(var L in s){var G=s[L];if(B=o[L],s.hasOwnProperty(L)&&(G!=null||B!=null))switch(L){case"type":m=G;break;case"name":d=G;break;case"checked":I=G;break;case"defaultChecked":q=G;break;case"value":E=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==B&&Ue(e,n,L,G,s,B)}}ls(e,E,C,A,I,q,m,d);return;case"select":G=E=C=L=null;for(m in o)if(A=o[m],o.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":G=A;default:s.hasOwnProperty(m)||Ue(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=o[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":L=m;break;case"defaultValue":C=m;break;case"multiple":E=m;default:m!==A&&Ue(e,n,d,m,s,A)}n=C,o=E,s=G,L!=null?_i(e,!!o,L,!1):!!s!=!!o&&(n!=null?_i(e,!!o,n,!0):_i(e,!!o,o?[]:"",!1));return;case"textarea":G=L=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ue(e,n,C,null,s,d)}for(E in s)if(d=s[E],m=o[E],s.hasOwnProperty(E)&&(d!=null||m!=null))switch(E){case"value":L=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ue(e,n,E,d,s,m)}cc(e,L,G);return;case"option":for(var te in o)if(L=o[te],o.hasOwnProperty(te)&&L!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Ue(e,n,te,null,s,L)}for(A in s)if(L=s[A],G=o[A],s.hasOwnProperty(A)&&L!==G&&(L!=null||G!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ue(e,n,A,L,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in o)L=o[re],o.hasOwnProperty(re)&&L!=null&&!s.hasOwnProperty(re)&&Ue(e,n,re,null,s,L);for(I in s)if(L=s[I],G=o[I],s.hasOwnProperty(I)&&L!==G&&(L!=null||G!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Ue(e,n,I,L,s,G)}return;default:if(ss(n)){for(var Le in o)L=o[Le],o.hasOwnProperty(Le)&&L!==void 0&&!s.hasOwnProperty(Le)&&Xr(e,n,Le,void 0,s,L);for(q in s)L=s[q],G=o[q],!s.hasOwnProperty(q)||L===G||L===void 0&&G===void 0||Xr(e,n,q,L,s,G);return}}for(var R in o)L=o[R],o.hasOwnProperty(R)&&L!=null&&!s.hasOwnProperty(R)&&Ue(e,n,R,null,s,L);for(B in s)L=s[B],G=o[B],!s.hasOwnProperty(B)||L===G||L==null&&G==null||Ue(e,n,B,L,s,G)}function hp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],m=d.transferSize,E=d.initiatorType,C=d.duration;if(m&&C&&hp(E)){for(E=0,C=d.responseEnd,s+=1;s<o.length;s++){var A=o[s],I=A.startTime;if(I>C)break;var q=A.transferSize,B=A.initiatorType;q&&hp(B)&&(A=A.responseEnd,E+=q*(A<C?1:(C-I)/(A-I)))}if(--s,n+=8*(m+E)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kr=null,Qr=null;function ua(e){return e.nodeType===9?e:e.ownerDocument}function gp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $r=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===$r?!1:($r=e,!0):($r=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,Py=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(Oy)}:vp;function Oy(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function Sp(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),ji(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Ko(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ko(o);for(var m=o.firstChild;m;){var E=m.nextSibling,C=m.nodeName;m[fo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&Ko(e.ownerDocument.body);o=d}while(o);ji(n)}function _p(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Wr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wr(o),is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Fy(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[fo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Yy(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=qt(e.nextSibling),e===null))return null;return e}function Tp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qt(e.nextSibling),e===null))return null;return e}function jr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function qt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var tu=null;function Cp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return qt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function xp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Ap(e,n,o){switch(n=ua(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ko(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var zt=new Map,bp=new Set;function ca(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=J.d;J.d={f:Xy,r:Ky,D:Qy,C:Zy,L:$y,m:Wy,X:ev,S:jy,M:tv};function Xy(){var e=vn.f(),n=ta();return e||n}function Ky(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?Of(n):vn.r(e)}var Zi=typeof document>"u"?null:document;function Np(e,n,o){var s=Zi;if(s&&typeof n=="string"&&n){var d=Dt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),bp.has(d)||(bp.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),lt(n,"link",e),$e(n),s.head.appendChild(n)))}}function Qy(e){vn.D(e),Np("dns-prefetch",e,null)}function Zy(e,n){vn.C(e,n),Np("preconnect",e,n)}function $y(e,n,o){vn.L(e,n,o);var s=Zi;if(s&&e&&n){var d='link[rel="preload"][as="'+Dt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Dt(o.imageSizes)+'"]')):d+='[href="'+Dt(e)+'"]';var m=d;switch(n){case"style":m=$i(e);break;case"script":m=Wi(e)}zt.has(m)||(e=S({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),zt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Qo(m))||n==="script"&&s.querySelector(Zo(m))||(n=s.createElement("link"),lt(n,"link",e),$e(n),s.head.appendChild(n)))}}function Wy(e,n){vn.m(e,n);var o=Zi;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Dt(s)+'"][href="'+Dt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Wi(e)}if(!zt.has(m)&&(e=S({rel:"modulepreload",href:e},n),zt.set(m,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zo(m)))return}s=o.createElement("link"),lt(s,"link",e),$e(s),o.head.appendChild(s)}}}function jy(e,n,o){vn.S(e,n,o);var s=Zi;if(s&&e){var d=Ei(s).hoistableStyles,m=$i(e);n=n||"default";var E=d.get(m);if(!E){var C={loading:0,preload:null};if(E=s.querySelector(Qo(m)))C.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},o),(o=zt.get(m))&&nu(e,o);var A=E=s.createElement("link");$e(A),lt(A,"link",e),A._p=new Promise(function(I,q){A.onload=I,A.onerror=q}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,fa(E,n,s)}E={type:"stylesheet",instance:E,count:1,state:C},d.set(m,E)}}}function ev(e,n){vn.X(e,n);var o=Zi;if(o&&e){var s=Ei(o).hoistableScripts,d=Wi(e),m=s.get(d);m||(m=o.querySelector(Zo(d)),m||(e=S({src:e,async:!0},n),(n=zt.get(d))&&iu(e,n),m=o.createElement("script"),$e(m),lt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function tv(e,n){vn.M(e,n);var o=Zi;if(o&&e){var s=Ei(o).hoistableScripts,d=Wi(e),m=s.get(d);m||(m=o.querySelector(Zo(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=zt.get(d))&&iu(e,n),m=o.createElement("script"),$e(m),lt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Mp(e,n,o,s){var d=(d=he.current)?ca(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=$i(o.href),o=Ei(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=$i(o.href);var m=Ei(d).hoistableStyles,E=m.get(e);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,E),(m=d.querySelector(Qo(e)))&&!m._p&&(E.instance=m,E.state.loading=5),zt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zt.set(e,o),m||nv(d,e,o,E.state))),n&&s===null)throw Error(a(528,""));return E}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wi(o),o=Ei(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $i(e){return'href="'+Dt(e)+'"'}function Qo(e){return'link[rel="stylesheet"]['+e+"]"}function Rp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function nv(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),lt(n,"link",o),$e(n),e.head.appendChild(n))}function Wi(e){return'[src="'+Dt(e)+'"]'}function Zo(e){return"script[async]"+e}function wp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(s)return n.instance=s,$e(s),s;var d=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),$e(s),lt(s,"style",d),fa(s,o.precedence,e),n.instance=s;case"stylesheet":d=$i(o.href);var m=e.querySelector(Qo(d));if(m)return n.state.loading|=4,n.instance=m,$e(m),m;s=Rp(o),(d=zt.get(d))&&nu(s,d),m=(e.ownerDocument||e).createElement("link"),$e(m);var E=m;return E._p=new Promise(function(C,A){E.onload=C,E.onerror=A}),lt(m,"link",s),n.state.loading|=4,fa(m,o.precedence,e),n.instance=m;case"script":return m=Wi(o.src),(d=e.querySelector(Zo(m)))?(n.instance=d,$e(d),d):(s=o,(d=zt.get(m))&&(s=S({},o),iu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),$e(d),lt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,fa(s,o.precedence,e));return n.instance}function fa(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,E=0;E<s.length;E++){var C=s[E];if(C.dataset.precedence===n)m=C;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var da=null;function Dp(e,n,o){if(da===null){var s=new Map,d=da=new Map;d.set(o,s)}else d=da,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var m=o[d];if(!(m[fo]||m[tt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(n)||"";E=e+E;var C=s.get(E);C?C.push(m):s.set(E,[m])}}return s}function Ip(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function iv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Up(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ov(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=$i(s.href),m=n.querySelector(Qo(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,$e(m);return}m=n.ownerDocument||n,s=Rp(s),(d=zt.get(d))&&nu(s,d),m=m.createElement("link"),$e(m);var E=m;E._p=new Promise(function(C,A){E.onload=C,E.onerror=A}),lt(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=pa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var ou=0;function lv(e,n){return e.stylesheets&&e.count===0&&ha(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&ha(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&ou===0&&(ou=62500*zy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ha(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>ou?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ha(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ma=null;function ha(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ma=new Map,n.forEach(av,e),ma=null,pa.call(e))}function av(e,n){if(!(n.state.loading&4)){var o=ma.get(e);if(o)var s=o.get(null);else{o=new Map,ma.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var E=d[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),s=E)}s&&o.set(null,s)}d=n.instance,E=d.getAttribute("data-precedence"),m=o.get(E)||s,m===s&&o.set(null,d),o.set(E,d),this.count++,s=pa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var $o={$$typeof:H,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function sv(e,n,o,s,d,m,E,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Lp(e,n,o,s,d,m,E,C,A,I,q,B){return e=new sv(e,n,o,E,A,I,q,B,C),n=1,m===!0&&(n|=24),m=xt(3,null,null,n),e.current=m,m.stateNode=e,n=Hs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},Ps(m),e}function Gp(e){return e?(e=Ri,e):Ri}function kp(e,n,o,s,d,m){d=Gp(d),s.context===null?s.context=d:s.pendingContext=d,s=wn(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=Dn(e,s,n),o!==null&&(Et(o,e,n),Ro(o,e,n))}function Hp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function lu(e,n){Hp(e,n),(e=e.alternate)&&Hp(e,n)}function qp(e){if(e.tag===13||e.tag===31){var n=ei(e,67108864);n!==null&&Et(n,e,67108864),lu(e,67108864)}}function zp(e){if(e.tag===13||e.tag===31){var n=Rt();n=es(n);var o=ei(e,n);o!==null&&Et(o,e,n),lu(e,n)}}var ga=!0;function rv(e,n,o,s){var d=M.T;M.T=null;var m=J.p;try{J.p=2,au(e,n,o,s)}finally{J.p=m,M.T=d}}function uv(e,n,o,s){var d=M.T;M.T=null;var m=J.p;try{J.p=8,au(e,n,o,s)}finally{J.p=m,M.T=d}}function au(e,n,o,s){if(ga){var d=su(s);if(d===null)Jr(e,n,s,ya,o),Pp(e,s);else if(fv(d,e,n,o,s))s.stopPropagation();else if(Pp(e,s),n&4&&-1<cv.indexOf(e)){for(;d!==null;){var m=vi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Qn(m.pendingLanes);if(E!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var A=1<<31-Tt(E);C.entanglements[1]|=A,E&=~A}$t(m),(Re&6)===0&&(jl=St()+500,Yo(0))}}break;case 31:case 13:C=ei(m,2),C!==null&&Et(C,m,2),ta(),lu(m,2)}if(m=su(s),m===null&&Jr(e,n,s,ya,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else Jr(e,n,s,null,o)}}function su(e){return e=us(e),ru(e)}var ya=null;function ru(e){if(ya=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ya=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qg()){case Xu:return 2;case Ku:return 8;case al:case Zg:return 32;case Qu:return 268435456;default:return 32}default:return 32}}var uu=!1,Bn=null,On=null,Fn=null,Wo=new Map,jo=new Map,Yn=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(e,n){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(n.pointerId)}}function el(e,n,o,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=vi(n),n!==null&&qp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function fv(e,n,o,s,d){switch(n){case"focusin":return Bn=el(Bn,e,n,o,s,d),!0;case"dragenter":return On=el(On,e,n,o,s,d),!0;case"mouseover":return Fn=el(Fn,e,n,o,s,d),!0;case"pointerover":var m=d.pointerId;return Wo.set(m,el(Wo.get(m)||null,e,n,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,jo.set(m,el(jo.get(m)||null,e,n,o,s,d)),!0}return!1}function Bp(e){var n=yi(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,tc(e.priority,function(){zp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,tc(e.priority,function(){zp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=su(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);rs=s,o.target.dispatchEvent(s),rs=null}else return n=vi(o),n!==null&&qp(n),e.blockedOn=o,!1;n.shift()}return!0}function Op(e,n,o){va(e)&&o.delete(n)}function dv(){uu=!1,Bn!==null&&va(Bn)&&(Bn=null),On!==null&&va(On)&&(On=null),Fn!==null&&va(Fn)&&(Fn=null),Wo.forEach(Op),jo.forEach(Op)}function Ea(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dv)))}var Sa=null;function Fp(e){Sa!==e&&(Sa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sa===e&&(Sa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(ru(s||o)===null)continue;break}var m=vi(o);m!==null&&(e.splice(n,3),n-=3,sr(m,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function ji(e){function n(A){return Ea(A,e)}Bn!==null&&Ea(Bn,e),On!==null&&Ea(On,e),Fn!==null&&Ea(Fn,e),Wo.forEach(n),jo.forEach(n);for(var o=0;o<Yn.length;o++){var s=Yn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Yn.length&&(o=Yn[0],o.blockedOn===null);)Bp(o),o.blockedOn===null&&Yn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],m=o[s+1],E=d[pt]||null;if(typeof m=="function")E||Fp(o);else if(E){var C=null;if(m&&m.hasAttribute("formAction")){if(d=m,E=m[pt]||null)C=E.formAction;else if(ru(d)!==null)continue}else C=E.action;typeof C=="function"?o[s+1]=C:(o.splice(s,3),s-=3),Fp(o)}}}function Yp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function cu(e){this._internalRoot=e}_a.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Rt();kp(o,s,e,n,null,null)},_a.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;kp(e.current,2,null,e,null,null),ta(),n[gi]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var n=ec();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Yn.length&&n!==0&&n<Yn[o].priority;o++);Yn.splice(o,0,e),o===0&&Bp(e)}};var Jp=t.version;if(Jp!=="19.2.3")throw Error(a(527,Jp,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var pv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{ro=Ta.inject(pv),_t=Ta}catch{}}return nl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=jf,m=ed,E=td;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Lp(e,1,!1,null,null,o,s,null,d,m,E,Yp),e[gi]=n.current,Yr(e),new cu(n)},nl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",m=jf,E=ed,C=td,A=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=Lp(e,1,!0,n,o??null,s,d,A,m,E,C,Yp),n.context=Gp(null),o=n.current,s=Rt(),s=es(s),d=wn(s),d.callback=null,Dn(o,d,s),o=s,n.current.lanes=o,co(n,o),$t(n),e[gi]=n.current,Yr(e),new _a(n)},nl.version="19.2.3",nl}var nm;function Av(){if(nm)return pu.exports;nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=xv(),pu.exports}var bv=Av();const Nv=Oh(bv);var Mv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rv,wv;function Dv(){return{geminiUrl:Rv,vertexUrl:wv}}function Iv(i,t,l,a){var r,c;if(!(i!=null&&i.baseUrl)){const p=Dv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sn{}function $(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];f(v,t.slice(c+1),l[h])}else for(const h of y)f(h,t.slice(c+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Uv(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Eu(i,r,c,0,p)}}function Eu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Eu(y,t,l,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const S=[];for(const _ of l.slice(a))_==="*"?S.push(h):S.push(_);f(p,S,v)}for(const h of g)delete p[h]}}else{const p=i;c in p&&Eu(p[c],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lv(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function Gv(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],Hv(p)),t}function kv(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],qv(p)),t}function Hv(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>zv(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function qv(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>Vv(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function zv(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],Jv(l)),t}function Vv(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],Xv(l)),t}function Pv(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Bv(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Ov(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],Fv(p)),t}function Fv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Fh(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],Yv(p)),t}function Yv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Jv(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Gu(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Xv(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Gu(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var im;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(im||(im={}));var om;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(om||(om={}));var lm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(lm||(lm={}));var ft;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ft||(ft={}));var am;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(am||(am={}));var sm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sm||(sm={}));var rm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(rm||(rm={}));var um;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(um||(um={}));var cm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cm||(cm={}));var fm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(fm||(fm={}));var dm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dm||(dm={}));var pm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(pm||(pm={}));var mm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(mm||(mm={}));var hm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(hm||(hm={}));var gm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(gm||(gm={}));var ym;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ym||(ym={}));var vm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vm||(vm={}));var Em;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Em||(Em={}));var Sm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sm||(Sm={}));var Ia;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ia||(Ia={}));var _m;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_m||(_m={}));var Tm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Tm||(Tm={}));var Cm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cm||(Cm={}));var Su;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Su||(Su={}));var xm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xm||(xm={}));var Am;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Am||(Am={}));var bm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(bm||(bm={}));var Nm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Nm||(Nm={}));var Mm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mm||(Mm={}));var Rm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Rm||(Rm={}));var wm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(wm||(wm={}));var Dm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Dm||(Dm={}));var Im;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Im||(Im={}));var Um;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Um||(Um={}));var Lm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lm||(Lm={}));var Gm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gm||(Gm={}));var km;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(km||(km={}));var Hm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hm||(Hm={}));var qm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(qm||(qm={}));var zm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(zm||(zm={}));var Vm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Vm||(Vm={}));var Pm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Pm||(Pm={}));var Bm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Bm||(Bm={}));var Om;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Om||(Om={}));var Fm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Fm||(Fm={}));var Ym;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Ym||(Ym={}));var Jm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jm||(Jm={}));var Xm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Xm||(Xm={}));var Km;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Km||(Km={}));var Qm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qm||(Qm={}));var Zm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zm||(Zm={}));var $m;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})($m||($m={}));var Wm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wm||(Wm={}));var jm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jm||(jm={}));var eh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(eh||(eh={}));var to;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class _u{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class il{get text(){var t,l,a,r,c,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const _ of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,U]of Object.entries(_))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(U!==null||U!==void 0)&&S.push(x);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,a,r,c,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,x]of Object.entries(S))_!=="inlineData"&&(x!==null||x!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,c,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,c,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,c,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class th{}class nh{}class Kv{}class Qv{}class Zv{}class $v{}class ih{}class oh{}class lh{}class Wv{}class Ua{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ua;let r;const c=t;return l?r=kv(c):r=Gv(c),Object.assign(a,r),a}}class ah{}class sh{}class rh{}class uh{}class jv{}class eE{}class tE{}class ku{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ku,c=Ov(t);return Object.assign(a,c),a}}class nE{}class iE{}class oE{}class ch{}class lE{get text(){var t,l,a;let r="",c=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class aE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Hu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Hu,c=Fh(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Yh(i,t){const l=Me(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Jh(i){return Array.isArray(i)?i.map(t=>La(t)):[La(i)]}function La(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Xh(i){const t=La(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Kh(i){const t=La(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Qh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>fh(t)):[fh(i)]}function Tu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function dh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ph(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function rt(i){if(i==null)throw new Error("ContentUnion is required");return Tu(i)?i:{role:"user",parts:Qh(i)}}function qu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=rt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=rt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>rt(l)):[rt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(dh(i)||ph(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(i)]}const t=[],l=[],a=Tu(i[0]);for(const r of i){const c=Tu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(dh(r)||ph(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Qh(l)}),t}function sE(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ft).includes(l[0].toUpperCase())?l[0].toUpperCase():ft.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ft).includes(a.toUpperCase())?a.toUpperCase():ft.TYPE_UNSPECIFIED})}}function io(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&sE(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ft).includes(g.toUpperCase())?g.toUpperCase():ft.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=io(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(io(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=io(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function zu(i){return io(i)}function Vu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Pu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function lo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=io(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=io(t.response));return i}function ao(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function rE(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function _n(i,t){if(typeof t!="string")throw new Error("name must be a string");return rE(i,t,"cachedContents")}function Zh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Xn(i){return Gu(i)}function uE(i){return i!=null&&typeof i=="object"&&"name"in i}function cE(i){return i!=null&&typeof i=="object"&&"video"in i}function fE(i){return i!=null&&typeof i=="object"&&"uri"in i}function $h(i){var t;let l;if(uE(i)&&(l=i.name),!(fE(i)&&(l=i.uri,l===void 0))&&!(cE(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Wh(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function jh(i){for(const t of["models","tunedModels","publisherModels"])if(dE(i,t))return i[t];return[]}function dE(i,t){return i!==null&&typeof i=="object"&&t in i}function pE(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function mE(i,t={}){const l=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=pE(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function eg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function hE(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function tg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function so(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function ng(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>ZE(p))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["inlinedEmbedContentResponses"],c)}return t}function yE(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function vE(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ra(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],ng(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&f(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&f(t,["dest"],gE(tg(h))),t}function Cu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],ng(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["createTime"]);p!=null&&f(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],EE(S));const _=u(i,["outputConfig"]);_!=null&&f(t,["dest"],yE(tg(_)));const x=u(i,["completionStats"]);return x!=null&&f(t,["completionStats"],x),t}function EE(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function SE(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>QE(i,p))),f(l,["requests","requests"],c)}return l}function _E(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function TE(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function CE(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],so(i,a)),l}function xE(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],so(i,a)),l}function AE(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],bE(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&f(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>x)),f(t,["safetyRatings"],_)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function bE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function ig(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>iS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function NE(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function ME(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],vE(hE(r))),l}function mh(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],SE(i,eg(i,r)));const c=u(t,["config"]);return c!=null&&NE(c,l),l}function RE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],_E(eg(i,r)));const c=u(t,["config"]);return c!=null&&ME(c,l),l}function wE(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function DE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],qE(i,r));const c=u(t,["config"]);return c!=null&&wE(c,l),l}function IE(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],so(i,a)),l}function UE(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],so(i,a)),l}function LE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function GE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function kE(i,t){const l={},a=u(t,["contents"]);if(a!=null){let c=qu(i,a);Array.isArray(c)&&(c=c.map(p=>p)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],HE(r,l)),Uv(l,{"requests[].*":"requests[].request.*"})),l}function HE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function qE(i,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],kE(i,r)),l}function zE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function VE(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PE(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function BE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],ig(rt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&f(a,["logprobs"],_);const x=u(t,["presencePenalty"]);x!=null&&f(a,["presencePenalty"],x);const U=u(t,["frequencyPenalty"]);U!=null&&f(a,["frequencyPenalty"],U);const k=u(t,["seed"]);k!=null&&f(a,["seed"],k);const w=u(t,["responseMimeType"]);w!=null&&f(a,["responseMimeType"],w);const P=u(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],zu(P));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&f(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(l!==void 0&&H!=null){let pe=H;Array.isArray(pe)&&(pe=pe.map(Ee=>oS(Ee))),f(l,["safetySettings"],pe)}const F=u(t,["tools"]);if(l!==void 0&&F!=null){let pe=ao(F);Array.isArray(pe)&&(pe=pe.map(Ee=>aS(lo(Ee)))),f(l,["tools"],pe)}const X=u(t,["toolConfig"]);if(l!==void 0&&X!=null&&f(l,["toolConfig"],lS(X)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(t,["cachedContent"]);l!==void 0&&Q!=null&&f(l,["cachedContent"],_n(i,Q));const O=u(t,["responseModalities"]);O!=null&&f(a,["responseModalities"],O);const ie=u(t,["mediaResolution"]);ie!=null&&f(a,["mediaResolution"],ie);const K=u(t,["speechConfig"]);if(K!=null&&f(a,["speechConfig"],Vu(K)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&f(a,["thinkingConfig"],se);const ge=u(t,["imageConfig"]);ge!=null&&f(a,["imageConfig"],KE(ge));const Ce=u(t,["enableEnhancedCivicAnswers"]);return Ce!=null&&f(a,["enableEnhancedCivicAnswers"],Ce),a}function OE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>AE(h))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function FE(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],so(i,a)),l}function YE(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],so(i,a)),l}function JE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function XE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function KE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function QE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>ig(y))),f(l,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const p=u(t,["config"]);return p!=null&&f(l,["request","generationConfig"],BE(i,p,u(l,["request"],{}))),l}function ZE(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],OE(l));const a=u(i,["error"]);return a!=null&&f(t,["error"],a),t}function $E(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function WE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function jE(i){const t={},l=u(i,["config"]);return l!=null&&$E(l,t),t}function eS(i){const t={},l=u(i,["config"]);return l!=null&&WE(l,t),t}function tS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Ra(p))),f(t,["batchJobs"],c)}return t}function nS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Cu(p))),f(t,["batchJobs"],c)}return t}function iS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],zE(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],VE(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],TE(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function oS(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function lS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],PE(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function aS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(i,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],JE(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],XE(y));const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var En;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));class hi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sS extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(En.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=mh(this.apiClient,t),a=l._url,r=$("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=_,S.request=x}h.push(S)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=RE(this.apiClient,t);return g=$("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}else{const h=mh(this.apiClient,t);return g=$("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Ra(v))}}async createEmbeddingsInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DE(this.apiClient,t);return c=$("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ra(y))}}async get(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,t);return g=$("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}else{const h=FE(this.apiClient,t);return g=$("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Ra(v))}}async cancel(t){var l,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=xE(this.apiClient,t);p=$("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=CE(this.apiClient,t);p=$("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eS(t);return g=$("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=nS(v),_=new ch;return Object.assign(_,S),_})}else{const h=jE(t);return g=$("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=tS(v),_=new ch;return Object.assign(_,S),_})}}async delete(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UE(this.apiClient,t);return g=$("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>GE(v))}else{const h=IE(this.apiClient,t);return g=$("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>LE(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function hh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>DS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function uS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Vt(p);Array.isArray(v)&&(v=v.map(S=>hh(S))),f(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],hh(rt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>US(S))),f(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&f(t,["toolConfig"],IS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function cS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=Vt(p);Array.isArray(S)&&(S=S.map(_=>_)),f(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],rt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>LS(_))),f(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&f(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),l}function fS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Yh(i,a));const r=u(t,["config"]);return r!=null&&uS(r,l),l}function dS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Yh(i,a));const r=u(t,["config"]);return r!=null&&cS(r,l),l}function pS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_n(i,a)),l}function mS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_n(i,a)),l}function hS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function gS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function yS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function vS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ES(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function SS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function _S(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_n(i,a)),l}function TS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_n(i,a)),l}function CS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function xS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function AS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function bS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function NS(i){const t={},l=u(i,["config"]);return l!=null&&AS(l,t),t}function MS(i){const t={},l=u(i,["config"]);return l!=null&&bS(l,t),t}function RS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function wS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function DS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],yS(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],vS(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],rS(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function IS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],ES(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function US(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(i,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],CS(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],xS(y));const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function LS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(_=>SS(_))),f(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&f(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function GS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function kS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function HS(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],_n(i,a));const r=u(t,["config"]);return r!=null&&GS(r,l),l}function qS(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],_n(i,a));const r=u(t,["config"]);return r!=null&&kS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(En.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dS(this.apiClient,t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=fS(this.apiClient,t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=TS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=_S(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=gS(v),_=new rh;return Object.assign(_,S),_})}else{const h=pS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=hS(v),_=new rh;return Object.assign(_,S),_})}}async update(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=qS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=HS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=MS(t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=wS(v),_=new uh;return Object.assign(_,S),_})}else{const h=NS(t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=RS(v),_=new uh;return Object.assign(_,S),_})}}}function Ga(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function gh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(i){return this instanceof ce?(this.v=i,this):new ce(i)}function Yt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(x){return function(U){return Promise.resolve(U).then(x,S)}}function g(x,U){a[x]&&(r[x]=function(k){return new Promise(function(w,P){c.push([x,k,w,P])>1||y(x,k)})},U&&(r[x]=U(r[x])))}function y(x,U){try{h(a[x](U))}catch(k){_(c[0][3],k)}}function h(x){x.value instanceof ce?Promise.resolve(x.value.v).then(v,S):_(c[0][2],x)}function v(x){y("next",x)}function S(x){y("throw",x)}function _(x,U){x(U),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Jt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof gh=="function"?gh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(p){return new Promise(function(g,y){p=i[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:og(l)}function og(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function PS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function yh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),c&&!og(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class BS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new OS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class OS{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),PS(c)}async sendMessage(t){var l;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,h=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(S))!==null&&g!==void 0?g:[]);const x=h?[h]:[];this.recordHistory(a,x,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?yh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Yt(this,arguments,function*(){var r,c,p,g,y,h;const v=[];try{for(var S=!0,_=Jt(t),x;x=yield ce(_.next()),r=x.done,!r;S=!0){g=x.value,S=!1;const U=g;if(VS(U)){const k=(h=(y=U.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;k!==void 0&&v.push(k)}yield yield ce(U)}}catch(U){c={error:U}}finally{try{!S&&!r&&(p=_.return)&&(yield ce(p.call(_)))}finally{if(c)throw c.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...yh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class za extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function YS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function JS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],$h(l)),t}function XS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function KS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],$h(l)),t}function QS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function ZS(i){const t={},l=u(i,["config"]);return l!=null&&QS(l,t),t}function $S(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WS extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(En.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZS(t);return c=$("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=$S(y),v=new nE;return Object.assign(v,h),v})}}async createInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FS(t);return c=$("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=YS(y),v=new iE;return Object.assign(v,h),v})}}async get(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KS(t);return c=$("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JS(t);return c=$("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=XS(y),v=new oE;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wa(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function jS(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>h_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function e_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function t_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function n_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function i_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&f(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const _=u(i,["responseLogprobs"]);_!=null&&f(t,["responseLogprobs"],_);const x=u(i,["responseMimeType"]);x!=null&&f(t,["responseMimeType"],x);const U=u(i,["responseModalities"]);U!=null&&f(t,["responseModalities"],U);const k=u(i,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const w=u(i,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const P=u(i,["seed"]);P!=null&&f(t,["seed"],P);const Y=u(i,["speechConfig"]);Y!=null&&f(t,["speechConfig"],Y);const H=u(i,["stopSequences"]);H!=null&&f(t,["stopSequences"],H);const F=u(i,["temperature"]);F!=null&&f(t,["temperature"],F);const X=u(i,["thinkingConfig"]);X!=null&&f(t,["thinkingConfig"],X);const Q=u(i,["topK"]);Q!=null&&f(t,["topK"],Q);const O=u(i,["topP"]);if(O!=null&&f(t,["topP"],O),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function o_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function l_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function a_(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Pu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const x=u(i,["enableAffectiveDialog"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],x);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&f(t,["setup","systemInstruction"],jS(rt(U)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let Q=ao(k);Array.isArray(Q)&&(Q=Q.map(O=>y_(lo(O)))),f(t,["setup","tools"],Q)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],g_(w));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","outputAudioTranscription"],Y);const H=u(i,["realtimeInputConfig"]);t!==void 0&&H!=null&&f(t,["setup","realtimeInputConfig"],H);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&f(t,["setup","contextWindowCompression"],F);const X=u(i,["proactivity"]);if(t!==void 0&&X!=null&&f(t,["setup","proactivity"],X),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function s_(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],i_(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Pu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const x=u(i,["enableAffectiveDialog"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],x);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&f(t,["setup","systemInstruction"],rt(U));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let O=ao(k);Array.isArray(O)&&(O=O.map(ie=>v_(lo(ie)))),f(t,["setup","tools"],O)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],w);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","outputAudioTranscription"],Y);const H=u(i,["realtimeInputConfig"]);t!==void 0&&H!=null&&f(t,["setup","realtimeInputConfig"],H);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&f(t,["setup","contextWindowCompression"],F);const X=u(i,["proactivity"]);t!==void 0&&X!=null&&f(t,["setup","proactivity"],X);const Q=u(i,["explicitVadSignal"]);return t!==void 0&&Q!=null&&f(t,["setup","explicitVadSignal"],Q),l}function r_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],a_(r,l)),l}function u_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],s_(r,l)),l}function c_(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function f_(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function d_(i){const t={},l=u(i,["media"]);if(l!=null){let h=Jh(l);Array.isArray(h)&&(h=h.map(v=>wa(v))),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],wa(Kh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],wa(Xh(c)));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function p_(i){const t={},l=u(i,["media"]);if(l!=null){let h=Jh(l);Array.isArray(h)&&(h=h.map(v=>v)),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Kh(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Xh(c));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function m_(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],E_(p));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&f(t,["voiceActivityDetectionSignal"],h),t}function h_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],e_(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],t_(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],wa(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function g_(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function y_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(i,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],o_(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],l_(y));const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function v_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(_=>n_(_))),f(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&f(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function E_(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(U=>U)),f(t,["promptTokensDetails"],x)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(U=>U)),f(t,["cacheTokensDetails"],x)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(U=>U)),f(t,["responseTokensDetails"],x)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(U=>U)),f(t,["toolUsePromptTokensDetails"],x)}const _=u(i,["trafficType"]);return _!=null&&f(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function __(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],T_(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&f(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>x)),f(t,["safetyRatings"],_)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function T_(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function C_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let c=Vt(r);Array.isArray(c)&&(c=c.map(p=>p)),f(l,["contents"],c)}return l}function x_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function A_(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&f(t,["statistics"],b_(a)),t}function b_(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function Va(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>GT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function N_(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function M_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function R_(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],rt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>rg(g))),f(t,["tools"],p)}const c=u(i,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],ST(c)),l}function w_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Va(g))),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&M_(c),l}function D_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&R_(c,l),l}function I_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function U_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function L_(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function G_(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function k_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function H_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function q_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&f(t,["parameters","includeRaiReason"],_);const x=u(i,["language"]);t!==void 0&&x!=null&&f(t,["parameters","language"],x);const U=u(i,["outputMimeType"]);t!==void 0&&U!=null&&f(t,["parameters","outputOptions","mimeType"],U);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const P=u(i,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const Y=u(i,["editMode"]);t!==void 0&&Y!=null&&f(t,["parameters","editMode"],Y);const H=u(i,["baseSteps"]);return t!==void 0&&H!=null&&f(t,["parameters","editConfig","baseSteps"],H),l}function z_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>PT(y))),f(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&q_(p,l),l}function V_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Pa(c))),f(t,["generatedImages"],r)}return t}function P_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function B_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(i,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&f(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&f(t,["parameters","autoTruncate"],g),l}function O_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=qu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),f(l,["requests[]","content"],g)}const c=u(t,["config"]);c!=null&&P_(c,l);const p=u(t,["model"]);return p!==void 0&&f(l,["requests[]","model"],Me(i,p)),l}function F_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=qu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["instances[]","content"],p)}const c=u(t,["config"]);return c!=null&&B_(c,l),l}function Y_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function J_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>A_(p))),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function X_(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function K_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Q_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Z_(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function $_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function W_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Va(rt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&f(a,["logprobs"],_);const x=u(t,["presencePenalty"]);x!=null&&f(a,["presencePenalty"],x);const U=u(t,["frequencyPenalty"]);U!=null&&f(a,["frequencyPenalty"],U);const k=u(t,["seed"]);k!=null&&f(a,["seed"],k);const w=u(t,["responseMimeType"]);w!=null&&f(a,["responseMimeType"],w);const P=u(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],zu(P));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&f(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(l!==void 0&&H!=null){let pe=H;Array.isArray(pe)&&(pe=pe.map(Ee=>BT(Ee))),f(l,["safetySettings"],pe)}const F=u(t,["tools"]);if(l!==void 0&&F!=null){let pe=ao(F);Array.isArray(pe)&&(pe=pe.map(Ee=>QT(lo(Ee)))),f(l,["tools"],pe)}const X=u(t,["toolConfig"]);if(l!==void 0&&X!=null&&f(l,["toolConfig"],KT(X)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(t,["cachedContent"]);l!==void 0&&Q!=null&&f(l,["cachedContent"],_n(i,Q));const O=u(t,["responseModalities"]);O!=null&&f(a,["responseModalities"],O);const ie=u(t,["mediaResolution"]);ie!=null&&f(a,["mediaResolution"],ie);const K=u(t,["speechConfig"]);if(K!=null&&f(a,["speechConfig"],Vu(K)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&f(a,["thinkingConfig"],se);const ge=u(t,["imageConfig"]);ge!=null&&f(a,["imageConfig"],AT(ge));const Ce=u(t,["enableEnhancedCivicAnswers"]);return Ce!=null&&f(a,["enableEnhancedCivicAnswers"],Ce),a}function j_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],rt(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&f(a,["logprobs"],_);const x=u(t,["presencePenalty"]);x!=null&&f(a,["presencePenalty"],x);const U=u(t,["frequencyPenalty"]);U!=null&&f(a,["frequencyPenalty"],U);const k=u(t,["seed"]);k!=null&&f(a,["seed"],k);const w=u(t,["responseMimeType"]);w!=null&&f(a,["responseMimeType"],w);const P=u(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],zu(P));const Y=u(t,["responseJsonSchema"]);Y!=null&&f(a,["responseJsonSchema"],Y);const H=u(t,["routingConfig"]);H!=null&&f(a,["routingConfig"],H);const F=u(t,["modelSelectionConfig"]);F!=null&&f(a,["modelConfig"],F);const X=u(t,["safetySettings"]);if(l!==void 0&&X!=null){let M=X;Array.isArray(M)&&(M=M.map(J=>J)),f(l,["safetySettings"],M)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let M=ao(Q);Array.isArray(M)&&(M=M.map(J=>rg(lo(J)))),f(l,["tools"],M)}const O=u(t,["toolConfig"]);l!==void 0&&O!=null&&f(l,["toolConfig"],O);const ie=u(t,["labels"]);l!==void 0&&ie!=null&&f(l,["labels"],ie);const K=u(t,["cachedContent"]);l!==void 0&&K!=null&&f(l,["cachedContent"],_n(i,K));const se=u(t,["responseModalities"]);se!=null&&f(a,["responseModalities"],se);const ge=u(t,["mediaResolution"]);ge!=null&&f(a,["mediaResolution"],ge);const Ce=u(t,["speechConfig"]);Ce!=null&&f(a,["speechConfig"],Vu(Ce));const pe=u(t,["audioTimestamp"]);pe!=null&&f(a,["audioTimestamp"],pe);const Ee=u(t,["thinkingConfig"]);Ee!=null&&f(a,["thinkingConfig"],Ee);const ke=u(t,["imageConfig"]);if(ke!=null&&f(a,["imageConfig"],bT(ke)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function vh(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Va(g))),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],W_(i,c,l)),l}function Eh(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],j_(i,c,l)),l}function Sh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>__(h))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function _h(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(i,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&f(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function eT(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(i,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&f(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=u(i,["imageSize"]);if(t!==void 0&&x!=null&&f(t,["parameters","sampleImageSize"],x),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function tT(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&f(t,["parameters","includeRaiReason"],_);const x=u(i,["language"]);t!==void 0&&x!=null&&f(t,["parameters","language"],x);const U=u(i,["outputMimeType"]);t!==void 0&&U!=null&&f(t,["parameters","outputOptions","mimeType"],U);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const P=u(i,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const Y=u(i,["imageSize"]);t!==void 0&&Y!=null&&f(t,["parameters","sampleImageSize"],Y);const H=u(i,["enhancePrompt"]);return t!==void 0&&H!=null&&f(t,["parameters","enhancePrompt"],H),l}function nT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&eT(c,l),l}function iT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&tT(c,l),l}function oT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>gT(p))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],ag(r)),t}function lT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>Pa(p))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],sg(r)),t}function aT(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const p=u(i,["resolution"]);t!==void 0&&p!=null&&f(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&f(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],Ba(v));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(x=>rC(x))),f(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function sT(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&f(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&f(t,["parameters","negativePrompt"],_);const x=u(i,["enhancePrompt"]);t!==void 0&&x!=null&&f(t,["parameters","enhancePrompt"],x);const U=u(i,["generateAudio"]);t!==void 0&&U!=null&&f(t,["parameters","generateAudio"],U);const k=u(i,["lastFrame"]);t!==void 0&&k!=null&&f(t,["instances[0]","lastFrame"],Xt(k));const w=u(i,["referenceImages"]);if(t!==void 0&&w!=null){let H=w;Array.isArray(H)&&(H=H.map(F=>uC(F))),f(t,["instances[0]","referenceImages"],H)}const P=u(i,["mask"]);t!==void 0&&P!=null&&f(t,["instances[0]","mask"],sC(P));const Y=u(i,["compressionQuality"]);return t!==void 0&&Y!=null&&f(t,["parameters","compressionQuality"],Y),l}function rT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],dT(p)),t}function uT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],pT(p)),t}function cT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],Ba(c));const p=u(t,["video"]);p!=null&&f(l,["instances[0]","video"],ug(p));const g=u(t,["source"]);g!=null&&mT(g,l);const y=u(t,["config"]);return y!=null&&aT(y,l),l}function fT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],Xt(c));const p=u(t,["video"]);p!=null&&f(l,["instances[0]","video"],cg(p));const g=u(t,["source"]);g!=null&&hT(g,l);const y=u(t,["config"]);return y!=null&&sT(y,l),l}function dT(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>vT(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function pT(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>ET(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function mT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Ba(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],ug(c)),l}function hT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Xt(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],cg(c)),l}function gT(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],NT(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],ag(r)),t}function Pa(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],lg(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],sg(r));const c=u(i,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function yT(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],lg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function vT(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],lC(l)),t}function ET(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],aC(l)),t}function ST(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&f(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const _=u(i,["responseLogprobs"]);_!=null&&f(t,["responseLogprobs"],_);const x=u(i,["responseMimeType"]);x!=null&&f(t,["responseMimeType"],x);const U=u(i,["responseModalities"]);U!=null&&f(t,["responseModalities"],U);const k=u(i,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const w=u(i,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const P=u(i,["seed"]);P!=null&&f(t,["seed"],P);const Y=u(i,["speechConfig"]);Y!=null&&f(t,["speechConfig"],Y);const H=u(i,["stopSequences"]);H!=null&&f(t,["stopSequences"],H);const F=u(i,["temperature"]);F!=null&&f(t,["temperature"],F);const X=u(i,["thinkingConfig"]);X!=null&&f(t,["thinkingConfig"],X);const Q=u(i,["topK"]);Q!=null&&f(t,["topK"],Q);const O=u(i,["topP"]);if(O!=null&&f(t,["topP"],O),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function _T(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function TT(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Me(i,a)),l}function CT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function xT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function AT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(i,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function NT(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],Xn(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function lg(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],Xn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Ba(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],Xn(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Xt(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Xn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function MT(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const p=u(t,["filter"]);l!==void 0&&p!=null&&f(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&f(l,["_url","models_url"],Wh(i,g)),a}function RT(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const p=u(t,["filter"]);l!==void 0&&p!=null&&f(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&f(l,["_url","models_url"],Wh(i,g)),a}function wT(i,t){const l={},a=u(t,["config"]);return a!=null&&MT(i,a,l),l}function DT(i,t){const l={},a=u(t,["config"]);return a!=null&&RT(i,a,l),l}function IT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=jh(r);Array.isArray(c)&&(c=c.map(p=>xu(p))),f(t,["models"],c)}return t}function UT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=jh(r);Array.isArray(c)&&(c=c.map(p=>Au(p))),f(t,["models"],c)}return t}function LT(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function xu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["version"]);c!=null&&f(t,["version"],c);const p=u(i,["_self"]);p!=null&&f(t,["tunedModelInfo"],ZT(p));const g=u(i,["inputTokenLimit"]);g!=null&&f(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&f(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&f(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&f(t,["temperature"],v);const S=u(i,["maxTemperature"]);S!=null&&f(t,["maxTemperature"],S);const _=u(i,["topP"]);_!=null&&f(t,["topP"],_);const x=u(i,["topK"]);x!=null&&f(t,["topK"],x);const U=u(i,["thinking"]);return U!=null&&f(t,["thinking"],U),t}function Au(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["versionId"]);c!=null&&f(t,["version"],c);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>X_(_))),f(t,["endpoints"],S)}const g=u(i,["labels"]);g!=null&&f(t,["labels"],g);const y=u(i,["_self"]);y!=null&&f(t,["tunedModelInfo"],$T(y));const h=u(i,["defaultCheckpointId"]);h!=null&&f(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>_)),f(t,["checkpoints"],S)}return t}function GT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],K_(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],Q_(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],S_(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function kT(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],Xt(l)),t}function HT(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const p=u(i,["seed"]);t!==void 0&&p!=null&&f(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&f(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&f(t,["parameters","enhancePrompt"],_);const x=u(i,["labels"]);return t!==void 0&&x!=null&&f(t,["labels"],x),l}function qT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&VT(r,l);const c=u(t,["config"]);return c!=null&&HT(c,l),l}function zT(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Pa(r))),f(t,["generatedImages"],a)}return t}function VT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Xt(r));const c=u(i,["productImages"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>kT(g))),f(t,["instances[0]","productImages"],p)}return l}function PT(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],Xt(l));const a=u(i,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(i,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],LT(c));const p=u(i,["controlImageConfig"]);p!=null&&f(t,["controlImageConfig"],N_(p));const g=u(i,["styleImageConfig"]);g!=null&&f(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&f(t,["subjectImageConfig"],y),t}function ag(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function sg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function BT(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function OT(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],Xt(l)),t}function FT(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(i,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&f(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&f(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&f(t,["labels"],y),l}function YT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&XT(r,l);const c=u(t,["config"]);return c!=null&&FT(c,l),l}function JT(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>yT(r))),f(t,["generatedMasks"],a)}return t}function XT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Xt(r));const c=u(i,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],OT(c)),l}function KT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],Z_(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function QT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(i,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],CT(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],xT(y));const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function rg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(_=>$_(_))),f(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&f(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function ZT(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function $T(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function WT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function jT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function eC(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","name"],Me(i,a));const r=u(t,["config"]);return r!=null&&WT(r,l),l}function tC(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&jT(r,l),l}function nC(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(i,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&f(t,["parameters","sampleCount"],_);const x=u(i,["mode"]);return t!==void 0&&x!=null&&f(t,["parameters","mode"],x),l}function iC(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Me(i,a));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],Xt(r));const c=u(t,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const p=u(t,["config"]);return p!=null&&nC(p,l),l}function oC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Pa(c))),f(t,["generatedImages"],r)}return t}function lC(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Xn(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function aC(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Xn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function sC(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],Xt(l));const a=u(i,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function rC(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Ba(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function uC(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Xt(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function ug(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["encodedVideo"],Xn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function cg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Xn(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function fC(i){const t={},l=u(i,["config"]);return l!=null&&cC(l,t),t}function dC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function pC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&dC(a,t),t}function mC(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function hC(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function gC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],vC(p)),t}function yC(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&hC(r,t),t}function vC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function EC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function SC(i){const t={},l=u(i,["config"]);return l!=null&&EC(l,t),t}function _C(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["fileSearchStores"],c)}return t}function fg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&f(t,["chunkingConfig"],p),l}function TC(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&fg(a,t),t}function CC(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC="Content-Type",AC="X-Server-Timeout",bC="User-Agent",bu="x-goog-api-client",NC="1.34.0",MC=`google-genai-sdk/${NC}`,RC="v1beta1",wC="v1beta";class DC{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:RC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:wC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,p=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return l&&l.extraBody!==null&&IC(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Th(r),new _u(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Th(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Yt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ce(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(v,{stream:!0});try{const U=JSON.parse(S);if("error"in U){const k=JSON.parse(JSON.stringify(U.error)),w=k.status,P=k.code,Y=`got status: ${w}. ${JSON.stringify(U)}`;if(P>=400&&P<600)throw new za({message:Y,status:P})}}catch(U){if(U.name==="ApiError")throw U}p+=S;let _=-1,x=0;for(;;){_=-1,x=0;for(const w of y){const P=p.indexOf(w);P!==-1&&(_===-1||P<_)&&(_=P,x=w.length)}if(_===-1)break;const U=p.substring(0,_);p=p.substring(_+x);const k=U.trim();if(k.startsWith(g)){const w=k.substring(g.length).trim();try{const P=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ce(new _u(P))}catch(P){throw new Error(`exception parsing stream chunk ${w}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=MC+" "+this.clientOptions.userAgentExtra;return t[bC]=l,t[bu]=l,t[xC]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(AC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=$("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,p=await c.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),S={};a!=null&&fg(a,S);const _=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Th(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new za({message:r,status:l}):new Error(r)}}function IC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UC="mcp_used/unknown";let LC=!1;function dg(i){for(const t of i)if(GC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return LC}function pg(i){var t;const l=(t=i[bu])!==null&&t!==void 0?t:"";i[bu]=(l+` ${UC}`).trimStart()}function GC(i){return i!==null&&typeof i=="object"&&i instanceof Bu}function kC(i){return Yt(this,arguments,function*(l,a=100){let r,c=0;for(;c<a;){const p=yield ce(l.listTools({cursor:r}));for(const g of p.tools)yield yield ce(g),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class Bu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Bu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,Jt(kC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const _=S.name;if(c[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);c[_]=v}}catch(S){l={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),mE(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HC(i,t,l){const a=new aE;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class qC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=PC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(H=>{h=H}),S=t.callbacks,_=function(){h({})},x=this.apiClient,U={onopen:_,onmessage:H=>{HC(x,S.onmessage,H)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(H){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(H){}},k=this.webSocketFactory.create(y,VC(p),U);k.connect(),await v;const Y={setup:{model:Me(this.apiClient,t.model)}};return k.send(JSON.stringify(Y)),new zC(k,this.apiClient)}}class zC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=f_(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=c_(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function VC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function PC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OC(i,t,l){const a=new lE;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=m_(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class FC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new qC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&dg(t.config.tools)&&pg(S);const _=KC(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const K=this.apiClient.getApiKey();let se="BidiGenerateContent",ge="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ge}=${K}`}let x=()=>{};const U=new Promise(K=>{x=K}),k=t.callbacks,w=function(){var K;(K=k==null?void 0:k.onopen)===null||K===void 0||K.call(k),x({})},P=this.apiClient,Y={onopen:w,onmessage:K=>{OC(P,k.onmessage,K)},onerror:(l=k==null?void 0:k.onerror)!==null&&l!==void 0?l:function(K){},onclose:(a=k==null?void 0:k.onclose)!==null&&a!==void 0?a:function(K){}},H=this.webSocketFactory.create(v,XC(_),Y);H.connect(),await U;let F=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const K=this.apiClient.getProject(),se=this.apiClient.getLocation();F=`projects/${K}/locations/${se}/`+F}let X={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ia.AUDIO]}:t.config.responseModalities=[Ia.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],O=[];for(const K of Q)if(this.isCallableTool(K)){const se=K;O.push(await se.tool())}else O.push(K);O.length>0&&(t.config.tools=O);const ie={model:F,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?X=u_(this.apiClient,ie):X=r_(this.apiClient,ie),delete X.config,H.send(JSON.stringify(X)),new JC(H,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const YC={turnComplete:!0};class JC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Vt(l.turns),t.isVertexAI()||(a=a.map(r=>Va(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(BC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},YC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:p_(t)}:l={realtimeInput:d_(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function XC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function KC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ch=10;function xh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(oo(p)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function oo(i){return"callTool"in i&&typeof i.callTool=="function"}function QC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>oo(r)))!==null&&a!==void 0?a:!1}function Ah(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(oo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function bh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC extends Sn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!QC(l)||xh(l.config))return await this.generateContentInternal(y);const h=Ah(l);if(h.length>0){const k=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,S;const _=Vt(y.contents),x=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Ch;let U=0;for(;U<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,w=[];for(const P of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(oo(P)){const H=await P.callTool(v.functionCalls);w.push(...H)}U++,S={role:"user",parts:w},y.contents=Vt(y.contents),y.contents.push(k),y.contents.push(S),bh(y.config)&&(_.push(k),_.push(S))}return bh(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async l=>{var a,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(l),xh(l.config)){const S=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(S)}const y=Ah(l);if(y.length>0){const S=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new hi(En.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(c=l.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>oo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&dg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),pg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(oo(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Ch;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){return Yt(this,arguments,function*(){for(var _,x,U,k,w,P;g<c;){p&&(g++,p=!1);const X=yield ce(h.processParamsMaybeAddMcpUsage(S)),Q=yield ce(h.generateContentStreamInternal(X)),O=[],ie=[];try{for(var Y=!0,H=(x=void 0,Jt(Q)),F;F=yield ce(H.next()),_=F.done,!_;Y=!0){k=F.value,Y=!1;const K=k;if(yield yield ce(K),K.candidates&&(!((w=K.candidates[0])===null||w===void 0)&&w.content)){ie.push(K.candidates[0].content);for(const se of(P=K.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<c&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const ge=yield ce(v.get(se.functionCall.name).callTool([se.functionCall]));O.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(K){x={error:K}}finally{try{!Y&&!_&&(U=H.return)&&(yield ce(U.call(H)))}finally{if(x)throw x.error}}if(O.length>0){p=!0;const K=new il;K.candidates=[{content:{role:"user",parts:O}}],yield yield ce(K);const se=[];se.push(...ie),se.push({role:"user",parts:O});const ge=Vt(S.contents).concat(se);S.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Eh(this.apiClient,t);return g=$("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=_h(v),_=new il;return Object.assign(_,S),_})}else{const h=vh(this.apiClient,t);return g=$("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=Sh(v),_=new il;return Object.assign(_,S),_})}}async generateContentStreamInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Eh(this.apiClient,t);return g=$("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Yt(this,arguments,function*(){var _,x,U,k;try{for(var w=!0,P=Jt(S),Y;Y=yield ce(P.next()),_=Y.done,!_;w=!0){k=Y.value,w=!1;const H=k,F=_h(yield ce(H.json()));F.sdkHttpResponse={headers:H.headers};const X=new il;Object.assign(X,F),yield yield ce(X)}}catch(H){x={error:H}}finally{try{!w&&!_&&(U=P.return)&&(yield ce(U.call(P)))}finally{if(x)throw x.error}}})})}else{const h=vh(this.apiClient,t);return g=$("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(S){return Yt(this,arguments,function*(){var _,x,U,k;try{for(var w=!0,P=Jt(S),Y;Y=yield ce(P.next()),_=Y.done,!_;w=!0){k=Y.value,w=!1;const H=k,F=Sh(yield ce(H.json()));F.sdkHttpResponse={headers:H.headers};const X=new il;Object.assign(X,F),yield yield ce(X)}}catch(H){x={error:H}}finally{try{!w&&!_&&(U=P.return)&&(yield ce(U.call(P)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=F_(this.apiClient,t);return g=$("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=J_(v),_=new th;return Object.assign(_,S),_})}else{const h=O_(this.apiClient,t);return g=$("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=Y_(v),_=new th;return Object.assign(_,S),_})}}async generateImagesInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=iT(this.apiClient,t);return g=$("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=lT(v),_=new nh;return Object.assign(_,S),_})}else{const h=nT(this.apiClient,t);return g=$("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=oT(v),_=new nh;return Object.assign(_,S),_})}}async editImageInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=z_(this.apiClient,t);return c=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=V_(y),v=new Kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=iC(this.apiClient,t);return c=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=oC(y),v=new Qv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=qT(this.apiClient,t);return c=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=zT(y),v=new Zv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=YT(this.apiClient,t);return c=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=JT(y),v=new $v;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const h=_T(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DT(this.apiClient,t);return g=$("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=UT(v),_=new ih;return Object.assign(_,S),_})}else{const h=wT(this.apiClient,t);return g=$("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=IT(v),_=new ih;return Object.assign(_,S),_})}}async update(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tC(this.apiClient,t);return g=$("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const h=eC(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async delete(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=G_(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=H_(v),_=new oh;return Object.assign(_,S),_})}else{const h=L_(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=k_(v),_=new oh;return Object.assign(_,S),_})}}async countTokens(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=D_(this.apiClient,t);return g=$("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=U_(v),_=new lh;return Object.assign(_,S),_})}else{const h=w_(this.apiClient,t);return g=$("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=I_(v),_=new lh;return Object.assign(_,S),_})}}async computeTokens(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=C_(this.apiClient,t);return c=$("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=x_(y),v=new Wv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=fT(this.apiClient,t);return g=$("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=uT(v),_=new Ua;return Object.assign(_,S),_})}else{const h=cT(this.apiClient,t);return g=$("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>{const S=rT(v),_=new Ua;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Sn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Bv(t);return g=$("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=Pv(t);return g=$("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=Lv(t);return c=$("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function jC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>rx(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function ex(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const p=u(t,["uses"]);l!==void 0&&p!=null&&f(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&f(l,["bidiGenerateContentSetup"],sx(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&f(l,["fieldMask"],y),a}function tx(i,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],ex(i,a,l)),l}function nx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ix(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ox(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function lx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function ax(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Pu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const x=u(i,["enableAffectiveDialog"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],x);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&f(t,["setup","systemInstruction"],jC(rt(U)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let Q=ao(k);Array.isArray(Q)&&(Q=Q.map(O=>cx(lo(O)))),f(t,["setup","tools"],Q)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],ux(w));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","outputAudioTranscription"],Y);const H=u(i,["realtimeInputConfig"]);t!==void 0&&H!=null&&f(t,["setup","realtimeInputConfig"],H);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&f(t,["setup","contextWindowCompression"],F);const X=u(i,["proactivity"]);if(t!==void 0&&X!=null&&f(t,["setup","proactivity"],X),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function sx(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],ax(r,l)),l}function rx(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],nx(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],ix(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],WC(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function ux(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function cx(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(i,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],ox(g));const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],lx(y));const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function dx(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=fx(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class px extends Sn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=tx(this.apiClient,t);c=$("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=dx(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mx(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function hx(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&mx(a,t),t}function gx(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function yx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function vx(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&yx(a,t),t}function Ex(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sx extends Sn{constructor(t){super(),this.apiClient=t,this.list=async l=>new hi(En.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gx(t);return c=$("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=hx(t);r=$("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vx(t);return c=$("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Ex(y),v=new jv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _x extends Sn{constructor(t,l=new Sx(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new hi(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fC(t);return c=$("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mC(t);return c=$("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pC(t);r=$("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SC(t);return c=$("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=_C(y),v=new eE;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TC(t);return c=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=CC(y),v=new tE;return Object.assign(v,h),v})}}async importFile(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yC(t);return c=$("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=gC(y),v=new ku;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return mg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const Tx=()=>mg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Mu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class dt extends Pt{constructor(t,l,a,r){super(`${dt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Oa({message:a,cause:Mu(l)});const c=l;return t===400?new gg(t,c,a,r):t===401?new yg(t,c,a,r):t===403?new vg(t,c,a,r):t===404?new Eg(t,c,a,r):t===409?new Sg(t,c,a,r):t===422?new _g(t,c,a,r):t===429?new Tg(t,c,a,r):t>=500?new Cg(t,c,a,r):new dt(t,c,a,r)}}class Ru extends dt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Oa extends dt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class hg extends Oa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class gg extends dt{}class yg extends dt{}class vg extends dt{}class Eg extends dt{}class Sg extends dt{}class _g extends dt{}class Tg extends dt{}class Cg extends dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx=/^[a-z][a-z0-9+.-]*:/i,xx=i=>Cx.test(i);let wu=i=>(wu=Array.isArray,wu(i));const Ax=wu;let bx=Ax;const Nh=bx;function Nx(i){if(!i)return!0;for(const t in i)return!1;return!0}function Mx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const Rx=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},wx=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dx=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ix(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Ux=()=>{var i,t,l,a,r;const c=Ix();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":Rh(Deno.build.os),"X-Stainless-Arch":Mh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":Rh((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Mh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=Lx();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Lx(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const Mh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Rh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ca;const Gx=()=>Ca??(Ca=Ux());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function xg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function Hx(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return xg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Ag(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qx(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yu(i,t,l){return bg(),new File(i,t??"unknown_file",l)}function Vx(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Px=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Bx=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ng(i),Ox=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function Fx(i,t,l){if(bg(),i=await i,Bx(i))return i instanceof File?i:yu([await i.arrayBuffer()],i.name);if(Ox(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),yu(await Du(r),t,l)}const a=await Du(i);if(t||(t=Vx(i)),!(l!=null&&l.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return yu(a,t,l)}async function Du(i){var t,l,a,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Ng(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(Px(i))try{for(var g=!0,y=Jt(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Du(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${Yx(i)}`)}return p}function Yx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg{constructor(t){this._client=t}}Mg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const wh=Object.freeze(Object.create(null)),Jx=(i=Rg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const c=[],p=l.reduce((v,S,_)=>{var x,U,k;/[?#]/.test(S)&&(r=!0);const w=a[_];let P=(r?encodeURIComponent:i)(""+w);return _!==a.length&&(w==null||typeof w=="object"&&w.toString===((k=Object.getPrototypeOf((U=Object.getPrototypeOf((x=w.hasOwnProperty)!==null&&x!==void 0?x:wh))!==null&&U!==void 0?U:wh))===null||k===void 0?void 0:k.toString))&&(P=w+"",c.push({start:v.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+S+(_===a.length?"":P)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((v,S)=>v.start-S.start),c.length>0){let v=0;const S=c.reduce((_,x)=>{const U=" ".repeat(x.start-v),k="^".repeat(x.length);return v=x.start+x.length,_+U+k},"");throw new Pt(`Path parameters result in path with invalid segments:
${c.map(_=>_.error).join(`
`)}
${p}
${S}`)}return p}),xa=Jx(Rg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wg extends Mg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,c=Ga(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xa`/${r}/interactions`,Object.assign(Object.assign({body:c},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(xa`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(xa`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const c=l??{},{api_version:p=this._client.apiVersion}=c,g=Ga(c,["api_version"]);return this._client.get(xa`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}wg._key=Object.freeze(["interactions"]);class Dg extends wg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Aa;function Ou(i){let t;return(Aa??(t=new globalThis.TextEncoder,Aa=t.encode.bind(t)))(i)}let ba;function Dh(i){let t;return(ba??(t=new globalThis.TextDecoder,ba=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ou(t):t;this.buffer=Xx([this.buffer,l]);const a=[];let r;for(;(r=Kx(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Dh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Dh(this.buffer.subarray(0,c));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Fa.NEWLINE_CHARS=new Set([`
`,"\r"]);Fa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Kx(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Qx(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ka={off:0,error:200,warn:300,info:400,debug:500},Ih=(i,t,l)=>{if(i){if(Mx(ka,i))return i;ct(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ka))}`)}};function ll(){}function Na(i,t,l){return!t||ka[i]>ka[l]?ll:t[i].bind(t)}const Zx={error:ll,warn:ll,info:ll,debug:ll};let Uh=new WeakMap;function ct(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return Zx;const r=Uh.get(l);if(r&&r[0]===a)return r[1];const c={error:Na("error",l,a),warn:Na("warn",l,a),info:Na("info",l,a),debug:Na("debug",l,a)};return Uh.set(l,[a,c]),c}const pi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const c=a?ct(a):console;function p(){return Yt(this,arguments,function*(){var y,h,v,S;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var x=!0,U=Jt($x(t,l)),k;k=yield ce(U.next()),y=k.done,!y;x=!0){S=k.value,x=!1;const w=S;if(!_)if(w.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ce(JSON.parse(w.data))}catch(P){throw c.error("Could not parse message into JSON:",w.data),c.error("From chunk:",w.raw),P}}}catch(w){h={error:w}}finally{try{!x&&!y&&(v=U.return)&&(yield ce(v.call(U)))}finally{if(h)throw h.error}}_=!0}catch(w){if(Nu(w))return yield ce(void 0);throw w}finally{_||l.abort()}})}return new no(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function c(){return Yt(this,arguments,function*(){var y,h,v,S;const _=new Fa,x=Ag(t);try{for(var U=!0,k=Jt(x),w;w=yield ce(k.next()),y=w.done,!y;U=!0){S=w.value,U=!1;const P=S;for(const Y of _.decode(P))yield yield ce(Y)}}catch(P){h={error:P}}finally{try{!U&&!y&&(v=k.return)&&(yield ce(v.call(k)))}finally{if(h)throw h.error}}for(const P of _.flush())yield yield ce(P)})}function p(){return Yt(this,arguments,function*(){var y,h,v,S;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var x=!0,U=Jt(c()),k;k=yield ce(U.next()),y=k.done,!y;x=!0){S=k.value,x=!1;const w=S;_||w&&(yield yield ce(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!x&&!y&&(v=U.return)&&(yield ce(v.call(U)))}finally{if(h)throw h.error}}_=!0}catch(w){if(Nu(w))return yield ce(void 0);throw w}finally{_||l.abort()}})}return new no(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=a.next();t.push(p),l.push(p)}return c.shift()}});return[new no(()=>r(t),this.controller,this.client),new no(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return xg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await l.next();if(c)return a.close();const p=Ou(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function $x(i,t){return Yt(this,arguments,function*(){var a,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new jx,y=new Fa,h=Ag(i.body);try{for(var v=!0,S=Jt(Wx(h)),_;_=yield ce(S.next()),a=_.done,!a;v=!0){p=_.value,v=!1;const x=p;for(const U of y.decode(x)){const k=g.decode(U);k&&(yield yield ce(k))}}}catch(x){r={error:x}}finally{try{!v&&!a&&(c=S.return)&&(yield ce(c.call(S)))}finally{if(r)throw r.error}}for(const x of y.flush()){const U=g.decode(x);U&&(yield yield ce(U))}})}function Wx(i){return Yt(this,arguments,function*(){var l,a,r,c;let p=new Uint8Array;try{for(var g=!0,y=Jt(i),h;h=yield ce(y.next()),l=h.done,!l;g=!0){c=h.value,g=!1;const v=c;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ou(v):v;let _=new Uint8Array(p.length+S.length);_.set(p),_.set(S,p.length),p=_;let x;for(;(x=Qx(p))!==-1;)yield yield ce(p.slice(0,x)),p=p.slice(x)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield ce(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ce(p))})}class jx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=e1(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function e1(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function t1(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var g;if(t.options.stream)return ct(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):no.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return ct(i).debug(`[${a}] response parsed`,pi({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fu extends Promise{constructor(t,l,a=t1){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Fu(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=Symbol("brand.privateNullableHeaders");function*n1(i){if(!i)return;if(Ig in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Nh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=Nh(a[1])?a[1]:[a[1]];let p=!1;for(const g of c)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const ol=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[c,p]of n1(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),p===null?(t.delete(c),l.add(g)):(t.append(c,p),l.delete(g))}}return{[Ig]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vu=i=>{var t,l,a,r,c,p;if(typeof globalThis.process<"u")return(a=(l=(t=Mv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ug;class Ya{constructor(t){var l,a,r,c,p,g,y,{baseURL:h=vu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=vu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=t,_=Ga(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:S},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(a=x.timeout)!==null&&a!==void 0?a:Ya.DEFAULT_TIMEOUT,this.logger=(r=x.logger)!==null&&r!==void 0?r:console;const U="warn";this.logLevel=U,this.logLevel=(p=(c=Ih(x.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Ih(vu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:U,this.fetchOptions=x.fetchOptions,this.maxRetries=(g=x.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=x.fetch)!==null&&y!==void 0?y:kx(),this.encoder=zx,this._options=x,this.apiKey=v,this.apiVersion=S,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ol([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ol([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ol([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Tx()}`}makeStatusError(t,l,a,r){return dt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=xx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return Nx(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(c.search=this.stringifyQuery(l)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Fu(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,c,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=a===void 0?"":`, retryOf: ${a}`,U=Date.now();if(ct(this).debug(`[${_}] sending request`,pi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Ru;const k=new AbortController,w=await this.fetchWithTimeout(v,h,S,k).catch(Mu),P=Date.now();if(w instanceof globalThis.Error){const H=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Ru;const F=Nu(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(l)return ct(this).info(`[${_}] connection ${F?"timed out":"failed"} - ${H}`),ct(this).debug(`[${_}] connection ${F?"timed out":"failed"} (${H})`,pi({retryOfRequestLogID:a,url:v,durationMs:P-U,message:w.message})),this.retryRequest(g,l,a??_);throw ct(this).info(`[${_}] connection ${F?"timed out":"failed"} - error; no more retries left`),ct(this).debug(`[${_}] connection ${F?"timed out":"failed"} (error; no more retries left)`,pi({retryOfRequestLogID:a,url:v,durationMs:P-U,message:w.message})),F?new hg:new Oa({cause:w})}const Y=`[${_}${x}] ${h.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${P-U}ms`;if(!w.ok){const H=await this.shouldRetry(w);if(l&&H){const K=`retrying, ${l} attempts remaining`;return await qx(w.body),ct(this).info(`${Y} - ${K}`),ct(this).debug(`[${_}] response error (${K})`,pi({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,durationMs:P-U})),this.retryRequest(g,l,a??_,w.headers)}const F=H?"error; no more retries left":"error; not retryable";ct(this).info(`${Y} - ${F}`);const X=await w.text().catch(K=>Mu(K).message),Q=wx(X),O=Q?void 0:X;throw ct(this).debug(`[${_}] response error (${F})`,pi({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,message:O,durationMs:Date.now()-U})),this.makeStatusError(w.status,Q,O,w.headers)}return ct(this).info(Y),ct(this).debug(`[${_}] response start`,pi({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,durationMs:P-U})),{response:w,options:g,controller:k,requestLogID:_,retryOfRequestLogID:a,startTime:U}}async fetchWithTimeout(t,l,a,r){const c=l||{},{signal:p,method:g}=c,y=Ga(c,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var c;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,h)}return await Dx(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const c=l-t,p=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,c;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,S=this.buildURL(y,h,v);"timeout"in p&&Rx("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:x}=this.buildBody({options:p}),U=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:U},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=ol([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Gx()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=ol([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Hx(t)}:this.encoder({body:t,headers:a})}}Ya.DEFAULT_TIMEOUT=6e4;class je extends Ya{constructor(){super(...arguments),this.interactions=new Dg(this)}}Ug=je;je.GeminiNextGenAPIClient=Ug;je.GeminiNextGenAPIClientError=Pt;je.APIError=dt;je.APIConnectionError=Oa;je.APIConnectionTimeoutError=hg;je.APIUserAbortError=Ru;je.NotFoundError=Eg;je.ConflictError=Sg;je.RateLimitError=Tg;je.BadRequestError=gg;je.AuthenticationError=yg;je.InternalServerError=Cg;je.PermissionDeniedError=vg;je.UnprocessableEntityError=_g;je.toFile=Fx;je.Interactions=Dg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i1(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function o1(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function l1(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function a1(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function s1(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function r1(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const x=u(i,["validationDataset"]);t!==void 0&&x!=null&&f(t,["supervisedTuningSpec"],Lh(x))}else if(r==="PREFERENCE_TUNING"){const x=u(i,["validationDataset"]);t!==void 0&&x!=null&&f(t,["preferenceOptimizationSpec"],Lh(x))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=u(i,["epochCount"]);t!==void 0&&x!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(g==="PREFERENCE_TUNING"){const x=u(i,["epochCount"]);t!==void 0&&x!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=u(i,["learningRateMultiplier"]);t!==void 0&&x!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=u(i,["learningRateMultiplier"]);t!==void 0&&x!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=u(i,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(h==="PREFERENCE_TUNING"){const x=u(i,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=u(i,["adapterSize"]);t!==void 0&&x!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=u(i,["adapterSize"]);t!==void 0&&x!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const _=u(i,["beta"]);return t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function u1(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&S1(c);const p=u(i,["config"]);return p!=null&&s1(p,l),l}function c1(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&_1(c,l,t);const p=u(i,["config"]);return p!=null&&r1(p,l,t),l}function f1(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function d1(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function p1(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function m1(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function h1(i,t){const l={},a=u(i,["config"]);return a!=null&&p1(a,l),l}function g1(i,t){const l={},a=u(i,["config"]);return a!=null&&m1(a,l),l}function y1(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Lg(g))),f(l,["tuningJobs"],p)}return l}function v1(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Iu(g))),f(l,["tuningJobs"],p)}return l}function E1(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function S1(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function _1(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Lg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Zh(c));const p=u(i,["createTime"]);p!=null&&f(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&f(l,["description"],v);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const _=u(i,["_self"]);return _!=null&&f(l,["tunedModel"],E1(_)),l}function Iu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Zh(c));const p=u(i,["createTime"]);p!=null&&f(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&f(l,["error"],v);const S=u(i,["description"]);S!=null&&f(l,["description"],S);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const x=u(i,["tunedModel"]);x!=null&&f(l,["tunedModel"],x);const U=u(i,["preTunedModel"]);U!=null&&f(l,["preTunedModel"],U);const k=u(i,["supervisedTuningSpec"]);k!=null&&f(l,["supervisedTuningSpec"],k);const w=u(i,["preferenceOptimizationSpec"]);w!=null&&f(l,["preferenceOptimizationSpec"],w);const P=u(i,["tuningDataStats"]);P!=null&&f(l,["tuningDataStats"],P);const Y=u(i,["encryptionSpec"]);Y!=null&&f(l,["encryptionSpec"],Y);const H=u(i,["partnerModelTuningSpec"]);H!=null&&f(l,["partnerModelTuningSpec"],H);const F=u(i,["customBaseModel"]);F!=null&&f(l,["customBaseModel"],F);const X=u(i,["experiment"]);X!=null&&f(l,["experiment"],X);const Q=u(i,["labels"]);Q!=null&&f(l,["labels"],Q);const O=u(i,["outputUri"]);O!=null&&f(l,["outputUri"],O);const ie=u(i,["pipelineJob"]);ie!=null&&f(l,["pipelineJob"],ie);const K=u(i,["serviceAccount"]);K!=null&&f(l,["serviceAccount"],K);const se=u(i,["tunedModelDisplayName"]);se!=null&&f(l,["tunedModelDisplayName"],se);const ge=u(i,["veoTuningSpec"]);return ge!=null&&f(l,["veoTuningSpec"],ge),l}function T1(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const p=u(i,["done"]);p!=null&&f(l,["done"],p);const g=u(i,["error"]);return g!=null&&f(l,["error"],g),l}function Lh(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C1 extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(En.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:Su.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=d1(t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Iu(v))}else{const h=f1(t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Lg(v))}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=g1(t);return g=$("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=v1(v),_=new ah;return Object.assign(_,S),_})}else{const h=h1(t);return g=$("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=y1(v),_=new ah;return Object.assign(_,S),_})}}async cancel(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=o1(t);return g=$("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=a1(v),_=new sh;return Object.assign(_,S),_})}else{const h=i1(t);return g=$("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=l1(v),_=new sh;return Object.assign(_,S),_})}}async tuneInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=c1(t,t);return c=$("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Iu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=u1(t);return c=$("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>T1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x1{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const A1=1024*1024*8,b1=3,N1=1e3,M1=2,Ha="x-goog-upload-status";async function R1(i,t,l){var a;const r=await Gg(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function w1(i,t,l){var a;const r=await Gg(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Fh(c),g=new Hu;return Object.assign(g,p),g}async function Gg(i,t,l){var a,r;let c=0,p=0,g=new _u(new Response),y="upload";for(c=i.size;p<c;){const h=Math.min(A1,c-p),v=i.slice(p,p+h);p+h>=c&&(y+=", finalize");let S=0,_=N1;for(;S<b1&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ha]));)S++,await I1(_),_=_*M1;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ha])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function D1(i){return{size:i.size,type:i.type}}function I1(i){return new Promise(t=>setTimeout(t,i))}class U1{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await R1(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await w1(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await D1(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1{create(t,l,a){return new G1(t,l,a)}}class G1{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gh="x-goog-api-key";class k1{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Gh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Gh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H1="gl-node/";class q1{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Iv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new k1(this.apiKey);this.apiClient=new DC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:H1+"web",uploader:new U1,downloader:new x1}),this.models=new ZC(this.apiClient),this.live=new FC(this.apiClient,r,new L1),this.batches=new sS(this.apiClient),this.chats=new BS(this.models,this.apiClient),this.caches=new zS(this.apiClient),this.files=new WS(this.apiClient),this.operations=new $C(this.apiClient),this.authTokens=new px(this.apiClient),this.tunings=new C1(this.apiClient),this.fileSearchStores=new _x(this.apiClient)}}const z1=new q1({apiKey:"AIzaSyDe0pwQLzroMhx8eA-HK7yC_MkIFjI_Af8"}),kh=[{label:"Energia",icon:"zap"},{label:"Estilo",icon:"smile"},{label:"Audcia",icon:"rocket"},{label:"Social",icon:"heart"},{label:"Skill",icon:"laptop"}],kg=async(i,t,l,a)=>{const r=`
    IMPORTANTE: Responda SEMPRE em portugus brasileiro (pt-BR).
    
    Analise o seguinte perfil para um jogo de cartas chamado "Amigo Trunfo".
    
    Perfil:
    - Nome: ${a}
    - Idade: ${i}
    - Profisso/Hobby: ${t}
    - Estado Civil: ${l}

    Gere valores numricos (0-100) para EXATAMENTE estes 5 atributos fixos:
    
    1. ENERGIA (attr_0): Quo enrgico, ativo e disposto a pessoa . Crianas e atletas tm alto. Idosos e sedentrios tm baixo.
    2. ESTILO (attr_1): Carisma, charme, aparncia, swag. Modelos e artistas tm alto.
    3. AUDCIA (attr_2): Ousadia, coragem, loucura, disposio para riscos. Aventureiros tm alto.
    4. SOCIAL (attr_3): Habilidade social, networking, popularidade. Polticos e influencers tm alto.
    5. SKILL (attr_4): Habilidade tcnica/profissional, expertise. Especialistas tm alto.

    Diretrizes para valores:
    - Considere a idade: crianas tm muita energia mas pouco skill profissional
    - Considere a profisso: programador tem alto skill mas talvez baixo social
    - Considere o estado civil: casados podem ter menos audcia, mais social
    - Seja criativo e divertido, mas realista nos valores
    - Valores entre 30-90 so comuns, 1-30 ou 90-100 so extremos

    Gere tambm uma HABILIDADE ESPECIAL engraada e criativa (mximo 6 palavras, em portugus).
    Exemplo: "Dorme de olho aberto", "Caf no sangue".
  `;try{const c=await z1.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:ft.OBJECT,properties:{attr_0:{type:ft.INTEGER,description:"Energia (0-100)"},attr_1:{type:ft.INTEGER,description:"Estilo (0-100)"},attr_2:{type:ft.INTEGER,description:"Audcia (0-100)"},attr_3:{type:ft.INTEGER,description:"Social (0-100)"},attr_4:{type:ft.INTEGER,description:"Skill (0-100)"},specialAbility:{type:ft.STRING,description:"Habilidade especial engraada"}},required:["attr_0","attr_1","attr_2","attr_3","attr_4","specialAbility"]}}});if(c.text){const p=JSON.parse(c.text);return{attributes:kh.map((g,y)=>({label:g.label,value:Math.min(100,Math.max(0,p[`attr_${y}`]||50)),icon:g.icon})),specialAbility:p.specialAbility||"Mistrio absoluto"}}throw new Error("No data returned")}catch(c){console.error("Gemini API Error:",c);const p=50;return{attributes:kh.map(g=>({label:g.label,value:p+Math.floor(Math.random()*30)-15,icon:g.icon})),specialAbility:"Erro no Matrix: Tente novamente."}}},V1="https://ubjkfoiunvhvpmiqqazl.supabase.co",P1="sb_publishable_r8THl6MXS4JmXgWuP228CA_ftaI0Jox",st=hv(V1,P1),B1=async()=>{const i=window.location.href.split("?")[0],{data:t,error:l}=await st.auth.signInWithOAuth({provider:"google",options:{redirectTo:i}});return{data:t,error:l}},O1=async()=>{const{error:i}=await st.auth.signOut();return{error:i}};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),Hh=i=>{const t=Y1(i);return t.charAt(0).toUpperCase()+t.slice(1)},Hg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),J1=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ne.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:c,iconNode:p,...g},y)=>ne.createElement("svg",{ref:y,...X1,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:Hg("lucide",r),...!c&&!J1(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,v])=>ne.createElement(h,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(i,t)=>{const l=ne.forwardRef(({className:a,...r},c)=>ne.createElement(K1,{ref:c,iconNode:t,className:Hg(`lucide-${F1(Hh(i))}`,`lucide-${i}`,a),...r}));return l.displayName=Hh(i),l};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qh=xe("arrow-left",Q1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$1=xe("award",Z1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],j1=xe("brain",W1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qg=xe("camera",eA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nA=xe("check",tA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zg=xe("chevron-right",iA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zh=xe("crown",oA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vg=xe("download",lA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sA=xe("eye",aA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],uA=xe("gamepad-2",rA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],fA=xe("ghost",cA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pA=xe("heart",dA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],hA=xe("laptop",mA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yA=xe("layers",gA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EA=xe("log-out",vA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],_A=xe("monitor",SA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qa=xe("package",TA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vh=xe("refresh-cw",CA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],AA=xe("rocket",xA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Pg=xe("share-2",bA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],MA=xe("shield",NA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],wA=xe("skull",RA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],IA=xe("smile",DA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Wt=xe("sparkles",UA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ja=xe("star",LA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Ph=xe("swords",GA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bg=xe("user",kA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],qA=xe("wand-sparkles",HA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],VA=xe("wifi",zA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BA=xe("x",PA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],FA=xe("zap",OA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],JA=xe("zoom-in",YA);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],KA=xe("zoom-out",XA),QA=({onLoginSuccess:i})=>{const[t,l]=ne.useState(!1),a=c=>{alert(` ${c} - Servio temporariamente indisponvel desde ${c==="Orkut"?"2014":"2013"}.

Tente novamente em alguns anos... ou use o Google.`)},r=async()=>{l(!0);try{const{error:c}=await B1();c?alert("Erro ao fazer login: "+c.message):i&&i()}catch(c){console.error("Login error:",c),alert("Erro ao conectar com o servidor.")}finally{l(!1)}};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#245EDC] to-[#3B7DD8] flex items-center justify-center p-4",children:[T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[T.jsx("div",{className:"absolute top-10 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),T.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),T.jsx("div",{className:"absolute bottom-20 left-1/4 w-24 h-24 bg-white/10 rounded-full blur-xl"})]}),T.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[T.jsx(_A,{className:"w-10 h-10 text-white drop-shadow-lg"}),T.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg font-digital tracking-wide",children:"Amigo Trunfo"})]}),T.jsx("p",{className:"text-white/80 text-sm font-digital",children:"Gerao XP - Bem-vindo"})]}),T.jsx("div",{className:"bg-gradient-to-b from-[#4B8BD4] to-[#245EDC] rounded-xl p-1 shadow-2xl",children:T.jsxs("div",{className:"bg-[#ECE9D8] rounded-lg overflow-hidden",children:[T.jsxs("div",{className:"bg-gradient-to-r from-[#0058EE] via-[#2F82FF] to-[#0054E3] px-4 py-2 flex items-center gap-2",children:[T.jsx(VA,{className:"w-4 h-4 text-white"}),T.jsx("span",{className:"text-white font-bold text-sm drop-shadow",children:"Fazer Logon no Sistema"})]}),T.jsxs("div",{className:"p-6 flex flex-col items-center",children:[T.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-b from-[#6CA0DC] to-[#4B8BD4] p-1 shadow-lg mb-4",children:T.jsx("div",{className:"w-full h-full rounded-full bg-[#ECE9D8] flex items-center justify-center",children:T.jsx(Bg,{className:"w-14 h-14 text-[#0054E3]"})})}),T.jsx("h2",{className:"text-lg font-bold text-gray-800 font-digital mb-1",children:"Novo Usurio"}),T.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Escolha como deseja entrar"}),T.jsxs("div",{className:"w-full space-y-3",children:[T.jsxs("button",{onClick:()=>a("Orkut"),className:"w-full px-4 py-3 bg-gradient-to-b from-[#EC5595] to-[#D93E7D] text-white font-digital font-bold text-sm rounded shadow-md hover:brightness-110 active:translate-y-0.5 flex items-center justify-center gap-3 border-2 border-[#C72E6D] transition-all",children:[T.jsx("span",{className:"text-lg",children:""}),"Entrar com Orkut"]}),T.jsxs("button",{onClick:()=>a("MSN Messenger"),className:"w-full px-4 py-3 bg-gradient-to-b from-[#5DC161] to-[#3EA643] text-white font-digital font-bold text-sm rounded shadow-md hover:brightness-110 active:translate-y-0.5 flex items-center justify-center gap-3 border-2 border-[#2E9431] transition-all",children:[T.jsx("span",{className:"text-lg",children:""}),"Entrar com MSN Messenger"]}),T.jsxs("div",{className:"flex items-center gap-2 my-4",children:[T.jsx("div",{className:"flex-1 h-px bg-gray-300"}),T.jsx("span",{className:"text-xs text-gray-400 font-digital",children:"ou"}),T.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),T.jsx("button",{onClick:r,disabled:t,className:"w-full px-4 py-3 bg-white text-gray-700 font-digital font-bold text-sm rounded shadow-md hover:bg-gray-50 active:translate-y-0.5 flex items-center justify-center gap-3 border-2 border-gray-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t?T.jsx("span",{className:"animate-pulse",children:"Conectando..."}):T.jsxs(T.Fragment,{children:[T.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Entrar com Google"]})})]})]}),T.jsx("div",{className:"bg-[#D4D0C8] px-4 py-2 border-t border-[#ACA899]",children:T.jsx("p",{className:"text-[10px] text-gray-500 text-center font-digital",children:"Amigo Trunfo Corp.  1999-2024 | Todos os direitos reservados"})})]})}),T.jsx("p",{className:"text-center text-white/60 text-xs mt-6 font-digital",children:"Aps o login, voc criar sua Carta Mestre exclusiva! "})]})]})},ZA={skull:wA,zap:FA,shield:MA,heart:pA,laptop:hA,brain:j1,smile:IA,rocket:AA,ghost:fA,gamepad:uA},$A={skull:"text-gray-400",zap:"text-yellow-400",shield:"text-blue-500",heart:"text-red-500",laptop:"text-green-400",brain:"text-pink-400",smile:"text-orange-400",rocket:"text-purple-500",ghost:"text-slate-300",gamepad:"text-indigo-400"},WA={common:{border:"border-gray-400",bgTexture:"url('https://www.transparenttextures.com/patterns/carbon-fibre.png')",headerGradient:"from-gray-800 via-gray-600 to-gray-800 border-gray-400",holoOpacity:"opacity-0",badgeColor:"text-gray-400",badgeText:"COMUM",footerColor:"bg-gray-100 border-gray-400 text-gray-800"},uncommon:{border:"border-green-600",bgTexture:"url('https://www.transparenttextures.com/patterns/carbon-fibre.png')",headerGradient:"from-green-900 via-green-700 to-green-900 border-green-400",holoOpacity:"opacity-0 group-hover:opacity-25",badgeColor:"text-green-500",badgeText:"INCOMUM",footerColor:"bg-[#e0ffe0] border-green-600 text-green-900"},rare:{border:"border-blue-500",bgTexture:"url('https://www.transparenttextures.com/patterns/black-scales.png')",headerGradient:"from-blue-900 via-blue-600 to-blue-900 border-blue-400",holoOpacity:"opacity-0 group-hover:opacity-50",badgeColor:"text-blue-400",badgeText:"RARA",footerColor:"bg-[#e0f0ff] border-blue-500 text-blue-900"},ultra_rare:{border:"border-yellow-400",bgTexture:"url('https://www.transparenttextures.com/patterns/diagmonds-light.png')",headerGradient:"from-yellow-700 via-yellow-500 to-yellow-700 border-yellow-300",holoOpacity:"opacity-0 group-hover:opacity-90",badgeColor:"text-yellow-400",badgeText:"ULTRA RARA",footerColor:"bg-[#fffbe0] border-yellow-500 text-yellow-900",particleEffect:!0},secret_rare:{border:"border-[#00FF00]",bgTexture:"url('https://www.transparenttextures.com/patterns/wall-4-light.png')",headerGradient:"from-black via-green-900 to-black border-green-500",holoOpacity:"opacity-0 group-hover:opacity-40",badgeColor:"text-green-500",badgeText:"SECRET",footerColor:"bg-black border-green-500 text-green-500",textColorOverride:"text-green-500",matrixEffect:!0},founder:{border:"border-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.5)]",bgTexture:"url('https://www.transparenttextures.com/patterns/gold-scale.png')",headerGradient:"from-orange-600 via-yellow-500 to-red-500 border-yellow-400",holoOpacity:"opacity-0 group-hover:opacity-70",badgeColor:"text-orange-400",badgeText:" FUNDADOR",footerColor:"bg-gradient-to-r from-orange-100 to-yellow-100 border-orange-500 text-orange-900",particleEffect:!0}},jA=({label:i,value:t,iconType:l,isSecret:a})=>{const r=ZA[l]||Ja;let c=$A[l]||"text-white";return a&&(c="text-green-500 drop-shadow-[0_0_2px_rgba(0,255,0,0.8)]"),T.jsxs("div",{className:`flex items-center justify-between py-0.5 border-b ${a?"border-green-900/50 bg-black/50":"border-gray-700/30 bg-black/10"} last:border-0 px-2 my-px rounded`,children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 mr-2",children:[T.jsx(r,{size:10,className:`${c} flex-shrink-0`}),T.jsx("span",{className:`text-[8px] uppercase font-bold tracking-tighter truncate leading-tight ${a?"text-green-500 font-digital":"text-gray-200"}`,title:i,children:i})]}),T.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[T.jsx("div",{className:`w-12 h-1.5 rounded-full overflow-hidden border ${a?"border-green-700 bg-black":"bg-gray-800 border-gray-600"}`,children:T.jsx("div",{className:`h-full ${a?"bg-green-500 shadow-[0_0_5px_#00ff00]":c.replace("text-","bg-")}`,style:{width:`${Math.min(100,t)}%`}})}),T.jsx("span",{className:`font-pixel text-[8px] drop-shadow-md min-w-[16px] text-right ${a?"text-green-500":"text-white"}`,children:t})]})]})},mi=({data:i,stats:t,id:l,rarity:a="common"})=>{const r=ne.useRef(null),[c,p]=ne.useState({x:0,y:0}),[g,y]=ne.useState({x:50,y:50}),h=WA[a],v=_=>{if(!r.current||a==="secret_rare")return;const x=r.current.getBoundingClientRect(),U=_.clientX-x.left,k=_.clientY-x.top,w=x.width/2,P=x.height/2,Y=(k-P)/P*-15,H=(U-w)/w*15;p({x:Y,y:H}),y({x:U/x.width*100,y:k/x.height*100})},S=()=>{p({x:0,y:0}),y({x:50,y:50})};return T.jsx("div",{className:"perspective-1000 group w-[320px] h-[480px] mx-auto select-none",onMouseMove:v,onMouseLeave:S,id:l,children:T.jsxs("div",{ref:r,className:`relative w-full h-full transition-transform duration-100 ease-out transform-gpu shadow-2xl rounded-xl border-[8px] ${h.border}`,style:{transform:`rotateX(${c.x}deg) rotateY(${c.y}deg)`,backgroundImage:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)",boxShadow:a==="secret_rare"?`0 0 0 1px #003300, 0 0 0 4px #000, 0 0 20px #00ff00, ${-c.y*1}px ${c.x*1}px 20px rgba(0,255,0,0.2)`:a==="ultra_rare"?`0 0 0 1px #8a6c08, 0 0 0 4px #000, 0 0 15px #ffd700, ${-c.y*1}px ${c.x*1}px 20px rgba(0,0,0,0.5)`:`0 0 0 1px #555, 0 0 0 4px #222, ${-c.y*1}px ${c.x*1}px 20px rgba(0,0,0,0.5)`},children:[h.particleEffect&&T.jsx("div",{className:"absolute inset-0 z-0 opacity-30 pointer-events-none overflow-hidden",children:T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] animate-pulse"})}),h.matrixEffect&&T.jsx("div",{className:"matrix-rain z-50",children:[...Array(20)].map((_,x)=>T.jsx("span",{className:"matrix-column",style:{left:`${x*5}%`,animationDuration:`${2+Math.random()*3}s`,animationDelay:`${Math.random()*3}s`},children:Array.from({length:25},()=>String.fromCharCode(12448+Math.random()*96)).join("")},x))}),!h.matrixEffect&&T.jsx("div",{className:`absolute inset-0 z-40 transition-opacity duration-300 pointer-events-none rounded-lg mix-blend-color-dodge ${h.holoOpacity}`,style:{background:`
                linear-gradient(115deg, transparent 20%, rgba(255,255,255,0.7) 35%, rgba(0,255,255,0.7) 40%, rgba(255,0,255,0.7) 45%, transparent 60%),
                url("https://www.transparenttextures.com/patterns/diagmonds-light.png")
              `,backgroundSize:"200% 200%, auto",backgroundPosition:`${g.x}% ${g.y}%, 0 0`,filter:"brightness(1.2) contrast(1.2)"}}),T.jsxs("div",{className:"relative z-30 flex flex-col h-full px-4 pt-2 pb-5 overflow-hidden",style:{backgroundImage:h.bgTexture,backgroundColor:a==="secret_rare"?"#000":"transparent"},children:[T.jsxs("div",{className:`flex justify-between items-center mb-1 bg-gradient-to-r ${h.headerGradient} border rounded-t px-2 py-1 shadow-md shrink-0`,children:[T.jsx("h2",{className:`font-digital font-bold text-sm uppercase tracking-wider drop-shadow-md ${h.textColorOverride||"text-white"}`,children:i.name}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:`font-pixel text-[6px] ${a==="secret_rare"?"text-green-500":"text-yellow-300"}`,children:"NVL"}),T.jsx("span",{className:`font-pixel text-[10px] ${a==="secret_rare"?"text-green-500":"text-yellow-300"}`,children:i.age})]})]}),T.jsxs("div",{className:`relative w-full aspect-[4/3] bg-black border-4 ${a==="secret_rare"?"border-green-800":"border-gray-400"} rounded-sm shadow-inner mb-2 overflow-hidden group shrink-0`,children:[i.image?T.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat ${a==="secret_rare"?"grayscale contrast-125 brightness-90 sepia-[.5] hue-rotate-50":""}`,style:{backgroundImage:`url(${i.image})`}}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 bg-gray-900",children:"NO SIGNAL"}),T.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_4px,3px_100%] z-20"}),T.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 backdrop-blur-sm p-0.5 border-t border-white/20",children:T.jsx("p",{className:`font-digital text-center text-[9px] uppercase tracking-widest leading-none ${a==="secret_rare"?"text-green-500":"text-green-400"}`,children:i.profession})})]}),T.jsx("div",{className:`flex-1 ${a==="secret_rare"?"bg-black border-green-900":"bg-gray-900/80 border-gray-600"} border rounded p-1 mb-2 shadow-inner backdrop-blur-sm min-h-0 flex flex-col justify-center`,children:t.attributes.map((_,x)=>T.jsx(jA,{label:_.label,value:_.value,iconType:_.icon,isSecret:a==="secret_rare"},x))}),T.jsxs("div",{className:`${h.footerColor} border-2 rounded p-1 shadow-md relative mt-auto shrink-0`,children:[T.jsx("div",{className:`absolute -top-2.5 left-1/2 -translate-x-1/2 ${a==="secret_rare"?"bg-black border-green-500 text-green-500":"bg-yellow-600 text-white border-yellow-300"} px-2 py-0.5 rounded-full text-[6px] font-bold uppercase tracking-wider border shadow`,children:"Status MSN"}),T.jsxs("p",{className:`font-digital text-[8px] leading-tight text-center italic pt-1 ${a==="secret_rare"?"text-green-400 font-mono":""}`,children:['"',t.specialAbility,'"']})]}),T.jsx("div",{className:"absolute top-9 right-4 pointer-events-none z-50 flex flex-col items-end",children:T.jsxs("div",{className:`${h.badgeColor} drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] transform rotate-12 flex flex-col items-center`,children:[T.jsx($1,{className:"w-8 h-8 fill-current",strokeWidth:1.5}),T.jsx("span",{className:"font-pixel text-[6px] font-bold bg-black/50 px-1 rounded backdrop-blur-sm -mt-2 border border-white/20",children:h.badgeText})]})}),T.jsx("div",{className:"absolute bottom-5 right-5 opacity-90 pointer-events-none z-50",children:a==="ultra_rare"?T.jsx(Wt,{className:"text-yellow-400 fill-yellow-200 w-4 h-4 animate-spin-slow"}):T.jsx(Ja,{className:`${a==="secret_rare"?"text-green-500 fill-green-500":"text-yellow-500 fill-yellow-500"} w-3 h-3 drop-shadow-lg animate-pulse`})})]})]})})},Bh=3/4,Ma=600,Og=({imageSrc:i,onCropComplete:t,onCancel:l})=>{const a=ne.useRef(null),[r,c]=ne.useState(1),[p,g]=ne.useState({x:0,y:0}),[y,h]=ne.useState(null),[v,S]=ne.useState(!1),[_,x]=ne.useState({x:0,y:0});ne.useEffect(()=>{const Y=new Image;Y.src=i,Y.onload=()=>{h(Y);const H=Math.max(Ma/Y.width,Ma/Bh/Y.height);c(H)}},[i]),ne.useEffect(()=>{if(!y||!a.current)return;const Y=a.current,H=Y.getContext("2d");if(!H)return;H.fillStyle="#000000",H.fillRect(0,0,Y.width,Y.height);const F=Y.width/2,X=Y.height/2,Q=y.width*r,O=y.height*r,ie=F-Q/2+p.x,K=X-O/2+p.y;H.drawImage(y,ie,K,Q,O)},[y,r,p]);const U=Y=>{S(!0),x({x:Y.clientX-p.x,y:Y.clientY-p.y})},k=Y=>{v&&g({x:Y.clientX-_.x,y:Y.clientY-_.y})},w=()=>{S(!1)},P=()=>{a.current&&t(a.current.toDataURL("image/png"))};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:T.jsxs("div",{className:"bg-[#ECE9D8] p-1 rounded-lg shadow-2xl border-2 border-[#0054E3] w-full max-w-lg",children:[T.jsxs("div",{className:"bg-gradient-to-r from-[#0058EE] via-[#2F82FF] to-[#0054E3] px-2 py-1 flex justify-between items-center rounded-t mb-1",children:[T.jsx("span",{className:"text-white font-bold text-sm font-sans drop-shadow-md",children:"Cortar Imagem (Editor v1.0)"}),T.jsx("button",{onClick:l,className:"bg-[#D84631] hover:bg-[#E85641] text-white w-5 h-5 flex items-center justify-center rounded border border-white text-xs shadow-inner",children:"X"})]}),T.jsxs("div",{className:"p-4 bg-white border-2 border-[#ACA899] inset-shadow",children:[T.jsxs("div",{className:"relative overflow-hidden border-2 border-dashed border-gray-400 mx-auto",style:{width:300,height:400},children:[T.jsx("canvas",{ref:a,width:Ma,height:Ma/Bh,className:"w-full h-full cursor-move touch-none",onMouseDown:U,onMouseMove:k,onMouseUp:w,onMouseLeave:w}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none border-2 border-blue-500 opacity-30 mix-blend-difference grid grid-cols-3 grid-rows-3",children:[T.jsx("div",{className:"border-r border-blue-500"}),T.jsx("div",{className:"border-r border-blue-500"}),T.jsx("div",{}),T.jsx("div",{className:"border-t border-blue-500 col-span-3"}),T.jsx("div",{className:"border-t border-blue-500 col-span-3"})]})]}),T.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[T.jsx("button",{onClick:()=>c(Y=>Math.max(.1,Y-.1)),className:"p-2 bg-gray-200 rounded hover:bg-gray-300 shadow",children:T.jsx(KA,{size:16})}),T.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.05",value:r,onChange:Y=>c(parseFloat(Y.target.value)),className:"w-32"}),T.jsx("button",{onClick:()=>c(Y=>Y+.1),className:"p-2 bg-gray-200 rounded hover:bg-gray-300 shadow",children:T.jsx(JA,{size:16})})]})]}),T.jsxs("div",{className:"flex justify-end gap-2 mt-2 px-2 pb-2",children:[T.jsx("button",{onClick:l,className:"px-4 py-1 bg-white border border-gray-400 rounded hover:bg-gray-50 text-sm",children:"Cancelar"}),T.jsxs("button",{onClick:P,className:"px-4 py-1 bg-[#3A9E2D] border border-[#2B7A1F] text-white font-bold rounded shadow-sm hover:brightness-110 text-sm flex items-center gap-2",children:[T.jsx(nA,{size:14})," Confirmar"]})]})]})})},eb=({userId:i,userEmail:t,onComplete:l})=>{const[a,r]=ne.useState("intro"),[c,p]=ne.useState({name:"",age:25,profession:"",maritalStatus:"Solteiro(a)",imageUrl:""}),[g,y]=ne.useState(null),[h,v]=ne.useState(!1),[S,_]=ne.useState(null),[x,U]=ne.useState(!1),k=X=>{const{name:Q,value:O}=X.target;p(ie=>({...ie,[Q]:Q==="age"?parseInt(O)||0:O}))},w=X=>{var O;const Q=(O=X.target.files)==null?void 0:O[0];if(Q){const ie=new FileReader;ie.onload=K=>{var se;_((se=K.target)==null?void 0:se.result),v(!0)},ie.readAsDataURL(Q)}},P=X=>{p(Q=>({...Q,imageUrl:X})),v(!1),_(null)},Y=async()=>{r("generating");try{const X=await kg(c.age,c.profession,c.maritalStatus,c.name);y(X),r("preview")}catch(X){console.error("Error generating stats:",X),alert("Erro ao gerar atributos. Tente novamente."),r("form")}},H=async()=>{var X,Q,O,ie,K;if(g){U(!0);try{const{error:se}=await st.from("profiles").upsert({id:i,username:c.name,xp:0,level:"Fundador",packs_available:5,created_at:new Date().toISOString()});if(se)throw se;const{data:ge,error:Ce}=await st.from("cards").insert({name:c.name,image_url:c.imageUrl,profession:c.profession,category:c.age<12?"KID":c.age<20?"TEEN":"ADULT",rarity:"founder",attr_0:((X=g.attributes[0])==null?void 0:X.value)||50,attr_1:((Q=g.attributes[1])==null?void 0:Q.value)||50,attr_2:((O=g.attributes[2])==null?void 0:O.value)||50,attr_3:((ie=g.attributes[3])==null?void 0:ie.value)||50,attr_4:((K=g.attributes[4])==null?void 0:K.value)||50,special_ability:g.specialAbility,is_npc:!1}).select().single();if(Ce)throw Ce;const{error:pe}=await st.from("user_cards").insert({user_id:i,card_id:ge.id,is_avatar:!0});if(pe)throw pe;l()}catch(se){console.error("Error saving card:",se),alert("Erro ao salvar carta. Verifique a configurao do banco de dados.")}finally{U(!1)}}},F=c.name&&c.profession&&c.imageUrl;return a==="intro"?T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f23] via-[#1a1a3e] to-[#0f0f23] flex items-center justify-center p-4",children:T.jsxs("div",{className:"text-center max-w-lg",children:[T.jsxs("div",{className:"relative mb-8",children:[T.jsx("div",{className:"absolute inset-0 blur-3xl bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 opacity-30 animate-pulse"}),T.jsx(zh,{className:"w-24 h-24 mx-auto text-yellow-400 drop-shadow-[0_0_20px_rgba(250,204,21,0.5)] relative z-10"})]}),T.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 font-digital mb-4",children:"Bem-vindo, Fundador!"}),T.jsxs("p",{className:"text-gray-300 text-lg mb-6 font-digital",children:["Voc  um dos primeiros a entrar no Amigo Trunfo. Como recompensa, sua primeira carta ter o selo exclusivo de ",T.jsx("span",{className:"text-yellow-400 font-bold",children:"FUNDADOR"}),"."]}),T.jsxs("div",{className:"bg-white/5 border border-yellow-500/30 rounded-lg p-4 mb-8",children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400 mb-2",children:[T.jsx(Wt,{className:"w-5 h-5"}),T.jsx("span",{className:"font-bold font-digital",children:"Carta Mestre"}),T.jsx(Wt,{className:"w-5 h-5"})]}),T.jsx("p",{className:"text-gray-400 text-sm font-digital",children:"Esta ser sua carta avatar - nica e intransfervel."})]}),T.jsx("button",{onClick:()=>r("form"),className:"px-8 py-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white font-bold text-lg rounded-lg shadow-lg hover:scale-105 transition-transform font-digital",children:"Criar Minha Carta Mestre"})]})}):a==="form"?T.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f23] via-[#1a1a3e] to-[#0f0f23] flex items-center justify-center p-4",children:[T.jsxs("div",{className:"w-full max-w-md",children:[T.jsxs("div",{className:"text-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-yellow-400 font-digital",children:"Crie sua Carta Mestre"}),T.jsx("p",{className:"text-gray-400 text-sm font-digital",children:"Preencha os dados para gerar seus atributos"})]}),T.jsxs("div",{className:"bg-[#ECE9D8] p-1 rounded-lg shadow-2xl border-2 border-yellow-500",children:[T.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 via-orange-500 to-red-500 px-4 py-2 rounded-t flex items-center gap-2",children:[T.jsx(zh,{className:"w-4 h-4 text-white"}),T.jsx("span",{className:"text-white font-bold text-sm drop-shadow font-digital",children:"Carta Fundador"})]}),T.jsxs("div",{className:"bg-white p-4 space-y-4",children:[T.jsx("div",{className:"flex justify-center",children:T.jsxs("label",{className:"cursor-pointer",children:[T.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-b from-[#6CA0DC] to-[#4B8BD4] p-1 shadow-lg hover:scale-105 transition-transform",children:T.jsx("div",{className:"w-full h-full rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:c.imageUrl?T.jsx("img",{src:c.imageUrl,alt:"Avatar",className:"w-full h-full object-cover"}):T.jsx(qg,{className:"w-8 h-8 text-gray-400"})})}),T.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})}),T.jsx("p",{className:"text-center text-xs text-gray-500",children:"Clique para adicionar foto"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Nick / Nome (mx. 12)"}),T.jsx("input",{type:"text",name:"name",maxLength:12,value:c.name,onChange:k,className:"w-full border border-[#7F9DB9] px-3 py-2 rounded focus:outline-none focus:border-yellow-500 text-sm text-black",placeholder:"Seu nome"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Idade"}),T.jsx("input",{type:"number",name:"age",value:c.age,onChange:k,className:"w-full border border-[#7F9DB9] px-3 py-2 rounded focus:outline-none focus:border-yellow-500 text-sm text-black",min:1,max:120})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Profisso / Hobby"}),T.jsx("input",{type:"text",name:"profession",value:c.profession,onChange:k,className:"w-full border border-[#7F9DB9] px-3 py-2 rounded focus:outline-none focus:border-yellow-500 text-sm text-black",placeholder:"Ex: Programador, Estudante"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Status"}),T.jsxs("select",{name:"maritalStatus",value:c.maritalStatus,onChange:k,className:"w-full border border-[#7F9DB9] px-3 py-2 rounded focus:outline-none focus:border-yellow-500 text-sm text-black bg-white",children:[T.jsx("option",{children:"Solteiro(a)"}),T.jsx("option",{children:"Casado(a)"}),T.jsx("option",{children:"Namorando"}),T.jsx("option",{children:"Complicado"})]})]}),T.jsx("button",{onClick:Y,disabled:!F,className:"w-full py-3 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white font-bold rounded shadow-lg hover:brightness-110 transition disabled:opacity-50 disabled:cursor-not-allowed font-digital",children:"Gerar Atributos com IA"})]})]})]}),h&&S&&T.jsx(Og,{imageSrc:S,onCancel:()=>{v(!1),_(null)},onCropComplete:P})]}):a==="generating"?T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f23] via-[#1a1a3e] to-[#0f0f23] flex items-center justify-center p-4",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"relative mb-8",children:T.jsx(Ja,{className:"w-16 h-16 mx-auto text-yellow-400 animate-spin"})}),T.jsx("h2",{className:"text-2xl font-bold text-yellow-400 font-digital mb-2",children:"Gerando sua carta..."}),T.jsx("p",{className:"text-gray-400 font-digital",children:"A IA est analisando seu perfil"})]})}):a==="preview"&&g?T.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f23] via-[#1a1a3e] to-[#0f0f23] flex flex-col items-center justify-center p-4",children:[T.jsx("h2",{className:"text-2xl font-bold text-yellow-400 font-digital mb-6",children:"Sua Carta Mestre!"}),T.jsx("div",{className:"mb-6",children:T.jsx(mi,{data:c,stats:g,rarity:"founder"})}),T.jsx("button",{onClick:H,disabled:x,className:"px-8 py-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white font-bold text-lg rounded-lg shadow-lg hover:scale-105 transition-transform font-digital disabled:opacity-50",children:x?"Salvando...":"Confirmar e Entrar no Jogo"})]}):null};var Fg=(i=>(i.FORM="FORM",i.CARD="CARD",i.ADMIN="ADMIN",i))(Fg||{});const Uu=["Solteiro(a)","Namorando","Casado(a)","Enrolado(a)","Complicado(a)","Vivo(a) do Orkut","Criana/Beb"],tb=()=>{const[i,t]=ne.useState("form"),[l,a]=ne.useState(!1),[r,c]=ne.useState(!1),[p,g]=ne.useState(null),[y,h]=ne.useState(!1),[v,S]=ne.useState(""),[_,x]=ne.useState(2),[U,k]=ne.useState(64),[w,P]=ne.useState({name:"",image:null,age:30,maritalStatus:Uu[0],profession:""}),[Y,H]=ne.useState("common"),[F,X]=ne.useState({attributes:[{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"}],specialAbility:"Aguardando dados..."});ne.useEffect(()=>{const M=setInterval(()=>{x(Math.floor(Math.random()*15)+1),Math.random()>.7&&k(J=>{const W=Math.floor(Math.random()*5)-2;return Math.max(60,Math.min(70,J+W))})},2e3);return()=>clearInterval(M)},[]);const Q=M=>{const{name:J,value:W}=M.target;P(j=>({...j,[J]:W}))},O=M=>{if(M.target.files&&M.target.files[0]){const J=new FileReader;J.onload=W=>{var j;(j=W.target)!=null&&j.result&&(g(W.target.result),c(!0))},J.readAsDataURL(M.target.files[0])}},ie=M=>{P(J=>({...J,image:M})),c(!1),g(null)},K=()=>{const M=Math.random();return M>=.99?"secret_rare":M>=.95?"ultra_rare":M>=.85?"rare":M>=.6?"uncommon":"common"},se=async()=>{if(!w.name||!w.profession){alert("Preencha todos os campos obrigatrios, para!");return}a(!0);try{const M=K();H(M);const J=await kg(w.age,w.profession,w.maritalStatus,w.name);["rare","ultra_rare","secret_rare"].includes(M)&&(J.attributes=J.attributes.map(W=>({...W,value:Math.min(100,W.value+20)}))),X(J),t("card")}catch{alert("Erro ao conectar com a Matrix. Tente de novo.")}finally{a(!1)}},ge=async()=>{const M=document.getElementById("holo-card-playground");if(!M)return;const J=M.firstElementChild;if(!J)return;const W=J.style.transform;J.style.transform="none";try{const j=await Da(M,{quality:1,pixelRatio:3,cacheBust:!0}),ae=document.createElement("a");ae.download=`amigo-trunfo-${w.name.replace(/\s+/g,"_")}.png`,ae.href=j,ae.click()}catch(j){console.error("Erro ao salvar imagem:",j),alert("Erro ao salvar imagem. Tente printar a tela,  mais roots.")}finally{J.style.transform=W}},Ce=async()=>{const M=document.getElementById("holo-card-playground");if(!M)return;const J=M.firstElementChild;if(!J)return;const W=J.style.transform;J.style.transform="none";try{const j=await Da(M,{quality:1,pixelRatio:2,cacheBust:!0}),ae=document.createElement("canvas");ae.width=1080,ae.height=1920;const b=ae.getContext("2d");if(!b)return;const z=b.createLinearGradient(0,0,1080,1920);z.addColorStop(0,"#1a1a2e"),z.addColorStop(.5,"#16213e"),z.addColorStop(1,"#0f3460"),b.fillStyle=z,b.fillRect(0,0,1080,1920),b.fillStyle="rgba(255,255,255,0.02)";for(let Ze=0;Ze<1920;Ze+=4)b.fillRect(0,Ze,1080,1);const Z=new Image;Z.src=j,await new Promise(Ze=>{Z.onload=Ze});const ee=2.2,ue=320*ee,he=480*ee,Ae=(1080-ue)/2,et=(1920-he)/2-50;b.drawImage(Z,Ae,et,ue,he),b.font="bold 48px Oxanium, sans-serif",b.fillStyle="#ffffff",b.textAlign="center",b.fillText("AMIGO TRUNFO",540,120),b.font="24px Oxanium, sans-serif",b.fillStyle="rgba(255,255,255,0.6)",b.fillText("Gerao XP",540,160);const Ve=await(await fetch(ae.toDataURL("image/png"))).blob(),jt=new File([Ve],`amigo-trunfo-story-${w.name.replace(/\s+/g,"_")}.png`,{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[jt]}))try{await navigator.share({files:[jt],title:"Minha carta Amigo Trunfo",text:"Confira minha carta do Amigo Trunfo! "})}catch{const Ze=document.createElement("a");Ze.download=jt.name,Ze.href=ae.toDataURL("image/png"),Ze.click()}else{const Ze=document.createElement("a");Ze.download=`amigo-trunfo-story-${w.name.replace(/\s+/g,"_")}.png`,Ze.href=ae.toDataURL("image/png"),Ze.click()}}catch(j){console.error("Erro ao gerar stories:",j),alert("Erro ao gerar imagem para stories.")}finally{J.style.transform=W}},pe=()=>{v==="trunfo2024"?(h(!1),t("admin")):alert("Senha incorreta!")},Ee={name:"Preview Card",image:"https://i.pravatar.cc/300",age:25,maritalStatus:"Solteiro(a)",profession:"Developer"},ke={attributes:[{label:"Cafena",value:95,icon:"zap"},{label:"Debug",value:80,icon:"laptop"},{label:"Carisma",value:70,icon:"smile"},{label:"Criatividade",value:85,icon:"brain"},{label:"Procrastinao",value:60,icon:"ghost"}],specialAbility:"Compila na primeira tentativa"};return T.jsxs("div",{className:"min-h-[600px] bg-[#2D4566] bg-[url('https://www.transparenttextures.com/patterns/grid-me.png')] p-4 rounded-lg relative overflow-hidden",children:[T.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-blue-500 rounded-full blur-[100px] opacity-20 animate-pulse"}),T.jsx("div",{className:"absolute bottom-10 right-10 w-64 h-64 bg-green-500 rounded-full blur-[120px] opacity-20"})]}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("div",{className:"bg-[#ECE9D8] rounded-lg shadow-2xl border-2 border-[#0054E3] overflow-hidden",children:[T.jsxs("div",{className:"bg-gradient-to-r from-[#0058EE] via-[#2F82FF] to-[#0054E3] px-3 py-2 flex justify-between items-center shadow-md",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/888/888865.png",alt:"icon",className:"w-5 h-5 drop-shadow"}),T.jsxs("h1",{className:"text-white font-bold text-shadow-sm font-digital tracking-wide",children:["Amigo Trunfo: Modo Diverso ",T.jsx("span",{className:"text-xs font-normal opacity-80 ml-2",children:"v1999.exe"})]})]}),T.jsx("div",{className:"flex gap-1",children:T.jsx("button",{onClick:()=>h(!0),className:"w-5 h-5 bg-yellow-400 border border-yellow-600 rounded shadow-inner flex items-center justify-center text-yellow-800 text-xs cursor-pointer hover:bg-yellow-300",children:""})})]}),T.jsxs("div",{className:"p-6 bg-[#ECE9D8]",children:[i==="form"&&T.jsxs("div",{className:"animate-fade-in flex flex-col md:flex-row gap-8",children:[T.jsxs("div",{className:"flex-1 space-y-4",children:[T.jsxs("div",{className:"bg-white p-4 border-2 border-[#ACA899] shadow-[inset_1px_1px_2px_rgba(0,0,0,0.1)] rounded",children:[T.jsxs("h2",{className:"font-digital font-bold text-[#0054E3] mb-4 flex items-center gap-2 border-b border-[#ACA899] pb-1",children:[T.jsx(Vh,{size:16})," Configurao do Perfil"]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Nick / Nome (mx. 12)"}),T.jsx("input",{type:"text",name:"name",maxLength:12,value:w.name,onChange:Q,className:"w-full border border-[#7F9DB9] px-2 py-1 focus:outline-none focus:border-[#E59700] text-sm text-black",placeholder:"Ex: Pedrinho"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Idade (Lvl)"}),T.jsx("input",{type:"number",name:"age",value:w.age,onChange:Q,className:"w-full border border-[#7F9DB9] px-2 py-1 focus:outline-none focus:border-[#E59700] text-sm text-black"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Estado Civil"}),T.jsx("select",{name:"maritalStatus",value:w.maritalStatus,onChange:Q,className:"w-full border border-[#7F9DB9] px-2 py-1 focus:outline-none focus:border-[#E59700] text-sm bg-white text-black",children:Uu.map(M=>T.jsx("option",{value:M,children:M},M))})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-bold",children:"Profisso / Hobby Principal"}),T.jsx("input",{type:"text",name:"profession",maxLength:20,value:w.profession,onChange:Q,className:"w-full border border-[#7F9DB9] px-2 py-1 focus:outline-none focus:border-[#E59700] text-sm text-black",placeholder:"Ex: Designer Sobrevivente"})]})]})]}),T.jsx("div",{className:"bg-white p-4 border-2 border-[#ACA899] shadow-[inset_1px_1px_2px_rgba(0,0,0,0.1)] rounded flex flex-col items-center justify-center min-h-[160px]",children:w.image?T.jsxs("div",{className:"relative group",children:[T.jsx("img",{src:w.image,alt:"Preview",className:"w-32 h-40 object-cover border-2 border-gray-300 shadow-md"}),T.jsx("button",{onClick:()=>P(M=>({...M,image:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow hover:bg-red-600",children:""})]}):T.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2 group",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center border-2 border-dashed border-gray-400 group-hover:border-[#0054E3] transition-colors",children:T.jsx(qg,{className:"text-gray-400 group-hover:text-[#0054E3]"})}),T.jsx("span",{className:"text-xs text-[#0054E3] underline group-hover:text-[#E59700]",children:"Carregar Foto (JPG/PNG)"}),T.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:O})]})})]}),T.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center space-y-6",children:[T.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded text-xs text-gray-600 max-w-xs",children:[T.jsx("p",{className:"font-bold mb-1",children:" Modo Diverso"}),T.jsx("p",{children:"Crie cartas para zoar os amigos! Essas cartas no so salvas no banco de dados."})]}),T.jsx("button",{onClick:se,disabled:l||!w.image,className:`
                      relative overflow-hidden px-8 py-3 rounded-md font-pixel text-xs font-bold text-white shadow-lg transition-all
                      ${l||!w.image?"bg-gray-400 cursor-not-allowed grayscale":"bg-gradient-to-b from-[#3A9E2D] to-[#2B7A1F] hover:brightness-110 active:scale-95 border-2 border-[#1E5716]"}
                    `,children:l?T.jsxs("span",{className:"flex items-center gap-2",children:[T.jsx(Vh,{className:"animate-spin",size:14})," Processando..."]}):T.jsxs("span",{className:"flex items-center gap-2",children:["GERAR TRUNFO ",T.jsx(zg,{size:14})]})})]})]}),i==="card"&&T.jsxs("div",{className:"animate-fade-in flex flex-col items-center",children:[T.jsx("div",{className:"mb-6 scale-100 md:scale-110 transition-transform",children:T.jsx("div",{id:"holo-card-playground",children:T.jsx(mi,{data:w,stats:F,rarity:Y})})}),T.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 justify-center",children:[T.jsxs("button",{onClick:()=>t("form"),className:"px-4 py-2 bg-gray-200 border border-gray-400 rounded shadow hover:bg-gray-300 text-gray-700 font-digital font-bold text-sm flex items-center gap-2",children:[T.jsx(qh,{size:16})," Voltar"]}),T.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-[#0054E3] border border-[#003692] rounded shadow hover:bg-[#0064FF] text-white font-digital font-bold text-sm flex items-center gap-2 active:translate-y-0.5",children:[T.jsx(Vg,{size:16})," Salvar Imagem"]}),T.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-500 border border-purple-700 rounded shadow hover:brightness-110 text-white font-digital font-bold text-sm flex items-center gap-2 active:translate-y-0.5",children:[T.jsx(Pg,{size:16})," Stories"]})]})]}),i==="admin"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h2",{className:"text-xl font-digital font-bold text-gray-800 flex items-center gap-2",children:[T.jsx(sA,{size:20})," Admin Preview - Todas as Raridades"]}),T.jsxs("button",{onClick:()=>t("form"),className:"px-3 py-1 bg-gray-200 border border-gray-400 rounded shadow hover:bg-gray-300 text-gray-700 font-digital text-sm flex items-center gap-2",children:[T.jsx(qh,{size:14})," Voltar"]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 overflow-x-auto pb-4",children:["common","uncommon","rare","ultra_rare","secret_rare","founder"].map(M=>T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("span",{className:"text-xs font-pixel mb-2 text-gray-600 uppercase",children:M.replace("_"," ")}),T.jsx("div",{className:"transform scale-75 origin-top",children:T.jsx(mi,{data:Ee,stats:ke,rarity:M})})]},M))})]})]}),T.jsxs("div",{className:"bg-[#ECE9D8] border-t border-[#ACA899] px-2 py-0.5 flex justify-between items-center text-[10px] text-gray-600 font-sans shadow-inner",children:[T.jsx("div",{className:"flex items-center gap-2",children:T.jsx("span",{children:"Pronto"})}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-24 h-3 bg-white border border-gray-400 relative shadow-inner",children:T.jsx("div",{className:"h-full bg-[#0054E3] transition-all duration-500",style:{width:`${_*3}%`}})}),T.jsxs("span",{children:["Memria: ",U,"MB / CPU: ",_,"%"]})]})]})]}),T.jsx("p",{className:"text-center text-white/50 text-[10px] mt-4 font-pixel",children:" 1999-2024 Amigo Trunfo Corp. All rights reserved."})]}),y&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-[#ECE9D8] p-1 rounded-lg shadow-2xl border-2 border-[#0054E3] w-full max-w-sm",children:[T.jsxs("div",{className:"bg-gradient-to-r from-[#0058EE] via-[#2F82FF] to-[#0054E3] px-2 py-1 flex justify-between items-center rounded-t mb-1",children:[T.jsx("span",{className:"text-white font-bold text-sm font-sans drop-shadow-md",children:" Admin Access"}),T.jsx("button",{onClick:()=>h(!1),className:"bg-[#D84631] hover:bg-[#E85641] text-white w-5 h-5 flex items-center justify-center rounded border border-white text-xs shadow-inner",children:"X"})]}),T.jsxs("div",{className:"p-4 bg-white border-2 border-[#ACA899]",children:[T.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Digite a senha de admin:"}),T.jsx("input",{type:"password",value:v,onChange:M=>S(M.target.value),onKeyDown:M=>M.key==="Enter"&&pe(),className:"w-full border border-[#7F9DB9] px-2 py-2 mb-3 focus:outline-none focus:border-[#E59700] text-sm text-black",placeholder:"Senha...",autoFocus:!0}),T.jsx("button",{onClick:pe,className:"w-full px-4 py-2 bg-[#0054E3] border border-[#003692] rounded shadow hover:bg-[#0064FF] text-white font-digital font-bold text-sm",children:"Entrar"})]})]})}),r&&p&&T.jsx(Og,{imageSrc:p,onCancel:()=>{c(!1),g(null)},onCropComplete:ie})]})},nb=({userId:i,packsAvailable:t,onPackOpened:l,onClose:a})=>{const[r,c]=ne.useState("ready"),[p,g]=ne.useState([]),[y,h]=ne.useState(-1),[v,S]=ne.useState(!1),[_,x]=ne.useState(null),U=async()=>{if(!(t<=0)){S(!0),x(null),c("shaking");try{const{data:H,error:F}=await st.from("cards").select("*").eq("is_npc",!0).limit(10);if(F)throw F;if(!H||H.length===0)throw new Error("Nenhuma carta disponvel no pool");const X=H.sort(()=>Math.random()-.5),Q=X.slice(0,Math.min(3,X.length));await new Promise(O=>setTimeout(O,1500)),c("opening"),await new Promise(O=>setTimeout(O,1e3)),g(Q),h(0),c("revealing");for(const O of Q)await st.from("user_cards").insert({user_id:i,card_id:O.id,is_avatar:!1});await st.from("profiles").update({packs_available:t-1}).eq("id",i)}catch(H){console.error("Error opening pack:",H),x(H.message||"Erro ao abrir pack"),c("ready")}finally{S(!1)}}},k=()=>{y<p.length-1?h(H=>H+1):c("done")},w=()=>{l(),a()},P=H=>({name:H.name,image:H.image_url,imageUrl:H.image_url,age:25,maritalStatus:"NPC",profession:H.profession}),Y=H=>({attributes:[{label:"Energia",value:H.attr_0,icon:"zap"},{label:"Estilo",value:H.attr_1,icon:"smile"},{label:"Audcia",value:H.attr_2,icon:"rocket"},{label:"Social",value:H.attr_3,icon:"heart"},{label:"Skill",value:H.attr_4,icon:"laptop"}],specialAbility:H.special_ability});return T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",children:[T.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 text-white/50 hover:text-white transition",children:T.jsx(BA,{size:24})}),T.jsxs("div",{className:"text-center max-w-4xl w-full px-4",children:[r==="ready"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("div",{className:"relative inline-block mb-8",children:[T.jsxs("div",{className:"w-48 h-64 mx-auto bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 rounded-2xl shadow-2xl flex items-center justify-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')] opacity-30"}),T.jsx(qa,{className:"w-20 h-20 text-white drop-shadow-lg relative z-10"}),T.jsx(Wt,{className:"absolute top-4 right-4 w-6 h-6 text-yellow-200 animate-pulse"}),T.jsx(Wt,{className:"absolute bottom-4 left-4 w-6 h-6 text-yellow-200 animate-pulse"})]}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 via-orange-500/20 to-red-500/20 blur-3xl -z-10 scale-150"})]}),T.jsx("h2",{className:"text-3xl font-bold text-yellow-400 font-digital mb-4",children:"Pack de Cartas"}),T.jsxs("p",{className:"text-gray-400 mb-2",children:["Voc tem ",t," pack(s) disponveis"]}),T.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Cada pack contm 3 cartas aleatrias!"}),_&&T.jsx("p",{className:"text-red-400 mb-4",children:_}),T.jsx("button",{onClick:U,disabled:t<=0||v,className:`px-8 py-4 font-bold text-lg rounded-lg shadow-lg transition-all font-digital ${t>0&&!v?"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white hover:scale-105 hover:shadow-xl":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:v?"Abrindo...":"Abrir Pack!"})]}),r==="shaking"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("div",{className:"w-48 h-64 mx-auto bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 rounded-2xl shadow-2xl flex items-center justify-center relative overflow-hidden animate-shake",children:[T.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')] opacity-30"}),T.jsx(qa,{className:"w-20 h-20 text-white drop-shadow-lg relative z-10"}),[...Array(20)].map((H,F)=>T.jsx(Wt,{className:"absolute text-yellow-200 animate-ping",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${8+Math.random()*16}px`,animationDelay:`${Math.random()*.5}s`}},F))]}),T.jsx("p",{className:"text-2xl font-bold text-yellow-400 font-digital mt-8 animate-pulse",children:"Preparando..."})]}),r==="opening"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("div",{className:"w-48 h-64 mx-auto bg-gradient-to-br from-white via-yellow-100 to-yellow-300 rounded-2xl shadow-2xl flex items-center justify-center relative overflow-hidden animate-pulse",children:[T.jsx("div",{className:"absolute inset-0 bg-white/50"}),T.jsx(Wt,{className:"w-24 h-24 text-yellow-500 animate-spin relative z-10"})]}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:T.jsx("div",{className:"w-96 h-96 bg-gradient-radial from-yellow-400/50 via-transparent to-transparent rounded-full animate-ping"})}),T.jsx("p",{className:"text-2xl font-bold text-white font-digital mt-8",children:" Revelando! "})]}),r==="revealing"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 font-digital mb-6",children:["Carta ",y+1," de ",p.length]}),T.jsx("div",{className:"flex justify-center items-center gap-8 mb-8",children:p.map((H,F)=>T.jsx("div",{className:`transition-all duration-500 ${F<=y?"opacity-100 scale-100":"opacity-0 scale-50 pointer-events-none absolute"}`,children:F<=y&&T.jsx("div",{className:"transform hover:scale-105 transition-transform",children:T.jsx(mi,{data:P(H),stats:Y(H),rarity:H.rarity})})},H.id))}),T.jsx("button",{onClick:k,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-bold text-lg rounded-lg shadow-lg hover:scale-105 transition-all font-digital flex items-center gap-2 mx-auto",children:y<p.length-1?T.jsxs(T.Fragment,{children:["Prxima Carta ",T.jsx(zg,{size:20})]}):T.jsxs(T.Fragment,{children:["Concluir ",T.jsx(Wt,{size:20})]})})]}),r==="done"&&T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("h2",{className:"text-3xl font-bold text-yellow-400 font-digital mb-4",children:" Pack Aberto! "}),T.jsxs("p",{className:"text-gray-400 mb-8",children:["Voc obteve ",p.length," novas cartas para sua coleo!"]}),T.jsx("div",{className:"flex justify-center items-center gap-4 mb-8 flex-wrap",children:p.map(H=>T.jsx("div",{className:"transform scale-75",children:T.jsx(mi,{data:P(H),stats:Y(H),rarity:H.rarity})},H.id))}),T.jsx("button",{onClick:w,className:"px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold text-lg rounded-lg shadow-lg hover:scale-105 transition-all font-digital",children:"Voltar ao Menu"})]})]}),T.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0) rotate(0); }
          10% { transform: translateX(-5px) rotate(-2deg); }
          20% { transform: translateX(5px) rotate(2deg); }
          30% { transform: translateX(-5px) rotate(-2deg); }
          40% { transform: translateX(5px) rotate(2deg); }
          50% { transform: translateX(-5px) rotate(-2deg); }
          60% { transform: translateX(5px) rotate(2deg); }
          70% { transform: translateX(-5px) rotate(-2deg); }
          80% { transform: translateX(5px) rotate(2deg); }
          90% { transform: translateX(-3px) rotate(-1deg); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out infinite;
        }
        .animate-fade-in {
          animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})},ib=({userId:i,userEmail:t,onSignOut:l})=>{const[a,r]=ne.useState(null),[c,p]=ne.useState(null),[g,y]=ne.useState(!0),[h,v]=ne.useState("home"),[S,_]=ne.useState(!1),[x,U]=ne.useState([]);ne.useEffect(()=>{k()},[i]);const k=async()=>{try{const{data:F}=await st.from("profiles").select("username, xp, level, packs_available").eq("id",i).single();F&&r(F);const{data:X}=await st.from("user_cards").select("card_id").eq("user_id",i).eq("is_avatar",!0).single();if(X){const{data:O}=await st.from("cards").select("*").eq("id",X.card_id).single();O&&p(O)}const{data:Q}=await st.from("user_cards").select("card_id, is_avatar").eq("user_id",i);if(Q&&Q.length>0){const O=Q.map(K=>K.card_id),{data:ie}=await st.from("cards").select("*").in("id",O);ie&&U(ie)}}catch(F){console.error("Error loading user data:",F)}finally{y(!1)}},w=()=>({name:(c==null?void 0:c.name)||"",image:(c==null?void 0:c.image_url)||null,imageUrl:(c==null?void 0:c.image_url)||"",age:25,maritalStatus:"Solteiro(a)",profession:(c==null?void 0:c.profession)||""}),P=()=>({attributes:[{label:"Energia",value:(c==null?void 0:c.attr_0)||50,icon:"zap"},{label:"Estilo",value:(c==null?void 0:c.attr_1)||50,icon:"smile"},{label:"Audcia",value:(c==null?void 0:c.attr_2)||50,icon:"rocket"},{label:"Social",value:(c==null?void 0:c.attr_3)||50,icon:"heart"},{label:"Skill",value:(c==null?void 0:c.attr_4)||50,icon:"laptop"}],specialAbility:(c==null?void 0:c.special_ability)||"Nenhuma"}),Y=async()=>{const F=document.getElementById("avatar-card");if(!F)return;const X=F.firstElementChild;if(!X)return;const Q=X.style.transform;X.style.transform="none";try{const O=await Da(F,{quality:1,pixelRatio:3,cacheBust:!0}),ie=document.createElement("a");ie.download=`carta-mestre-${(c==null?void 0:c.name)||"fundador"}.png`,ie.href=O,ie.click()}catch(O){console.error("Erro ao salvar imagem:",O),alert("Erro ao salvar imagem.")}finally{X.style.transform=Q}},H=async()=>{const F=document.getElementById("avatar-card");if(!F)return;const X=F.firstElementChild;if(!X)return;const Q=X.style.transform;X.style.transform="none";try{const O=await Da(F,{quality:1,pixelRatio:2,cacheBust:!0}),ie=document.createElement("canvas");ie.width=1080,ie.height=1920;const K=ie.getContext("2d");if(!K)return;const se=K.createLinearGradient(0,0,1080,1920);se.addColorStop(0,"#1a1a2e"),se.addColorStop(.5,"#16213e"),se.addColorStop(1,"#0f3460"),K.fillStyle=se,K.fillRect(0,0,1080,1920);const ge=new Image;ge.src=O,await new Promise(j=>{ge.onload=j});const Ce=2.2,pe=320*Ce,Ee=480*Ce,ke=(1080-pe)/2,M=(1920-Ee)/2-50;K.drawImage(ge,ke,M,pe,Ee),K.font="bold 48px Oxanium, sans-serif",K.fillStyle="#ffffff",K.textAlign="center",K.fillText("AMIGO TRUNFO",540,120),K.font="24px Oxanium, sans-serif",K.fillStyle="rgba(255,255,255,0.6)",K.fillText("Carta Mestre - Fundador",540,160);const J=await(await fetch(ie.toDataURL("image/png"))).blob(),W=new File([J],`carta-mestre-${(c==null?void 0:c.name)||"fundador"}-story.png`,{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[W]}))try{await navigator.share({files:[W],title:"Minha Carta Mestre",text:"Confira minha Carta Mestre do Amigo Trunfo! "})}catch{const j=document.createElement("a");j.download=W.name,j.href=ie.toDataURL("image/png"),j.click()}else{const j=document.createElement("a");j.download=W.name,j.href=ie.toDataURL("image/png"),j.click()}}catch(O){console.error("Erro ao gerar stories:",O),alert("Erro ao gerar imagem para stories.")}finally{X.style.transform=Q}};return g?T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#245EDC] to-[#3B7DD8] flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-white font-digital",children:"Carregando seu perfil..."})]})}):T.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-b from-[#245EDC] to-[#3B7DD8]",children:[T.jsx("header",{className:"bg-gradient-to-r from-[#0058EE] via-[#2F82FF] to-[#0054E3] px-4 py-3 shadow-lg",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/888/888865.png",alt:"icon",className:"w-8 h-8 drop-shadow"}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-bold text-white font-digital drop-shadow",children:"Amigo Trunfo XP"}),T.jsx("p",{className:"text-xs text-blue-200",children:"Gerao XP"})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-white font-digital text-sm drop-shadow",children:(a==null?void 0:a.username)||"Jogador"}),T.jsxs("p",{className:"text-xs text-blue-200",children:[(a==null?void 0:a.level)||"Fundador","  ",(a==null?void 0:a.xp)||0," XP"]})]}),T.jsxs("button",{onClick:l,className:"px-3 py-1.5 bg-gradient-to-b from-[#FFB8B8] to-[#E07070] border border-red-500 text-red-800 rounded text-sm font-bold hover:brightness-110 transition flex items-center gap-1",children:[T.jsx(EA,{size:14}),"Sair"]})]})]})}),T.jsx("nav",{className:"bg-[#ECE9D8] border-b-2 border-[#ACA899] shadow-inner",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex",children:[T.jsxs("button",{onClick:()=>v("home"),className:`flex-1 py-2 px-4 flex items-center justify-center gap-2 font-digital text-sm transition border-r border-[#ACA899] ${h==="home"?"bg-white text-[#0054E3] font-bold shadow-inner":"text-gray-700 hover:bg-white/50"}`,children:[T.jsx(Bg,{size:16}),"Meu Perfil"]}),T.jsxs("button",{onClick:()=>v("collection"),className:`flex-1 py-2 px-4 flex items-center justify-center gap-2 font-digital text-sm transition border-r border-[#ACA899] ${h==="collection"?"bg-white text-[#0054E3] font-bold shadow-inner":"text-gray-700 hover:bg-white/50"}`,children:[T.jsx(qa,{size:16}),"Packs (",(a==null?void 0:a.packs_available)||0,")"]}),T.jsxs("button",{onClick:()=>v("battle"),className:`flex-1 py-2 px-4 flex items-center justify-center gap-2 font-digital text-sm transition border-r border-[#ACA899] ${h==="battle"?"bg-white text-[#0054E3] font-bold shadow-inner":"text-gray-700 hover:bg-white/50"}`,children:[T.jsx(Ph,{size:16}),"Batalhar"]}),T.jsxs("button",{onClick:()=>v("create"),className:`flex-1 py-2 px-4 flex items-center justify-center gap-2 font-digital text-sm transition ${h==="create"?"bg-white text-[#0054E3] font-bold shadow-inner":"text-gray-700 hover:bg-white/50"}`,children:[T.jsx(qA,{size:16}),"Criar Carta"]})]})}),T.jsx("main",{className:"flex-1 overflow-y-auto",children:T.jsxs("div",{className:"max-w-6xl mx-auto p-4 pb-8",children:[h==="home"&&c&&T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsxs("div",{className:"text-center mb-6",children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[T.jsx(Wt,{className:"w-5 h-5 text-white"}),T.jsx("h2",{className:"text-2xl font-bold text-white font-digital drop-shadow",children:"Sua Carta Mestre"}),T.jsx(Wt,{className:"w-5 h-5 text-white"})]}),T.jsx("p",{className:"text-blue-200 text-sm",children:"Carta exclusiva de Fundador"})]}),T.jsx("div",{id:"avatar-card",className:"transform hover:scale-105 transition-transform duration-300",children:T.jsx(mi,{data:w(),stats:P(),rarity:c.rarity||"founder"})}),T.jsxs("div",{className:"flex gap-3 mt-6",children:[T.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-b from-[#78C257] to-[#4E9A2F] border-2 border-[#3A7A1F] hover:brightness-110 text-white font-bold font-digital rounded shadow transition",children:[T.jsx(Vg,{size:16}),"Baixar"]}),T.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-500 border border-purple-700 hover:brightness-110 text-white font-bold font-digital rounded shadow transition",children:[T.jsx(Pg,{size:16}),"Stories"]})]}),T.jsxs("div",{className:"mt-8 bg-[#ECE9D8] border-2 border-[#ACA899] rounded-lg p-4 w-full max-w-md shadow",children:[T.jsxs("h3",{className:"text-[#0054E3] font-digital mb-3 flex items-center gap-2 font-bold",children:[T.jsx(Ja,{className:"w-4 h-4"}),"Estatsticas"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[T.jsx("div",{className:"text-gray-600",children:"Cartas na coleo:"}),T.jsx("div",{className:"text-gray-800 font-bold",children:x.length}),T.jsx("div",{className:"text-gray-600",children:"Batalhas vencidas:"}),T.jsx("div",{className:"text-gray-800 font-bold",children:"0"}),T.jsx("div",{className:"text-gray-600",children:"Packs disponveis:"}),T.jsx("div",{className:"text-gray-800 font-bold",children:(a==null?void 0:a.packs_available)||0})]})]}),x.length>1&&T.jsxs("div",{className:"mt-8 w-full",children:[T.jsxs("h3",{className:"text-white font-digital mb-4 flex items-center gap-2 justify-center drop-shadow",children:[T.jsx(yA,{className:"w-5 h-5"}),"Sua Coleo (",x.length," cartas)"]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:x.map(F=>T.jsx("div",{className:"transform scale-75 origin-top hover:scale-80 transition-transform",children:T.jsx(mi,{data:{name:F.name,image:F.image_url,imageUrl:F.image_url,age:25,maritalStatus:"NPC",profession:F.profession},stats:{attributes:[{label:"Energia",value:F.attr_0,icon:"zap"},{label:"Estilo",value:F.attr_1,icon:"smile"},{label:"Audcia",value:F.attr_2,icon:"rocket"},{label:"Social",value:F.attr_3,icon:"heart"},{label:"Skill",value:F.attr_4,icon:"laptop"}],specialAbility:F.special_ability},rarity:F.rarity})},F.id))})]})]}),h==="collection"&&T.jsx("div",{className:"text-center py-12",children:T.jsxs("div",{className:"bg-[#ECE9D8] border-2 border-[#ACA899] rounded-lg p-8 max-w-md mx-auto shadow-lg",children:[T.jsx(qa,{className:"w-24 h-24 mx-auto text-[#0054E3] mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-[#0054E3] font-digital mb-2",children:"Abrir Packs"}),T.jsxs("p",{className:"text-gray-600 mb-6",children:["Voc tem ",(a==null?void 0:a.packs_available)||0," packs disponveis"]}),((a==null?void 0:a.packs_available)||0)>0?T.jsx("button",{onClick:()=>_(!0),className:"px-8 py-4 bg-gradient-to-b from-[#78C257] to-[#4E9A2F] border-2 border-[#3A7A1F] text-white font-bold text-lg rounded shadow-lg hover:brightness-110 transition font-digital",children:" Abrir Pack (3 cartas)"}):T.jsx("p",{className:"text-gray-500",children:"Volte amanh para mais packs!"}),T.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Cada pack contm 3 cartas aleatrias de NPCs famosos!"})]})}),h==="battle"&&T.jsx("div",{className:"text-center py-12",children:T.jsxs("div",{className:"bg-[#ECE9D8] border-2 border-[#ACA899] rounded-lg p-8 max-w-md mx-auto shadow-lg",children:[T.jsx(Ph,{className:"w-24 h-24 mx-auto text-[#0054E3] mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-[#0054E3] font-digital mb-2",children:"Arena de Batalha"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Desafie outros jogadores e NPCs famosos!"}),T.jsx("button",{className:"px-8 py-4 bg-gray-300 border-2 border-gray-400 text-gray-500 font-bold text-lg rounded shadow font-digital cursor-not-allowed",disabled:!0,children:" Em Breve"}),T.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Fase 3 do desenvolvimento"})]})}),h==="create"&&T.jsx(tb,{})]})}),S&&T.jsx(nb,{userId:i,packsAvailable:(a==null?void 0:a.packs_available)||0,onPackOpened:()=>{k()},onClose:()=>_(!1)})]})};function ob(){const[i,t]=ne.useState("loading"),[l,a]=ne.useState(null),[r,c]=ne.useState(!1),[p,g]=ne.useState(Fg.FORM),[y,h]=ne.useState(!1),[v,S]=ne.useState(!1),[_,x]=ne.useState(null),[U,k]=ne.useState(""),[w,P]=ne.useState(!1),[Y,H]=ne.useState(2),[F,X]=ne.useState(64),[Q,O]=ne.useState({name:"",image:null,age:30,maritalStatus:Uu[0],profession:""}),[ie,K]=ne.useState("common"),[se,ge]=ne.useState({attributes:[{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"},{label:"???",value:0,icon:"skull"}],specialAbility:"Aguardando dados..."});ne.useEffect(()=>{let Ee=!0,ke=!1;const M=async j=>{console.log("Checking avatar for user:",j);try{const{data:ae,error:b}=await st.from("user_cards").select("id").eq("user_id",j).eq("is_avatar",!0).maybeSingle();return console.log("Avatar check result:",{userCards:ae,error:b}),b?(console.error("Error checking avatar:",b),!1):!!ae}catch(ae){return console.error("Avatar check error:",ae),!1}},J=async()=>{if(!ke){ke=!0;try{console.log("Checking auth state...");const{data:{session:j},error:ae}=await st.auth.getSession();if(!Ee)return;if(ae||!(j!=null&&j.user)){console.log("No valid session"),t("unauthenticated");return}console.log("Session found for user:",j.user.email),a(j.user);const b=await M(j.user.id);if(!Ee)return;b?(console.log("Avatar found, setting authenticated"),c(!0),t("authenticated")):(console.log("No avatar, setting onboarding"),t("onboarding"))}catch(j){console.error("Init auth error:",j),Ee&&t("unauthenticated")}}},{data:{subscription:W}}=st.auth.onAuthStateChange(async(j,ae)=>{var b;if(console.log("Auth state changed:",j,(b=ae==null?void 0:ae.user)==null?void 0:b.email),!!Ee){if(j==="SIGNED_OUT")a(null),c(!1),t("unauthenticated"),ke=!1;else if(j==="SIGNED_IN"&&(ae!=null&&ae.user)&&!ke){a(ae.user);const z=await M(ae.user.id);Ee&&(c(z),t(z?"authenticated":"onboarding")),ke=!0}}});return setTimeout(()=>{Ee&&J()},100),()=>{Ee=!1,W.unsubscribe()}},[]);const Ce=async()=>{await O1(),a(null),c(!1),t("unauthenticated")},pe=()=>{c(!0),t("authenticated")};return ne.useEffect(()=>{const Ee=setInterval(()=>{H(Math.floor(Math.random()*15)+1),Math.random()>.7&&X(ke=>{const M=Math.floor(Math.random()*5)-2;return Math.max(60,Math.min(70,ke+M))})},2e3);return()=>clearInterval(Ee)},[]),ne.useEffect(()=>{new URLSearchParams(window.location.search).get("admin")==="true"&&P(!0)},[]),T.jsxs(T.Fragment,{children:[i==="loading"&&T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#245EDC] to-[#3B7DD8] flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-white font-digital",children:"Carregando..."})]})}),i==="unauthenticated"&&T.jsx(QA,{}),i==="onboarding"&&l&&T.jsx(eb,{userId:l.id,userEmail:l.email||"",onComplete:pe}),i==="authenticated"&&l&&T.jsx(ib,{userId:l.id,userEmail:l.email||"",onSignOut:Ce})]})}const Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");const lb=Nv.createRoot(Yg);lb.render(T.jsx(Ev.StrictMode,{children:T.jsx(ob,{})}));
